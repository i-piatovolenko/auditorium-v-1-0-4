{"version":3,"sources":["components/button/button.module.css","pages/queue/queue.module.css","components/classroomSchedule/classroomSchedule.module.css","components/icons/edit/edit.module.css","pages/admin/users/browseUserPopupBody/browseUserPopupBody.module.css","components/headerCheckBox/headerCheckbox.module.css","pages/admin/admin/admin.module.css","components/ classroomInfo/occupantRegistration/occupantRegistration.module.css","pages/admin/schedule/scheduleUnitRow/scheduleUnitRow.module.css","components/layout/layout.module.css","components/userProfile/userProfile.module.css","components/loader/loader.module.css","pages/profile/profile.module.css","pages/admin/classrooms/browseClassroomPopupBody/browseClassroomPopupBody.module.css","pages/admin/users/adminUsers.module.css","components/tag/tag.module.css","components/splash/splash.module.css","pages/admin/schedule/dayTabs/dayTabs.module.css","components/classroom/classroom.module.css","styles/main.module.css","components/layout/content/content.module.css","components/header/header.module.css","components/title/title.module.css","components/icons/add/add.module.css","components/layout/sidebar/sidebar.module.css","components/icons/delete/delete.module.css","components/icons/back/back.module.css","components/ classroomInfo/classroomInfo.module.css","components/tooltip/tooltip.module.css","components/caviar/caviar.module.css","pages/admin/instruments/createInstrumentPopupBody/createInstrumentPopupBody.module.css","pages/admin/instruments/browseInstrumentPopupBody/browseInstrumentPopupBody.module.css","pages/admin/schedule/scheduleUnitPopup/scheduleUnitPopup.module.css","models/models.ts","components/logo/Logo.tsx","assets/images/menu.svg","assets/images/classrooms.svg","assets/images/registry.svg","assets/images/users.svg","assets/images/settings.svg","assets/images/schedule.svg","api/operations/queries/users.ts","components/button/Button.tsx","components/popupWindow/PopupWindow.tsx","api/client.ts","components/popupWindow/PopupWindowProvider.tsx","api/operations/mutations/disableDispatcher.ts","components/notification/Notification.tsx","components/notification/NotificationProvider.tsx","api/operations/queries/dispatcherActive.ts","helpers/logout.ts","components/layout/sidebar/Sidebar.tsx","assets/images/queue.png","components/header/Header.tsx","api/operations/queries/register.ts","helpers/getMinutsWithZero.ts","helpers/constants.ts","helpers/helpers.ts","components/title/Title.tsx","components/userProfile/UserProfile.tsx","pages/registry/Registry.tsx","pages/registry/PDFConfig.ts","api/operations/queries/schedule.ts","helpers/scheduleHelpers.ts","pages/schedule/ScheduleUnitList.tsx","components/scheduleUnit/ScheduleUnit.tsx","api/operations/queries/classrooms.ts","hooks/useLocal.ts","assets/images/edit.svg","components/icons/edit/Edit.tsx","pages/schedule/Schedule.tsx","components/headerSelect/selectStyles.ts","components/headerSelect/HeaderSelect.tsx","components/dataList/DataList.tsx","pages/admin/users/browseUserPopupBody/BrowseUserPopupBody.tsx","api/operations/mutations/verifyUser.ts","components/headerCheckBox/HeaderCheckbox.tsx","assets/images/loader.svg","components/loader/Loader.tsx","api/operations/mutations/deleteUser.ts","helpers/handleOperation.ts","pages/users/approveFooter/DeleteUserConfirmPopup.tsx","pages/admin/users/verifyButton/VerifyButton.tsx","components/customInput/CustomInput.tsx","helpers/validators.ts","api/operations/mutations/completeEmployeeAccountRequestEmail.ts","pages/users/completeEmployeeAccount/CompleteEmployeeAccountPopupBody.tsx","api/operations/mutations/updateUser.ts","pages/users/Users.tsx","pages/users/helpers/helpers.ts","hooks/useUsers.ts","pages/profile/Profile.tsx","hooks/useMe.ts","api/operations/mutations/createClassroom.ts","styles/selectStyles.ts","api/operations/queries/instruments.ts","hooks/useInstruments.ts","api/operations/queries/departments.ts","hooks/useDepartments.ts","assets/images/addLined.svg","api/operations/mutations/updateClassroom.ts","pages/admin/classrooms/createClassroomPopupBody/CreateClassroomPopupBody.tsx","api/operations/mutations/deleteClassroom.ts","assets/images/add.svg","components/icons/add/Add.tsx","assets/images/delete.svg","components/icons/delete/Delete.tsx","pages/admin/classrooms/browseClassroomPopupBody/BrowseClassroomPopupBody.tsx","components/icons/back/Back.tsx","assets/images/back.png","pages/admin/classrooms/AdminClassrooms.tsx","api/operations/mutations/signupEmployee.ts","pages/admin/users/editUserPopupBody/EditUserPopupBody.tsx","pages/admin/users/AdminUsers.tsx","pages/admin/admin/Admin.tsx","assets/images/uprightPiano.svg","assets/images/grandPiano.svg","assets/images/star.svg","components/instruments/Instruments.tsx","api/operations/mutations/disableClassroom.ts","api/operations/mutations/freeClassroom.ts","api/operations/mutations/giveOutClassroomKey.ts","components/footer/ConfirmFooter.tsx","components/footer/ConfirmBody.tsx","api/operations/mutations/enableClassroom.ts","components/DisableClassroom.tsx","api/operations/mutations/releaseKeyHolder.ts","api/operations/mutations/occupyClassroom.ts","helpers/useClassroomActions.tsx","components/ classroomInfo/occupantInfo/OccupantInfo.tsx","assets/images/clock.svg","components/ classroomInfo/occupantRegistration/chooseTime/ChooseTime.tsx","components/ classroomInfo/occupantRegistration/OccupantRegistration.tsx","api/operations/queries/classroom.ts","api/operations/queries/scheduleUnits.ts","components/classroomSchedule/ClassroomScheduleUnit.tsx","components/classroomSchedule/ClassroomSchedule.tsx","components/ classroomInfo/ClassroomInfo.tsx","components/tooltip/Tooltip.tsx","components/tag/Tag.tsx","components/footer/Footer.tsx","assets/images/specialPiano.svg","assets/images/unlock.svg","assets/images/lock.svg","components/classroom/Classroom.tsx","components/caviar/CaviarItem.tsx","components/caviar/Caviar.tsx","hooks/useClassrooms.tsx","helpers/filterClassrooms.ts","api/operations/subscriptions/classrooms.ts","api/operations/subscriptions/users.ts","api/operations/subscriptions/dispatcherStatus.ts","api/operations/queries/crashMode.ts","pages/classrooms/CrashModeAlert.tsx","pages/classrooms/Classrooms.tsx","api/operations/mutations/createInstrument.ts","api/operations/mutations/updateInstrument.ts","pages/admin/instruments/createInstrumentPopupBody/CreateInstrumentPopupBody.tsx","api/operations/mutations/deleteInstrument.ts","pages/admin/instruments/browseInstrumentPopupBody/BrowseInstrumentPopupBody.tsx","pages/admin/instruments/AdminInstruments.tsx","api/operations/queries/faculties.ts","hooks/useFaculties.ts","api/operations/mutations/createDepartment.ts","api/operations/mutations/updateDepartment.ts","pages/admin/departments/createDepartmentPopupBody/CreateDepartmentPopupBody.tsx","api/operations/mutations/deleteDepartment.ts","pages/admin/departments/AdminDepartments.tsx","api/operations/mutations/createFaculty.ts","api/operations/mutations/updateFaculty.ts","pages/admin/faculties/createFacultyPopupBody/CreateFacultyPopupBody.tsx","api/operations/mutations/deleteFaculty.ts","pages/admin/faculties/AdminFaculties.tsx","api/operations/mutations/createDegree.ts","api/operations/mutations/updateDegree.ts","pages/admin/degrees/createDegreePopupBody/CreateDegreePopupBody.tsx","api/operations/queries/degrees.ts","hooks/useDegrees.ts","api/operations/mutations/deleteDegree.ts","pages/admin/degrees/AdminDegrees.tsx","api/operations/mutations/login.ts","pages/login/Login.tsx","api/operations/queries/generalQueue.ts","api/operations/queries/pendingClassrooms.ts","localize/localize.ts","api/operations/queries/freeClassrooms.ts","assets/images/au_logo.png","components/splash/Splash.tsx","pages/dashboard/Dashboard.tsx","api/operations/queries/usersQueue.ts","api/operations/mutations/removeUserFromQueue.ts","api/operations/mutations/addUserToQueue.ts","pages/queue/Queue.tsx","api/operations/mutations/crashModeSwitchOn.ts","api/operations/mutations/crashModeSwitchOff.ts","pages/admin/dispatcherSettings/ConfirmCrashModeBody.tsx","pages/admin/dispatcherSettings/sections/CrashModeSettingsSection.tsx","pages/admin/dispatcherSettings/SectionTitle.tsx","pages/admin/dispatcherSettings/SectionHint.tsx","pages/admin/dispatcherSettings/DispatcherSettingsSection.tsx","pages/admin/dispatcherSettings/DispatcherSettings.tsx","pages/admin/schedule/AdminSchedule.tsx","pages/admin/schedule/dayTabs/DayTabs.tsx","api/operations/mutations/deleteScheduleUnit.ts","api/operations/mutations/updateScheduleUnit.ts","api/operations/mutations/createScheduleUnit.ts","api/operations/queries/scheduleSubUnits.ts","pages/admin/schedule/scheduleUnitPopup/ScheduleUnitPopup.tsx","pages/admin/schedule/scheduleUnitRow/ScheduleUnitRow.tsx","pages/admin/schedule/AdminScheduleClassroom.tsx","components/errorHandler/ErrorHandler.tsx","components/layout/content/Content.tsx","components/layout/Layout.tsx","App.tsx","reportWebVitals.ts","index.tsx","pages/dashboard/dashboard.module.css","components/notification/notification.module.css","pages/admin/dispatcherSettings/dispatcherSettings.module.css","pages/classrooms/classrooms.module.css","components/logo/logo.module.css","components/popupWindow/popupWindow.module.css","pages/admin/classrooms/createClassroomPopupBody/createClassroomPopupBody.module.css","components/ classroomInfo/occupantInfo/occupantInfo.module.css","pages/registry/registry.module.css","components/scheduleUnit/scheduleUnit.module.css","pages/admin/schedule/scheduleAdmin.module.css","pages/schedule/schedule.module.css","components/customInput/customInput.module.css","pages/admin/classrooms/adminClassrooms.module.css","components/instruments/instruments.module.css","pages/admin/departments/adminDepartments.module.css","pages/users/users.module.css","components/dataList/dataList.module.css","pages/admin/instruments/adminInstruments.module.css","pages/login/login.module.css"],"names":["module","exports","ACCESS_RIGHTS","ErrorCodesUa","ErrorCodes","EmploymentTypes","EmploymentTypesUa","UserTypes","UserTypesUa","UserTypeColors","ActivityTypes","NotificationsTypes","OccupiedState","OccupiedStateUa","DisabledState","ScheduleUnitActivityT","ScheduleUnitTypeT","ClassroomsFilterTypes","QueueState","QueueType","EnqueuedBy","UserQueueState","StudentAccountStatus","EmployeeAccountStatus","QueuePolicyTypes","SpecialClassroomTypes","InstrumentTypesE","InstrumentTypesEUa","Logo","title","description","size","className","styles","logoWrapper","logo","smallLogo","logoText","logoTitle","smallLogoTitle","logoDescription","GET_USERS","gql","GET_USER_BY_ID","GET_USER_OCCUPIED_CLASSROOMS_BY_USER_ID","Button","children","onClick","kind","type","color","disabled","style","undefined","form","button","sizes","join","PopupWindow","header","body","dispatch","footer","isConfirm","useState","entering","setEntering","onClose","setTimeout","footerWithProps","React","Children","map","child","isValidElement","cloneElement","bodyWithProps","popupBackground","e","target","currentTarget","modal","confirm","modalHeader","modalClose","modalBody","modalFooter","wsLink","WebSocketLink","uri","process","options","reconnect","lazy","connectionParams","token","localStorage","getItem","authorization","subscriptionMiddleware","applyMiddleware","next","subscriptionClient","use","httpLink","createHttpLink","authLink","setContext","_","headers","splitLink","split","query","definition","getMainDefinition","operation","errorLink","onError","graphQLErrors","networkError","forEach","message","locations","path","extensions","console","log","JSON","stringify","networkErrorVar","client","ApolloClient","link","from","concat","connectToDevTools","cache","InMemoryCache","typePolicies","Query","fields","isLogged","read","isLoggedVar","isBlurred","isBlurredVar","gridUpdate","accessRights","accessRightsVar","isButtonDisabled","isButtonDisabledVar","isPassed","isPassedVar","disabledTime","disabledTimeVar","disableClassroomBeforeFree","disableClassroomBeforeFreeVar","makeVar","USER","PopupWindowContext","createContext","usePopupWindow","useContext","props","payload","id","v4","PopupWindowProvider","useReducer","state","action","length","slice","Provider","value","popup","DISABLE_DISPATCHER","Notification","exit","setExit","opacity","setOpacity","intervalId","setIntervalId","handleStartTimer","setInterval","prevState","handleCloseNotification","clearInterval","useEffect","onMouseEnter","onMouseLeave","notification","notificationClose","ok","alert","default","NotificationContext","useNotification","NotificationProvider","filter","el","notificationWrapper","note","DISPATCHER_STATUS","handleLogout","a","removeItem","resetStore","Sidebar","collapsed","setCollapsed","dispatchPopupWindow","dispatchNotification","isDispatcher","setIsDispatcher","data","useQuery","unverifiedCounter","setUnverifiedCounter","dispatcherActive","loading","error","isActive","setIsActive","user","parse","DISPATCHER","users","studentInfo","accountStatus","UNVERIFIED","screenWidth","window","screen","width","FinishFooter","handleOk","mutate","mutation","result","disableDispatcher","userErrors","marginRight","height","toString","navigation","dispatcherInactive","dayFinishedTitle","prev","menuIcon","src","alt","currentPageName","exact","activeClassName","linkActive","to","icon","classroomsIcon","usersIcon","registryIcon","scheduleIcon","settings","controlIcon","finishButtonWrapperCollapsed","finishButtonWrapper","version","xmlns","fill","x","y","viewBox","d","Header","GET_REGISTER","getMinutesWithZero","number","WORKING_DAY_END","FIRST_SEMESTER_START_DATE","moment","set","format","SECOND_SEMESTER_START_DATE","FIRST_SEMESTER_END_DATE","SECOND_SEMESTER_END_DATE","CONSTANTLY_START_DATE","CONSTANTLY_END_DATE","getTimeHHMM","date","getHours","formatMinutesToMM","getMinutes","formatTempName","tempName","toLowerCase","replaceAll","word","toUpperCase","fullName","withInitials","nameTemp","lastName","firstName","charAt","patronymic","typeStyle","occupiedUser","student","backgroundColor","STUDENT","POST_GRADUATE","scheduleUnitSize","unit","fromArr","toArr","parseInt","diff","getScheduleUnitSize","units","fillEmpty","items","lastPeriodEnd","WORKING_DAY_START","item","spaceItem","spaceSize","push","time","parseFloat","percent","toFixed","showNotification","dispatcher","setAccessRights","ADMIN","isClassroomNotFree","occupied","FREE","checkVerified","isStudent","isTimeout","returnDiffInMs","outerTime","currentTime","defineOccupyStatus","classroom","scheduleUnits","isOverdue","queueInfo","queuePolicy","policy","queueAllowedDepartments","SELECTED_DEPARTMENTS","DISABLED","comment","until","RESERVED","keyHolder","classroomName","some","scheduleUnit","fromH","fromM","toH","toM","fromDate","toDate","isBetween","shouldOccupiedByTeacher","name","formatTimeWithZero","hh","mm","formattedHH","formattedMM","Title","NO_EMAIL","NO_PHONE_NUMBER","UserProfile","userId","variables","where","department","email","href","phoneNumber","Registry","setDate","AND","start","gte","Date","setHours","toISOString","lte","fetchPolicy","vfs","vfsFonts","pdfMake","registerData","register","sort","b","aStart","valueOf","end","text","alignment","getFormattedData","registerDate","documentDefinition","pageSize","pageOrientation","content","table","widths","headerRows","dontBreakRows","getDate","getMonth","getFullYear","colSpan","margin","tableHeader","bold","fontSize","subheader","quote","italics","small","getDocumentDefinition","readableDate","onChange","mainStyles","headerDateInput","buttons","createPdf","print","download","wrapper","listHeader","container","noItemsText","userName","handleClick","active","GET_SCHEDULE_UNIT","getMinutesFromHHMM","Interval","this","hasUnitDateIntersection","dateTime","currentUnitId","allUnits","currentDate","startOf","unitDateStart","dateStart","unitDateEnd","dateEnd","hasUnitTimeIntersection","intersectedElement","timeFrom","timeTo","intersectedFromMinutes","intersectedToMinutes","currentFromMinutes","currentToMinutes","arr","n","i1","i2","i","isIntersect","hasUnitDateTimeIntersection","intersectedElements","hasOverlappedUnits","r1Start","r1End","r2Start","r2End","isSameOrBefore","isSameOrAfter","isOverlaps","mappedSchedule","schedule","res","lastItemEnd","spacerData","scheduleUnitToString","ScheduleUnitList","withoutGrid","gridTemplateColumns","document","clientWidth","scheduleSubRow","scheduleRow","SUBSTITUTION","border","activity","whiteSpace","overflow","textOverflow","ScheduleUnit","userNameSearch","showEmpty","setSchedule","subSchedule","setSubSchedule","searched","setSearched","then","primary","PRIMARY","substitutions","includes","scheduleRowWrapper","listsContainer","absoluteWrapper","GET_CLASSROOMS","useLocal","localVarName","Edit","dark","history","useHistory","editIcon","light","stopPropagation","timePeriods","Symbol","iterator","current","last","done","Schedule","classrooms","setClassrooms","setUserNameSearch","getClassrooms","sortedClassrooms","localeCompare","numeric","sensitivity","placeholder","scheduleHeader","space","timeline","row","selectStyles","control","provided","borderRadius","menuList","singleValue","indicatorSeparator","display","HeaderSelect","defaultValue","DataList","handleItemClick","isSearching","columnIndex","setColumnIndex","sortedData","setSortedData","columns","setColumns","aValue","bValue","list","headerRow","index","emptyResult","BrowseUserPopupBody","verification","sanctionedUntil","sanctioned","expireDate","degree","employeeInfo","employmentType","extraPhoneNumbers","VERIFY_USER","HeaderCheckbox","label","checked","setChecked","checkmark","Loader","loader","DELETE_USER","handleOperation","operationName","successMessage","errors","code","DeleteUserConfirmPopup","update","modify","existingUsersRefs","readField","userRef","VerifyButton","verify","CustomInput","theme","withEyeSwitcher","showPassword","setShowPassword","htmlFor","customLabel","customInput","customInputLight","customInputDark","eye","ONLY_DIGITS","EMAIL_VALID","COMPLETE_EMPLOYEE_ACCOUNT","CompleteEmployeeAccountPopupBody","setEmail","submitCompleteAccount","preventDefault","test","completeEmployeeAccountRequestEmail","input","onSubmit","UPDATE_USER","categories","TEACHER","CONCERTMASTER","ILLUSTRATOR","Users","searchValue","setSearchValue","categoryFilter","setCategoryFilter","unverifiedOnly","setUnverifiedOnly","useMutation","verifyUser","cancelSanctionsMutation","CancelSanctionsFooter","cancelSanctionFooter","confirmCancelSanctions","isInUsage","headerInput","isAvailableAccess","centerText","unverified","userType","useUsers","setUsers","Profile","me","currentUser","find","useMe","editMode","profileData","CREATE_CLASSROOM","selectLightStyles","menuPortal","base","zIndex","GET_INSTRUMENTS","useInstruments","instruments","setInstruments","GET_DEPARTMENTS","useDepartments","departments","setDepartments","UPDATE_CLASSROOM","colors","CreateClassroomPopupBody","departmentsData","instrumentsData","createClassroom","selectedDepartment","setSelectedDepartment","selectedColor","setSelectedColor","selectedAllowedDepartments","setSelectedAllowedDepartments","allowedForSelectedDepartments","setAllowedForSelectedDepartments","selectedInstruments","setSelectedInstruments","freeInstrumentsOnly","setFreeInstrumentsOnly","useForm","handleSubmit","setValue","watch","formState","firstFieldRef","useRef","focus","dep","chair","filteredInstruments","setMappedInstruments","itemInstruments","persNumber","setMappedSelectedAllowedDepartments","newInstruments","instrument","removedInstruments","newQueueAllowedDepartments","allowedDep","departmentId","removedQueueAllowedDepartments","special","PIANO","floor","Number","isWing","isOperaStudio","isHidden","disconnect","connect","ALL_DEPARTMENTS","deleteMany","createMany","updateOneClassroom","orderIndex","create","createOneClassroom","handleFreeInstruments","DropdownIndicator","addIcon","addInstrumentIcon","MenuList","instrumentsCheckbox","required","maxLength","ref","menuPortalTarget","isClearable","isSearchable","noOptionsMessage","defaultChecked","Boolean","min","max","components","isMulti","DELETE_CLASSROOM","Add","Delete","deleteIcon","BrowseClassroomPopupBody","Back","onClickProps","backIcon","goBack","AdminClassrooms","listData","setListData","deleteClassroom","padding","handleCreate","handleDelete","dataItem","handleErrorDetails","extraInfo","stack","existingClassroomsRefs","classroomRef","deleteOneClassroom","cursor","textDecoration","SIGNUP_EMPLOYEE","userTypesData","STAFF","PIANO_TUNER","OTHER","studentsTypesData","employmentTypesData","FULL_TIME","PART_TIME","HOURLY","EditUserPopupBody","setDepartmentsData","selectedUserType","setSelectedUserType","setFirstName","setLastName","setPatronymic","withDateLimit","setWithDateLimit","setExpireDate","selectedEmploymentType","setSelectedEmploymentType","setPhoneNumber","setExtraPhoneNumbers","currentStaffUserType","currentStudentUserType","mappedDepartments","currentUserDepartment","currentUserEmploymentType","handleSignUpEmployee","ACTIVE","signupEmployee","handleUpdateUser","extraPhoneWrapper","newNum","trim","newArr","splice","editExtraNumber","removeIcon","removeExtraPhoneNumber","alignSelf","marginTop","AdminUsers","alignText","Admin","duration","Instruments","expanded","instrumentsList","flexColumnAndRow","flexRow","instrumentItem","instrumentIcon","uprightPiano","grandPiano","star","rate","DISABLE_CLASSROOM","FREE_CLASSROOM","GIVE_OUT_CLASSROOM_KEY","ConfirmFooter","handleClose","onOk","ConfirmBody","confirmText","disableOptions","timeButtonActive","timeButton","customTimeInput","customTimeInputActive","step","ENABLE_CLASSROOM","TIME_VALUES","DisableClassroom","setComment","hours","minutes","setMinutes","setUntil","selectedUntilIndex","setSelectedUntilIndex","handleCommentButtonClick","innerHTML","untilDateTime","disableClassroomInput","buttonsRow","handleExactTime","RELEASE_KEY_HOLDER","OCCUPY_CLASSROOM","useClassroomActions","free","confirmSanctions","withoutDisable","String","add","disableClassroom","applySanction","occupy","chosenUserId","chosenUserName","chosenUserType","existingUser","newUser","tempUser","occupant","disable","enable","releaseKeyHolder","giveOutKey","occupiedClassroom","confirmGiveOutKey","occupiedClassrooms","OCCUPIED","confirmFree","confirmDisable","OccupantInfo","UserCard","isKeyHolder","occupantCard","occupantName","occupantType","controlButtons","PENDING","cards","ChooseTime","Body","handleValueChange","Footer","OccupantRegistration","classroomId","existingUserValue","setExistingUserValue","setChosenUserId","setChosenUserName","occupyClassroom","scheduleUsers","setScheduleUsers","setScheduleUnits","newUserTypes","setChosenUserType","existingUserInput","endOf","handleExistingUser","chosenUser","checkChosenUserIsOccupiedPreviously","handleOccupy","chosenUserOccupiedInfo","occupiedOrReservedClassrooms","oldClassroomName","onOccupyClick","userSearch","filterOption","option","inputValue","strings","onFocus","createUserInput","autoComplete","clockIcon","GET_CLASSROOM","GET_SCHEDULE_UNITS","ClassroomScheduleUnit","ClassroomSchedule","equals","dayOfWeek","day","ClassroomInfo","queueSize","setQueueSize","setIsOccupiedOverdue","isOverdueByStudent","queue","specialChair","defineStatus","Tooltip","tooltip","Tag","isMobileDevise","bodyBrief","bodyFull","tagContainer","tag","disabledClassroom","DisabledButton","Classroom","str","userFullName","setIsOverDue","timeout","clearTimeout","untilString","diffInMs","defineStyle","defineStatusStiles","occupiedStyle","background","transition","disableStyle","overdue","reserved","useCallback","toggleDisable","classroomsListItem","tabIndex","specialPiano","lockIcon","unlockIcon","isDepartment","occupantInfo","occupationInfo","CaviarItem","resStyles","calcStyle","Caviar","caviar","useClassrooms","subscribeToMore","filterClassrooms","ALL","isOperaStudioOnly","noWing","isAvailableForStudentOnly","filterTypeOnly","SPECIAL","wingOnlyFilter","studioOnlyFilter","availableForStudentFilter","NOT_DISABLED","FOLLOW_CLASSROOMS","FOLLOW_USERS","FOLLOW_DISPATCHER_STATUS","CRASH_MODE","CrashModeAlert","crashModeWrapper","filters","Classrooms","dataCrashMode","isNoWing","setIsNoWing","setIsOperaStudioOnly","setIsAvailableForStudentOnly","timer","showResumePopup","setShowResumePopup","getData","handleResume","unsubscribeClassrooms","unsubscribeUsers","unsubscribeDispatcherStatus","interval","addEventListener","handleGlobalClick","handleWindowFocusEvent","handleFreezeEvent","handleResumeEvent","handleKeyDownEvent","removeEventListener","MINUTE","classroomsPage","updateDataModal","crashMode","classroomsList","CREATE_INSTRUMENT","UPDATE_INSTRUMENT","instrumentTypes","CreateInstrumentPopupBody","isEditMode","addInstrument","classroomsData","setClassroomsData","createInstrument","updateInstrument","classroomValue","setClassroomValue","selectedInstrumentType","setSelectedInstrumentType","createOneInstrument","DELETE_INSTRUMENT","BrowseInstrumentPopupBody","dataHeader","AdminInstruments","deleteInstrument","handleAdd","GET_FACULTIES","useFaculties","updateList","faculties","setFaculties","CREATE_DEPARTMENT","UPDATE_DEPARTMENT","CreateDepartmentPopupBody","createDepartment","updateDepartment","selectValue","setSelectValue","setOptions","faculty","f","DELETE_DEPARTMENT","AdminDepartments","deleteDepartment","CREATE_FACULTY","UPDATE_FACULTY","CreateFacultyPopupBody","setUpdateList","createFaculty","updateFaculty","DELETE_FACULTY","AdminFaculties","deleteFaculty","CREATE_DEGREE","UPDATE_DEGREE","CreateDegreePopupBody","createDegree","updateDegree","startMonth","startDay","durationMonths","GET_DEGREES","useDegrees","degrees","setDegrees","DELETE_DEGREE","AdminDegrees","LOGIN","Login","login","setDisabled","loginValue","setLoginValue","passwordValue","setPasswordValue","password","setItem","handleChange","loginContainer","loginTip","loginForm","loginFooter","GET_GENERAL_QUEUE","GET_PENDING_CLASSROOMS","ua","freeClassrooms","vilnukhAud","noFreeClassrooms","generalQueue","pendingConfirmation","noQueue","en","GET_FREE_CLASSROOMS","Splash","show","langs","Dashboard","setCurrentTime","lang","setLang","setFreeClassrooms","setData","showSplash","setShowSplash","timerLang","timerQueue","splashInterval","OR","currentSession","enqueuedBy","hiddenLogout","rightPart","waitingApprove","info","GET_USERS_FOR_QUEUE","REMOVE_USER_FROM_QUEUE","ADD_USER_TO_QUEUE","Queue","withInstrument","setWithInstrument","queueLength","setChosenUser","removeFromLine","getInLine","MINIMAL","addUserToQueue","sanctions","isDisabled","checkboxInstrument","CRASH_MODE_SWITCH_ON","CRASH_MODE_SWITCH_OFF","ConfirmCrashModeBody","handleCrashModeOn","inputWrapper","buttonWrapper","CrashModeSettingsSection","handleCrashModeOff","ConfirmCrashModeOffFooter","SectionTitle","sectionTitle","hintText","DispatcherSettingsSection","SectionHint","sectionWrapper","DispatcherSettings","AdminSchedule","navToChosenClassroom","classroomListItemContainer","classroomListItemMark","classroomListItem","DayTabs","chosenDay","days","selected","DELETE_SCHEDULE_UNIT","UPDATE_SCHEDULE_UNIT","CREATE_SCHEDULE_UNIT","GET_SCHEDULE_SUBSTITUTIONS_UNITS","ScheduleUnitPopupHeader","ScheduleUnitPopupBody","primaryUnit","selectedDay","refetch","primaryCreateMode","substitutionCreateMode","primaryUpdateMode","substitutionUpdateMode","setEditMode","selectUserData","setSelectUserdata","selectedUser","setSelectedUser","selectTypesData","Object","keys","INDIVIDUAL_LESSON","LECTURE","selectedType","setSelectedType","dateError","setDateError","updatePrimaryError","setUpdatePrimaryError","substitutionError","setSubstitutionError","overlapsError","setOverLapsError","setDateStart","setDateEnd","setTimeFrom","setTimeTo","setSubstitutions","mappedUsers","typeIndex","findIndex","t","checkForErrors","isError","isPrimaryUnitUpdateError","isSubstitutionUpdateOrCreateError","response","updatedPrimaryUnit","subStartDateMin","subStartDateMax","subFromMin","Math","subToMax","primaryFrom","primaryTo","isBefore","isAfter","isBiggerThanSubstitutions","updatedSubstitutionUnit","subUnit","subFrom","subTo","withinPrimaryUnitBoundaries","RemoveUnitFooter","scheduleUnitId","existingScheduleUnitsRefs","scheduleUnitRef","removeFooter","handleSaveChanges","submitCreateUnit","unitData","editWrapper","dataHints","newValue","errorMessage","subListItem","subList","sub","COLUMN_HEIGHT","daysAmount","Array","ScheduleUnitRow","now","dates","fromMinutes","startPos","amountOfWeeks","vertStart","cssStyles","left","top","isSubstitution","primaryScheduleUnit","ScheduleUnitPopup","position","DAY_OF_WEEKS","AdminScheduleClassroom","useParams","weekday","setChosenDay","refetchScheduleUnits","ErrorHandler","location","reload","Content","component","Layout","isDashboard","hash","layout","blurred","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.849e8d6a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__3_GL1\",\"sizes\":\"button_sizes__3gOCJ\",\"primary\":\"button_primary__17m96\",\"default\":\"button_default__3iLB2\",\"white\":\"button_white__3joJT\",\"red\":\"button_red__GkMyt\",\"AnimationName\":\"button_AnimationName__2JyV1\",\"blue\":\"button_blue__1DI3K\",\"orange\":\"button_orange__2zWem\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"queue_wrapper__2C9QJ\",\"userSearch\":\"queue_userSearch__10zt6\",\"checkboxInstrument\":\"queue_checkboxInstrument__3V9zK\",\"sanctions\":\"queue_sanctions__2d-JP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"classroomSchedule_list__1X2Fe\",\"unit\":\"classroomSchedule_unit__30n7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editIcon\":\"edit_editIcon__w9XfA\",\"dark\":\"edit_dark__23KdW\",\"light\":\"edit_light__3tUXP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"browseUserPopupBody_list__2vrkj\",\"verification\":\"browseUserPopupBody_verification__1Leqg\",\"sanctioned\":\"browseUserPopupBody_sanctioned__QNoNH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"headerCheckbox_wrapper__P-SXo\",\"container\":\"headerCheckbox_container__168eM\",\"checkmark\":\"headerCheckbox_checkmark__kiAT9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"admin_list__1xudB\",\"settings\":\"admin_settings__3oFFG\",\"unverified\":\"admin_unverified__2yPxT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userSearch\":\"occupantRegistration_userSearch__39BOZ\",\"createUserInput\":\"occupantRegistration_createUserInput__2qj4Y\",\"usersSearchInput\":\"occupantRegistration_usersSearchInput__2RnRU\",\"occupantType\":\"occupantRegistration_occupantType__1GYfm\",\"icon\":\"occupantRegistration_icon__2azlC\",\"occupantName\":\"occupantRegistration_occupantName__3M0eC\",\"time\":\"occupantRegistration_time__ziSPa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"scheduleUnitRow_wrapper__ZiyS8\",\"unit\":\"scheduleUnitRow_unit__2EGFS\",\"dates\":\"scheduleUnitRow_dates__3nncK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"layout_layout__2VB0u\",\"blurred\":\"layout_blurred__1OIZG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"userProfile_link__3ZQrP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"loader_wrapper__2rsOt\",\"loader\":\"loader_loader__31U88\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"profile_wrapper__1Oz3z\",\"profileData\":\"profile_profileData__22bid\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"browseClassroomPopupBody_list__3YDBU\",\"instruments\":\"browseClassroomPopupBody_instruments__pFLJL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"adminUsers_wrapper__QTtrJ\",\"list\":\"adminUsers_list__2-yUK\",\"listHeader\":\"adminUsers_listHeader__eBceo\",\"alignText\":\"adminUsers_alignText__3DxLo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tagContainer\":\"tag_tagContainer__c37qq\",\"tag\":\"tag_tag__1Qbjg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"splash_wrapper__3biWl\",\"fade-in-bck\":\"splash_fade-in-bck__2jWFg\",\"logo\":\"splash_logo__1bz2L\",\"bounce-in-top\":\"splash_bounce-in-top__OPOFI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"dayTabs_wrapper__qugO_\",\"selected\":\"dayTabs_selected__1P8L4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"classroomsListItem\":\"classroom_classroomsListItem__XObl6\",\"header\":\"classroom_header__1NoxV\",\"special\":\"classroom_special__2Tset\",\"footer\":\"classroom_footer__UrM41\",\"occupantInfo\":\"classroom_occupantInfo__34UcJ\",\"occupantName\":\"classroom_occupantName__admKq\",\"occupantType\":\"classroom_occupantType__pmMwS\",\"occupationInfo\":\"classroom_occupationInfo__3txIy\",\"isDepartment\":\"classroom_isDepartment__1qfL9\",\"reserved\":\"classroom_reserved__3179W\",\"overdue\":\"classroom_overdue__1GTp-\",\"disableButton\":\"classroom_disableButton__3f68V\",\"disableClassroomInput\":\"classroom_disableClassroomInput__FO3Rb\",\"sanctions\":\"classroom_sanctions__3yNWV\",\"confirmText\":\"classroom_confirmText__1VevV\",\"timeButtonActive\":\"classroom_timeButtonActive__3LYJd\",\"timeButton\":\"classroom_timeButton__Tr-Ac\",\"customTimeInput\":\"classroom_customTimeInput__1Z9TF\",\"customTimeInputActive\":\"classroom_customTimeInputActive__hnHPs\",\"disableOptions\":\"classroom_disableOptions___gP-q\",\"buttonsRow\":\"classroom_buttonsRow__1bnGL\",\"unlockIcon\":\"classroom_unlockIcon__xD-NM\",\"lockIcon\":\"classroom_lockIcon__ntAQY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerInput\":\"main_headerInput__vnDol\",\"headerDateInput\":\"main_headerDateInput__k6eyF\",\"input\":\"main_input__3nqeT\",\"required\":\"main_required__1lhuC\",\"fade-in\":\"main_fade-in__2uupc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"content_content__Yb7zv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__v9FKw\",\"right\":\"header_right__1-hQp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"title_title__H_mGl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addIcon\":\"add_addIcon__30W4G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"true\":\"sidebar_true__wRYfw\",\"false\":\"sidebar_false__1Uzg_\",\"navigation\":\"sidebar_navigation__2rdFo\",\"logoWrapper\":\"sidebar_logoWrapper__wMzh8\",\"menuIcon\":\"sidebar_menuIcon__ImpWf\",\"currentPageName\":\"sidebar_currentPageName__3Wfnt\",\"icon\":\"sidebar_icon__1XVNN\",\"settings\":\"sidebar_settings__-2mo2\",\"link\":\"sidebar_link__ERhkT\",\"linkActive\":\"sidebar_linkActive__3cCQi\",\"alert\":\"sidebar_alert__3ljs7\",\"finishButtonWrapper\":\"sidebar_finishButtonWrapper__pNXm0\",\"finishButtonWrapperCollapsed\":\"sidebar_finishButtonWrapperCollapsed__17bwr\",\"dispatcherInactive\":\"sidebar_dispatcherInactive__CC4Sy\",\"dayFinishedTitle\":\"sidebar_dayFinishedTitle__1k9by\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"deleteIcon\":\"delete_deleteIcon__14Am0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backIcon\":\"back_backIcon__2Gxcl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"classroomInfo_description__867p_\",\"specialChair\":\"classroomInfo_specialChair__l_l-B\",\"overdue\":\"classroomInfo_overdue__2fFJf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"tooltip_tooltip__rjaer\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"caviar\":\"caviar_caviar__3J3lT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"createInstrumentPopupBody_container__1PO9N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"browseInstrumentPopupBody_list__3LkWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controlButtons\":\"scheduleUnitPopup_controlButtons__2Ruej\",\"controlIcon\":\"scheduleUnitPopup_controlIcon__3nyuv\",\"addIcon\":\"scheduleUnitPopup_addIcon__1WrFL\",\"unitData\":\"scheduleUnitPopup_unitData__1agK8\",\"removeFooter\":\"scheduleUnitPopup_removeFooter__3HQrx\",\"editWrapper\":\"scheduleUnitPopup_editWrapper__NhBX_\",\"input\":\"scheduleUnitPopup_input__26-bK\",\"errorMessage\":\"scheduleUnitPopup_errorMessage__ZJ-iq\",\"buttons\":\"scheduleUnitPopup_buttons__26ARe\",\"subList\":\"scheduleUnitPopup_subList__3f571\",\"subListItem\":\"scheduleUnitPopup_subListItem__2QVXA\",\"dataHints\":\"scheduleUnitPopup_dataHints__3CZmY\"};","import {bool} from \"yup\";\r\n\r\nexport enum ACCESS_RIGHTS {\r\n  USER,\r\n  DISPATCHER,\r\n  ADMIN\r\n}\r\n\r\nexport enum ErrorCodesUa {\r\n  INVALID_PASSWORD = \"Невірний пароль\",\r\n  USER_NOT_FOUND = \"Користувача не знайдено\",\r\n}\r\n\r\nexport enum ErrorCodes {\r\n  INVALID_PASSWORD = \"INVALID_PASSWORD\",\r\n  USER_NOT_FOUND = \"USER_NOT_FOUND\",\r\n}\r\n\r\nexport enum EmploymentTypes {\r\n  FULL_TIME = 'FULL_TIME',\r\n  PART_TIME = 'PART_TIME',\r\n  HOURLY = 'HOURLY',\r\n}\r\n\r\nexport enum EmploymentTypesUa {\r\n  FULL_TIME = 'Штатний співробітник',\r\n  PART_TIME = 'Часткова',\r\n  HOURLY = 'Погодинна',\r\n}\r\n\r\nexport enum UserTypes {\r\n  STUDENT = \"STUDENT\",\r\n  TEACHER = \"TEACHER\",\r\n  POST_GRADUATE = \"POST_GRADUATE\",\r\n  ADMIN = \"ADMIN\",\r\n  DISPATCHER = \"DISPATCHER\",\r\n  PIANO_TUNER = \"PIANO_TUNER\",\r\n  STAFF = \"STAFF\",\r\n  CONCERTMASTER = \"CONCERTMASTER\",\r\n  ILLUSTRATOR = \"ILLUSTRATOR\",\r\n  OTHER = \"OTHER\",\r\n}\r\n\r\nexport enum UserTypesUa {\r\n  STUDENT = \"Студент\",\r\n  TEACHER = \"Викладач\",\r\n  POST_GRADUATE = \"Асистент/аспірант\",\r\n  ADMIN = \"Адмін\",\r\n  DISPATCHER = \"Диспетчер\",\r\n  PIANO_TUNER = \"Настроювач фортепіано\",\r\n  STAFF = \"Співробітник\",\r\n  CONCERTMASTER = \"Концертмейстер\",\r\n  ILLUSTRATOR = \"Ілюстратор\",\r\n  OTHER = \"Користувач\",\r\n}\r\n\r\nexport enum UserTypeColors {\r\n  STUDENT = \"#1e2c4f\",\r\n  TEACHER = \"#ffa200\",\r\n  POST_GRADUATE = \"#1e2c4f\",\r\n  ADMIN = \"#ffa200\",\r\n  DISPATCHER = \"#ffa200\",\r\n  PIANO_TUNER = \"#ffa200\",\r\n  STAFF = \"#ffa200\",\r\n  CONCERTMASTER = \"#ffa200\",\r\n  ILLUSTRATOR = \"#ffa200\",\r\n  OTHER = \"#ffa200\",\r\n}\r\n\r\nexport enum ActivityTypes {\r\n  LECTURE = '#ffa200',\r\n  INDIVIDUAL_LESSON = '#2b5dff'\r\n}\r\n\r\nexport enum NotificationsTypes {\r\n  OK = \"ok\",\r\n  ALERT = \"alert\",\r\n  DEFAULT = \"default\",\r\n}\r\n\r\nexport type User = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: Date | null;\r\n  queue: QueueRecord[];\r\n  queueInfo: UserQueueInfo;\r\n  occupiedClassrooms: OccupiedInfo[];\r\n};\r\n\r\nexport type StudentInfo = {\r\n  degree: Degree;\r\n  startYear: number;\r\n  accountStatus: StudentAccountStatus;\r\n};\r\n\r\nexport type EmployeeInfo = {\r\n  employmentType: EmploymentTypes;\r\n  accountStatus: string;\r\n  isInUsage: boolean;\r\n};\r\n\r\nexport type OccupiedInfo = {\r\n  id: number;\r\n  user: User | null;\r\n  keyHolder: User | null;\r\n  keyHolderId: number;\r\n  until: string;\r\n  state: OccupiedState;\r\n  classroom: ClassroomType;\r\n  classroomId: number;\r\n};\r\n\r\nexport enum OccupiedState {\r\n  FREE = 'FREE',\r\n  OCCUPIED = 'OCCUPIED',\r\n  PENDING = 'PENDING',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport enum OccupiedStateUa {\r\n  FREE = 'Вільно',\r\n  OCCUPIED = 'Зайнято',\r\n  PENDING = 'Очікує підтвердження',\r\n  RESERVED = 'Зарезервовано'\r\n}\r\n\r\nexport type Comment = {\r\n  id: number;\r\n  user: User;\r\n  body: string;\r\n  date: Date;\r\n};\r\n\r\nexport type InstrumentType = {\r\n  id: number;\r\n  type: string;\r\n  name: string;\r\n  rate: number;\r\n  persNumber: string;\r\n  comments: Comment | null;\r\n  classroom: ClassroomType;\r\n};\r\n\r\nexport enum DisabledState {\r\n  DISABLED = 'DISABLED',\r\n  NOT_DISABLED = 'NOT_DISABLED'\r\n}\r\n\r\nexport type DisabledInfo = {\r\n  state: DisabledState;\r\n  comment: string;\r\n  until: Date;\r\n};\r\n\r\nexport type ScheduleUnitType = {\r\n  id: number;\r\n  user: User;\r\n  classroom: ClassroomType;\r\n  dateStart: Date;\r\n  dateEnd: Date;\r\n  dayOfWeek: number;\r\n  from: string;\r\n  to: string;\r\n  activity: ScheduleUnitActivityT;\r\n  type: ScheduleUnitTypeT;\r\n  primaryScheduleUnit: ScheduleUnitType;\r\n};\r\n\r\nexport enum ScheduleUnitActivityT {\r\n  INDIVIDUAL_LESSON = 'Індивідуальні заняття',\r\n  LECTURE = 'Лекція'\r\n}\r\n\r\nexport enum ScheduleUnitTypeT {\r\n  PRIMARY = 'PRIMARY',\r\n  SUBSTITUTION = 'SUBSTITUTION'\r\n}\r\n\r\nexport type ClassroomType = {\r\n  id: number;\r\n  name: string;\r\n  chair: Department | null;\r\n  special: string | null;\r\n  floor: number;\r\n  isWing: boolean;\r\n  isOperaStudio: boolean;\r\n  description: string | null;\r\n  occupied: OccupiedInfo;\r\n  instruments: Array<InstrumentType>;\r\n  disabled: DisabledInfo | null;\r\n  schedule: Array<ScheduleUnitType>;\r\n  isHidden: boolean;\r\n  queueInfo: ClassroomQueueInfo;\r\n  color: string;\r\n};\r\n\r\nexport type ClassroomQueueInfo = {\r\n  classroom: ClassroomType;\r\n  queuePolicy: QueuePolicyInfo;\r\n}\r\n\r\nexport type QueuePolicyInfo = {\r\n  classroomQueueInfo: ClassroomQueueInfo;\r\n  policy: QueuePolicyTypes;\r\n  queueAllowedDepartments: ExclusivelyQueueAllowedDepartmentsInfo[];\r\n}\r\n\r\nexport type ExclusivelyQueueAllowedDepartmentsInfo = {\r\n  department: Department;\r\n  queuePolicyInfo: QueuePolicyInfo;\r\n}\r\n\r\nexport type RegisterUnit = {\r\n  id: number;\r\n  user: User;\r\n  nameTemp: string;\r\n  classroom: {\r\n    id: number;\r\n    name: string;\r\n  };\r\n  start: string;\r\n  end: string;\r\n};\r\n\r\nexport type Degree = {\r\n  id: number\r\n  name: string;\r\n  startMonth: number;\r\n  startDay: number;\r\n  durationMonths: number;\r\n};\r\n\r\nexport type Faculty = {\r\n  id: number;\r\n  name: string;\r\n  departments: Department[];\r\n  users: User[];\r\n}\r\n\r\nexport type Department = {\r\n  id: number;\r\n  name: string;\r\n  faculty: Faculty;\r\n  users: User[];\r\n};\r\n\r\nexport type MenuElement = {\r\n  text: string;\r\n  path: string;\r\n  icon: string;\r\n  exact?: boolean;\r\n  rights: string;\r\n};\r\n\r\nexport enum ClassroomsFilterTypes {\r\n  ALL = 'ALL',\r\n  FREE = 'FREE',\r\n  SPECIAL = 'SPECIAL'\r\n}\r\n\r\nexport enum QueueState {\r\n  ACTIVE = 'ACTIVE',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport enum QueueType {\r\n  MINIMAL = 'MINIMAL',\r\n  DESIRED = 'DESIRED'\r\n}\r\n\r\nexport type QueueRecord = {\r\n  id: number;\r\n  user: User;\r\n  date: string;\r\n  classroom: ClassroomType;\r\n  state: QueueState;\r\n  type: QueueType;\r\n}\r\n\r\nexport type LangT = 'ua' | 'en';\r\n\r\nexport enum EnqueuedBy {\r\n  SELF = 'SELF',\r\n  DISPATCHER = 'DISPATCHER'\r\n}\r\n\r\nexport type UserQueueInfo = {\r\n  id: number;\r\n  user: User;\r\n  sanctionedUntil: string;\r\n  currentSession: QueueSession\r\n}\r\n\r\nexport type QueueSession = {\r\n  id: number;\r\n  queueInfo: UserQueueInfo;\r\n  state: UserQueueState;\r\n  enqueuedBy: EnqueuedBy;\r\n  skips: number;\r\n  remainingOccupationTime: string;\r\n}\r\n\r\nexport enum UserQueueState {\r\n  IN_QUEUE_MINIMAL = 'IN_QUEUE_MINIMAL',\r\n  IN_QUEUE_DESIRED_AND_OCCUPYING = 'IN_QUEUE_DESIRED_AND_OCCUPYING',\r\n  QUEUE_RESERVED_NOT_OCCUPYING = 'QUEUE_RESERVED_NOT_OCCUPYING',\r\n  OCCUPYING = 'OCCUPYING',\r\n}\r\n\r\nexport enum StudentAccountStatus {\r\n  UNVERIFIED = 'UNVERIFIED',\r\n  ACTIVE = 'ACTIVE',\r\n  ACADEMIC_LEAVE = 'ACADEMIC_LEAVE'\r\n}\r\n\r\nexport enum EmployeeAccountStatus {\r\n  ACTIVE = 'ACTIVE',\r\n  FROZEN = 'FROZEN'\r\n}\r\n\r\nexport enum QueuePolicyTypes {\r\n  ALL_DEPARTMENTS = 'ALL_DEPARTMENTS',\r\n  SELECTED_DEPARTMENTS = 'SELECTED_DEPARTMENTS'\r\n}\r\n\r\nexport enum SpecialClassroomTypes {\r\n  PIANO = 'PIANO'\r\n}\r\n\r\nexport enum InstrumentTypesE {\r\n  UpRightPiano = 'UpRightPiano',\r\n  GrandPiano = 'GrandPiano'\r\n}\r\n\r\nexport enum InstrumentTypesEUa {\r\n  UpRightPiano = 'Піаніно',\r\n  GrandPiano = 'Рояль'\r\n}\r\n\r\nexport type CrashModeT = {\r\n  isActive: boolean;\r\n  comment: string;\r\n  until: Date | null;\r\n  globalMessage?: string;\r\n}\r\n","import React from \"react\";\nimport styles from \"./logo.module.css\";\n\ninterface PropTypes {\n  title: string;\n  description: string;\n  size?: \"small\" | \"default\";\n}\n\nconst Logo: React.FC<PropTypes> = ({\n  title,\n  description,\n  size = \"default\",\n}) => {\n  const style = {};\n  return (\n    <div className={styles.logoWrapper}>\n      <div\n        className={\n          size === \"default\"\n            ? styles.logo\n            : size === \"small\"\n            ? styles.smallLogo\n            : styles.logo\n        }\n      >\n        <div className={styles.logoText}>\n          <h1\n            className={\n              size === \"default\"\n                ? styles.logoTitle\n                : size === \"small\"\n                ? styles.smallLogoTitle\n                : styles.logoTitle\n            }\n          >\n            {title}\n          </h1>\n          {size !== \"small\" && (\n            <h2 className={styles.logoDescription}>{description}</h2>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Logo;\n","export default __webpack_public_path__ + \"static/media/menu.5383e8d1.svg\";","export default __webpack_public_path__ + \"static/media/classrooms.b892cc70.svg\";","export default __webpack_public_path__ + \"static/media/registry.bb713715.svg\";","export default __webpack_public_path__ + \"static/media/users.20e4c9d2.svg\";","export default __webpack_public_path__ + \"static/media/settings.c2c79171.svg\";","export default __webpack_public_path__ + \"static/media/schedule.ab67c37a.svg\";","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_USERS = gql`\r\n  query getUsers {\r\n    users {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        id\r\n        name\r\n      }\r\n      occupiedClassrooms {\r\n        id\r\n          state\r\n          classroom {\r\n            id\r\n            name\r\n          }\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      expireDate\r\n      queueInfo {\r\n        sanctionedUntil\r\n      }\r\n      studentInfo {\r\n        degree {\r\n          id\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n        isInUsage\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER_BY_ID = gql`\r\n  query getUserById($where: UserWhereUniqueInput!) {\r\n    user(where: $where) {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        id\r\n        name\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      expireDate\r\n      studentInfo {\r\n        degree {\r\n          id\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER_OCCUPIED_CLASSROOMS_BY_USER_ID = gql`\r\n  query getUserOccupiedClassroomsByUserId($where: UserWhereUniqueInput!) {\r\n    user(where: $where) {\r\n      id\r\n      occupiedClassrooms {\r\n        id\r\n        state\r\n        classroom {\r\n          id\r\n          name\r\n        }\r\n      }\r\n     }\r\n  }\r\n`;","import React, {CSSProperties} from \"react\";\nimport styles from \"./button.module.css\";\n\ninterface PropTypes {\n  onClick?: (e: any) => any;\n  kind?: \"default\" | \"primary\";\n  type?: \"button\" | \"submit\" | \"reset\";\n  color?: \"white\" | \"blue\" | \"red\" | \"orange\";\n  disabled?: boolean;\n  style?: CSSProperties | undefined;\n  form?: string;\n  title?: string;\n}\n\nconst Button: React.FC<PropTypes> = ({\n  children,\n  onClick,\n  kind = \"primary\",\n  type = \"button\",\n  color = \"blue\",\n  disabled = false,\n  style = undefined,\n  form= \"\",\n  title,\n}) => {\n  return (\n    <button\n      title={title}\n      form={form}\n      style={style}\n      disabled={disabled}\n      type={type}\n      className={[\n        styles.button,\n        kind === \"primary\" && styles[color],\n        styles[type], !style && styles.sizes\n      ].join(\" \")}\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { ReactElement, useState } from \"react\";\r\nimport styles from \"./popupWindow.module.css\";\r\n\r\ninterface PropTypes {\r\n  header: any;\r\n  body: any;\r\n  footer?: any;\r\n  dispatch: (value: any) => void;\r\n  isConfirm?: boolean;\r\n}\r\n\r\nconst PopupWindow: React.FC<PropTypes> = ({header, body, dispatch, footer = \"\",\r\n  isConfirm}) => {\r\n  const [entering, setEntering] = useState(true);\r\n  const onClose = () => {\r\n    setEntering(false);\r\n    setTimeout(() => {\r\n      dispatch({\r\n        type: \"POP_POPUP_WINDOW\",\r\n      });\r\n    }, 300);\r\n  };\r\n  const footerWithProps = React.Children.map(footer, (child: ReactElement) => {\r\n    if (React.isValidElement(child)) {\r\n      // @ts-ignore\r\n      return React.cloneElement(child, { dispatch: dispatch });\r\n    }\r\n    return child;\r\n  });\r\n\r\n  const bodyWithProps = React.Children.map(body, (child: ReactElement) => {\r\n    if (React.isValidElement(child)) {\r\n      // @ts-ignore\r\n      return React.cloneElement(child, { dispatch: dispatch });\r\n    }\r\n    return child;\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={[\r\n        styles.popupBackground,\r\n        styles[entering ? \"fade-in\" : \"fade-out\"],\r\n      ].join(\" \")}\r\n      onClick={(e) => e.target === e.currentTarget && onClose()}\r\n    >\r\n      <div\r\n        className={[\r\n          styles.modal,\r\n          styles[entering ? \"slide-in-top\" : \"slide-out-top\"],\r\n          isConfirm ? styles.confirm : ''\r\n        ].join(\" \")}\r\n      >\r\n        <div className={styles.modalHeader}>\r\n          {header}\r\n          <span className={styles.modalClose} onClick={onClose} />\r\n        </div>\r\n        <div className={styles.modalBody}>{bodyWithProps}</div>\r\n        <div className={styles.modalFooter}>{footerWithProps}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupWindow;\r\n","import {ApolloClient, createHttpLink, from, InMemoryCache, makeVar, split} from \"@apollo/client\";\r\nimport {ACCESS_RIGHTS} from \"../models/models\";\r\nimport {WebSocketLink} from \"@apollo/client/link/ws\";\r\nimport {setContext} from \"@apollo/client/link/context\";\r\nimport {getMainDefinition} from \"@apollo/client/utilities\";\r\nimport {onError} from \"@apollo/client/link/error\";\r\n\r\nconst wsLink: any = new WebSocketLink({\r\n  uri: process.env.NODE_ENV === 'development' ? process.env.REACT_APP_PROD_WSS_BASE_URL : process.env.REACT_APP_STG_WSS_BASE_URL,\r\n  options: {\r\n    reconnect: true,\r\n    lazy: true,\r\n    connectionParams: () => {\r\n      const token = localStorage.getItem('token')\r\n      return {\r\n        authorization: token ? `Bearer ${token}` : \"\",\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nconst subscriptionMiddleware = {\r\n  applyMiddleware: (options: any, next: any) => {\r\n    const token = localStorage.getItem('token')\r\n    options.authorization = token ? `Bearer ${token}` : \"\"\r\n    next()\r\n  },\r\n}\r\n\r\nwsLink.subscriptionClient.use([subscriptionMiddleware]);\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: process.env.NODE_ENV === 'development' ? process.env.REACT_APP_PROD_HTTPS_BASE_URL : process.env.REACT_APP_STG_HTTPS_BASE_URL\r\n});\r\n\r\nconst authLink = setContext((_, {headers}) => {\r\n  const token = localStorage.getItem('token');\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    }\r\n  }\r\n});\r\n\r\nconst splitLink = split(\r\n  ({query}) => {\r\n    const definition = getMainDefinition(query);\r\n    return (\r\n      definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n    );\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nconst errorLink = onError(({graphQLErrors, networkError}) => {\r\n  if (graphQLErrors)\r\n    graphQLErrors.forEach(({message, locations, path, extensions}) => {\r\n        console.log(`[GraphQL error]: Message: ${message}, Location: ${JSON.stringify(locations)}, Path: ${path}`)\r\n      }\r\n    );\r\n  if (networkError) networkErrorVar(networkError);\r\n});\r\n\r\nexport const client = new ApolloClient({\r\n  link: from([errorLink, authLink.concat(splitLink)]),\r\n  connectToDevTools: true,\r\n  cache: new InMemoryCache({\r\n    typePolicies: {\r\n      Query: {\r\n        fields: {\r\n          isLogged: {\r\n            read() {\r\n              return isLoggedVar();\r\n            },\r\n          },\r\n          isBlurred: {\r\n            read() {\r\n              return isBlurredVar();\r\n            },\r\n          },\r\n          gridUpdate: {\r\n            read() {\r\n              return gridUpdate();\r\n            },\r\n          },\r\n          accessRights: {\r\n            read() {\r\n              return accessRightsVar();\r\n            },\r\n          },\r\n          isButtonDisabled: {\r\n            read() {\r\n              return isButtonDisabledVar();\r\n            },\r\n          },\r\n          isPassed: {\r\n            read() {\r\n              return isPassedVar();\r\n            },\r\n          },\r\n          networkError: {\r\n            read() {\r\n              return networkErrorVar();\r\n            },\r\n          },\r\n          disabledTime: {\r\n            read() {\r\n              return disabledTimeVar();\r\n            },\r\n          },\r\n          disableClassroomBeforeFree: {\r\n            read() {\r\n              return disableClassroomBeforeFreeVar();\r\n            },\r\n          },\r\n        },\r\n      },\r\n    },\r\n  }),\r\n});\r\nexport const isLoggedVar = makeVar(false);\r\nexport const isBlurredVar = makeVar(false);\r\nexport const gridUpdate = makeVar(false);\r\nexport const accessRightsVar = makeVar(ACCESS_RIGHTS.USER);\r\nexport const isButtonDisabledVar = makeVar(false);\r\nexport const isPassedVar = makeVar(false);\r\nexport const networkErrorVar = makeVar(null);\r\nexport const disabledTimeVar = makeVar(15);\r\nexport const disableClassroomBeforeFreeVar = makeVar(false);\r\n","import React, { createContext, useContext, useReducer, useState } from \"react\";\nimport { v4 } from \"uuid\";\nimport PopupWindow from \"./PopupWindow\";\nimport {isBlurredVar, isPassedVar} from \"../../api/client\";\n\ninterface PropTypes {}\n\nexport const PopupWindowContext = createContext({});\n\nconst PopupWindowProvider: React.FC<PropTypes> = ({ children }) => {\n  const [state, dispatch] = useReducer((state: any, action: any) => {\n    switch (action.type) {\n      case \"PUSH_POPUP_WINDOW\": {\n        isBlurredVar(true);\n        return [...state, { ...action.payload }];\n      }\n      case \"POP_POPUP_WINDOW\": {\n        if (state.length <= 1) {\n          isBlurredVar(false);\n          isPassedVar(false);\n        }\n        return [...state.slice(0, state.length - 1)];\n      }\n      case \"POP_ALL_POPUP_WINDOW\": {\n          isBlurredVar(false);\n          isPassedVar(false);\n        return [];\n      }\n\n      default:\n        return state;\n    }\n  }, []);\n  return (\n    <PopupWindowContext.Provider value={dispatch}>\n      {state.map((popup: any) => (\n        <PopupWindow\n          key={popup.id}\n          body={popup.body}\n          header={popup.header}\n          footer={popup.footer}\n          isConfirm={popup.isConfirm}\n          dispatch={dispatch}\n        />\n      ))}\n      {children}\n    </PopupWindowContext.Provider>\n  );\n};\n\nexport const usePopupWindow = () => {\n  const dispatch = useContext(PopupWindowContext);\n  return (props: any) => {\n    // @ts-ignore\n    dispatch({\n      type: \"PUSH_POPUP_WINDOW\",\n      payload: {\n        id: v4(),\n        ...props,\n      },\n    });\n  };\n};\n\nexport default PopupWindowProvider;\n","import {gql} from \"@apollo/client\";\r\n\r\nexport const DISABLE_DISPATCHER = gql`\r\n    mutation disableDispatcher {\r\n        disableDispatcher {\r\n            operationSuccess\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./notification.module.css\";\n\ninterface PropTypes {\n  message: string;\n  header: string;\n  dispatch: (value: any) => void;\n  id: string;\n  type?: \"ok\" | \"alert\";\n}\n\nconst Notification: React.FC<PropTypes> = ({\n  message,\n  type = \"default\",\n  dispatch,\n  id,\n  header,\n}) => {\n  const [exit, setExit] = useState(false);\n  const [opacity, setOpacity] = useState(100);\n  const [intervalId, setIntervalId]: any = useState(null);\n\n  const handleStartTimer = () => {\n    const id = setInterval(() => {\n      setOpacity((prevState) => {\n        if (prevState > 95) {\n          return prevState - 0.02;\n        } else if (prevState > 1) {\n          return prevState - 0.5;\n        } else {\n          handleCloseNotification();\n          return prevState;\n        }\n      });\n    }, 10);\n    setIntervalId(id);\n  };\n\n  const handlePauseTimer = () => {\n    clearInterval(intervalId);\n    setOpacity(100);\n  };\n\n  const handleCloseNotification = () => {\n    clearInterval(intervalId);\n    setExit(true);\n    setTimeout(() => {\n      dispatch({\n        type: \"REMOVE_NOTIFICATION\",\n        id: id,\n      });\n    }, 400);\n  };\n\n  useEffect(() => {\n    if (opacity < 1) {\n      handleCloseNotification();\n    }\n  }, [opacity]);\n\n  useEffect(() => {\n    handleStartTimer();\n  }, []);\n\n  return (\n    <div\n      onMouseEnter={handlePauseTimer}\n      onMouseLeave={handleStartTimer}\n      className={[styles.notification, exit ? styles.exit : \"\"].join(\" \")}\n      style={{ opacity: `${opacity / 100}` }}\n    >\n      <span\n        className={styles.notificationClose}\n        onClick={handleCloseNotification}\n      />\n      <p\n        className={[\n          type === \"ok\"\n            ? styles.ok\n            : type === \"alert\"\n            ? styles.alert\n            : styles.default\n        , styles.header].join(\" \")}\n      >\n        {header}\n      </p>\n      <p className={styles.message}>{message}</p>\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { createContext, useContext, useReducer } from \"react\";\r\nimport { v4 } from \"uuid\";\r\nimport styles from \"./notification.module.css\";\r\nimport Notification from \"./Notification\";\r\n\r\nexport const NotificationContext = createContext({});\r\n\r\nconst NotificationProvider = ({ children }: any) => {\r\n  const [state, dispatch] = useReducer((state: any, action: any) => {\r\n    switch (action.type) {\r\n      case \"ADD_NOTIFICATION\":\r\n        return [...state, { ...action.payload }];\r\n      case \"REMOVE_NOTIFICATION\": {\r\n        return state.filter((el: any) => el.id !== action.id);\r\n      }\r\n      default:\r\n        return state;\r\n    }\r\n  }, []);\r\n  return (\r\n    <NotificationContext.Provider value={dispatch}>\r\n      <div className={styles.notificationWrapper}>\r\n        {state.map((note: any) => (\r\n          <Notification\r\n            dispatch={dispatch}\r\n            key={note.id}\r\n            message={note.message}\r\n            header={note.header}\r\n            id={note.id}\r\n            type={note.type}\r\n          />\r\n        ))}\r\n      </div>\r\n      {children}\r\n    </NotificationContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useNotification = () => {\r\n  const dispatch = useContext(NotificationContext);\r\n  return (props: any) => {\r\n    // @ts-ignore\r\n    dispatch({\r\n      type: \"ADD_NOTIFICATION\",\r\n      payload: {\r\n        id: v4(),\r\n        ...props,\r\n      },\r\n    });\r\n  };\r\n};\r\n\r\nexport default NotificationProvider;\r\n","import {gql} from \"@apollo/client\";\n\nexport const DISPATCHER_STATUS = gql`\n  query dispatcherActive {\n    dispatcherActive\n  }`;","import {client, isLoggedVar} from \"../api/client\";\n\nexport const handleLogout = async () => {\n  localStorage.removeItem('user');\n  localStorage.removeItem('token');\n  isLoggedVar(false);\n  await client.resetStore();\n};","import React, {useEffect, useState} from \"react\";\nimport styles from \"./sidebar.module.css\";\nimport Logo from \"../../logo/Logo\";\nimport {NavLink, Route, Switch} from \"react-router-dom\";\nimport menuIcon from \"../../../assets/images/menu.svg\";\nimport classroomsIcon from \"../../../assets/images/classrooms.svg\";\nimport registryIcon from \"../../../assets/images/registry.svg\";\nimport usersIcon from \"../../../assets/images/users.svg\";\nimport controlIcon from \"../../../assets/images/settings.svg\";\nimport queueIcon from \"../../../assets/images/queue.png\";\nimport scheduleIcon from \"../../../assets/images/schedule.svg\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USERS} from \"../../../api/operations/queries/users\";\nimport {StudentAccountStatus, User, UserTypes} from \"../../../models/models\";\nimport Button from \"../../button/Button\";\nimport {usePopupWindow} from \"../../popupWindow/PopupWindowProvider\";\nimport {client} from \"../../../api/client\";\nimport {DISABLE_DISPATCHER} from \"../../../api/operations/mutations/disableDispatcher\";\nimport {useNotification} from \"../../notification/NotificationProvider\";\nimport {DISPATCHER_STATUS} from \"../../../api/operations/queries/dispatcherActive\";\nimport {handleLogout} from \"../../../helpers/logout\";\n\nconst Sidebar = () => {\n  const [collapsed, setCollapsed] = useState(true);\n  const dispatchPopupWindow = usePopupWindow();\n  const dispatchNotification = useNotification();\n  const [isDispatcher, setIsDispatcher] = useState(false);\n  const {data} = useQuery(GET_USERS);\n  const [unverifiedCounter, setUnverifiedCounter] = useState(0);\n  const {data: dispatcherActive, loading, error} = useQuery(DISPATCHER_STATUS);\n  const [isActive, setIsActive] = useState(true);\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (user) {\n      setIsDispatcher(user.type === UserTypes.DISPATCHER);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (isDispatcher && !loading && !error) {\n      setIsActive(dispatcherActive.dispatcherActive);\n    }\n  }, [data, loading, error, isDispatcher]);\n\n  useEffect(() => {\n    setUnverifiedCounter(0);\n    if (data) {\n      data.users.forEach(({studentInfo}: User) => {\n        studentInfo?.accountStatus === StudentAccountStatus.UNVERIFIED\n        && setUnverifiedCounter(prevState => prevState + 1);\n      });\n    }\n  }, [data]);\n\n  const onClick = () => {\n    const screenWidth = window.screen.width;\n\n    setCollapsed((prevState) => {\n      if (screenWidth < 1024) {\n        return !prevState;\n      } else {\n        return prevState;\n      }\n    });\n  }\n\n  const FinishFooter = ({dispatch}: any) => {\n    const handleCancel = () => dispatch({type: \"POP_POPUP_WINDOW\"});\n    const handleOk = async () => {\n      try {\n        const result = await client.mutate({\n          mutation: DISABLE_DISPATCHER\n        });\n        if (result.data.disableDispatcher.userErrors.length) {\n          result.data.disableDispatcher.userErrors.forEach(({message}: any) => {\n            dispatchNotification({\n              header: \"Помилка\",\n              message,\n              type: \"alert\",\n            });\n          })\n        } else {\n          dispatchNotification({\n            header: \"Успішно!\",\n            message: `Робочий день закінчено`,\n            type: \"ok\",\n          });\n          dispatch({type: \"POP_POPUP_WINDOW\"});\n          setIsActive(false);\n        }\n      } catch (e: any) {\n        dispatchNotification({\n          header: \"Помилка\",\n          message: JSON.stringify(e),\n          type: \"alert\",\n        });\n      }\n    };\n\n    return (\n      <>\n        <Button\n          color='blue'\n          style={{marginRight: 8, height: 40}}\n          onClick={handleCancel}\n        >\n          Відміна\n        </Button>\n        <Button\n          color='red'\n          onClick={handleOk}\n        >\n          Завершити роботу\n        </Button>\n      </>\n    )\n  }\n\n  const handleFinishClick = () => {\n    dispatchPopupWindow({\n      header: <h1>Бажаєте завершити роботу?</h1>,\n      body: <p>Цю дію неможливо буде відмінити</p>,\n      footer: <FinishFooter/>,\n      isConfirm: true,\n    });\n  }\n\n  return (\n    <div\n      // onMouseEnter={() => setCollapsed(false)}\n      onMouseLeave={() => setCollapsed(true)}\n      className={[styles[collapsed.toString()], styles.navigation].join(\" \")}\n    >\n      {isDispatcher && !isActive && (\n        <div className={styles.dispatcherInactive}>\n          <h1 className={styles.dayFinishedTitle}>Робочий день закінчено</h1>\n          <Button color='red' onClick={handleLogout}>Вийти з акаунту</Button>\n        </div>\n      )}\n      <div className={styles.logoWrapper} onClick={() => setCollapsed(prev => !prev)}>\n        <Logo\n          title={collapsed ? \"Au\" : \"Auditorium\"}\n          description=\"Система управління видачею аудиторій\"\n          size=\"small\"\n        />\n      </div>\n      <img\n        className={styles.menuIcon}\n        src={menuIcon}\n        alt=\"menu\"\n      />\n      <p className={styles.currentPageName}>\n        <Switch>\n          <Route exact path=\"/classrooms\">\n            Аудиторії\n          </Route>\n          <Route exact path=\"/users\">\n            Користувачі\n          </Route>\n          <Route exact path=\"/registry\">\n            Журнал\n          </Route>\n          {/*<Route exact path=\"/schedule\">*/}\n          {/*  Розклад*/}\n          {/*</Route>*/}\n          <Route exact path=\"/queue\">\n            Черга\n          </Route>\n          <Route exact path=\"/profile\">\n            Мій профіль\n          </Route>\n          <Route exact path=\"/admin\">\n            Налаштування\n          </Route>\n        </Switch>\n      </p>\n      <ul>\n        <li>\n          <NavLink\n            activeClassName={styles.linkActive}\n            className={styles.link}\n            onClick={onClick}\n            to=\"/classrooms\"\n          >\n            <img className={styles.icon} src={classroomsIcon} alt=\"classrooms\"/>\n            Аудиторії\n          </NavLink>\n        </li>\n        <li>\n          {unverifiedCounter !== 0 && <span className={styles.alert}>!</span>}\n          <NavLink\n            activeClassName={styles.linkActive}\n            className={styles.link}\n            onClick={onClick}\n            to=\"/users\"\n          >\n            <img className={styles.icon} src={usersIcon} alt=\"users\"/>\n            Користувачі\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            activeClassName={styles.linkActive}\n            className={styles.link}\n            onClick={onClick}\n            to=\"/registry\"\n          >\n            <img className={styles.icon} src={registryIcon} alt=\"registry\"/>\n            Журнал\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            activeClassName={styles.linkActive}\n            className={styles.link}\n            onClick={onClick}\n            to=\"/schedule\"\n          >\n            <img className={styles.icon} src={scheduleIcon} alt=\"schedule\" />\n            Розклад\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            activeClassName={styles.linkActive}\n            className={styles.link}\n            onClick={onClick}\n            to=\"/queue\"\n          >\n            {/*TODO change PNG icon to SVG*/}\n            <img className={styles.icon} src={queueIcon} alt=\"queue\"/>\n            Черга\n          </NavLink>\n        </li>\n        {/*<li>*/}\n        {/*  <NavLink*/}\n        {/*    activeClassName={styles.linkActive}*/}\n        {/*    className={styles.link}*/}\n        {/*    onClick={onClick}*/}\n        {/*    to=\"/profile\"*/}\n        {/*  >*/}\n        {/*    <img className={styles.icon} src={profileIcon} alt=\"profile\" />*/}\n        {/*    Мій профіль*/}\n        {/*  </NavLink>*/}\n        {/*</li>*/}\n        <li>\n          <NavLink\n            activeClassName={styles.linkActive}\n            className={styles.link}\n            onClick={onClick}\n            to=\"/admin\"\n          >\n            <img className={[styles.icon, styles.settings].join(' ')} src={controlIcon} alt=\"control\"/>\n            Налаштування\n          </NavLink>\n        </li>\n      </ul>\n      {isDispatcher && (\n        <div\n          className={collapsed ? styles.finishButtonWrapperCollapsed : styles.finishButtonWrapper}\n          title='Закінчити роботу'\n        >\n          <Button onClick={handleFinishClick}>\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" fill='#fff'\n                 x=\"0px\" y=\"0px\"\n                 viewBox=\"0 0 32 32\">\n              <path d=\"M30.9,13.6c-0.1-0.1-0.1-0.2-0.2-0.3l-4-4c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l2.3,2.3H22v-3V3c0-0.6-0.4-1-1-1H4\n              c0,0,0,0,0,0C3.9,2,3.7,2,3.6,2.1c0,0,0,0-0.1,0c0,0-0.1,0-0.1,0.1c0,0-0.1,0.1-0.1,0.1c0,0,0,0,0,0C3.2,2.4,3.1,2.5,3.1,2.6\n              c0,0,0,0,0,0.1C3,2.8,3,2.9,3,3v22c0,0.4,0.2,0.8,0.6,0.9l9,4C12.7,30,12.9,30,13,30c0.2,0,0.4-0.1,0.5-0.2c0.3-0.2,0.5-0.5,0.5-0.8\n              v-3h7c0.6,0,1-0.4,1-1V15h5.6l-2.3,2.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l4-4c0.1-0.1,0.2-0.2,0.2-0.3\n              C31,14.1,31,13.9,30.9,13.6z M10,21c0,0.6-0.4,1-1,1s-1-0.4-1-1v-4c0-0.6,0.4-1,1-1s1,0.4,1,1V21z M20,10v14h-6V7\n              c0-0.4-0.2-0.8-0.6-0.9L8.7,4H20V10z\"/>\n            </svg>\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Sidebar;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAW5QTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////g6RELgAAAHp0Uk5TAB+L6PrOeQQUqerxuiMCPNf3tw2i+f/0YggSjf2qHibD/MRW6z9LaFUZjHBggEX4DnQ451EKbPtZ8kd9nAxaeESzCwZXkpdkLKHkkAcVb77hv18TMX9zOhdm2+0YBTtbTwNU0fX+ccz287BpQM9j4yB35kIcUHUWmKALqDRoAAABNklEQVR4nGNgGAVIgJGJmYWVjZ2BgYOTi5uHl4GPX0BQiB8hLywiKiYmJi4hKSUtA2TIyskriIkpKvHBFSiziIGAiqqaIIiWUdcA8zXhCrTEIEBbB0Lr6oEU6hvAFUhDFRgaGYMoURNTM3MxYzOEGyzMwfKWVgbWQJaMjSaDrZ29gy1CgZQjyG2iZk4Mzi6ubu5IMjDg4Skq5uXNji8kfHwRnmKQ9PPnYgkIDArGUCYc4heqGxYeERkFclO0SAxUPFY+Ll4nITwmMSkZJJGi5CAvkApkpLpC5HnT0jOA3MysbKkcsD/FcuPyVEB0IEjaVl1QDAaSleV5wIx8yZgCIABZ4VyoApcXSy2KK4ZwS+DuKs0UQwYCcWWBIFAOV1Ahhgrs0X1WiaZAF11BqS4qyMEXnEMVAAAgGzxIgVeVqgAAAABJRU5ErkJggg==\"","import React from \"react\";\r\nimport styles from \"./header.module.css\";\r\n\r\nconst Header: React.FC = ({ children }) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      {children}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import {gql} from \"@apollo/client\";\r\n\r\nexport const GET_REGISTER = gql`\r\n    query getRegister($where: RegisterWhereInput!) {\r\n        register(where: $where) {\r\n            id\r\n            user {\r\n                lastName\r\n                firstName\r\n                patronymic\r\n                id\r\n                type\r\n                email\r\n                phoneNumber\r\n                nameTemp\r\n            }\r\n            classroom {\r\n                name\r\n            }\r\n            nameTemp\r\n            start\r\n            end\r\n        }\r\n    }\r\n`","export const getMinutesWithZero = (number: string | number) => {\n  const str = number.toString();\n  const strLength = str.length;\n  if (strLength === 1) return `0${number}`;\n  return number;\n};","import moment from \"moment\";\r\n\r\nexport const SECOND = 1000;\r\nexport const MINUTE = SECOND * 60;\r\nexport const HOUR = MINUTE * 60;\r\nexport const TIME_SNIPPETS = [\":00\", \":15\", \":30\", \":45\"];\r\nexport const WORKING_DAY_END = 23;\r\nexport const WORKING_DAY_START = 8;\r\n\r\nexport const FIRST_SEMESTER_START_DATE = moment().set('month', 7).set('date', 1).format('YYYY-MM-DD');\r\nexport const SECOND_SEMESTER_START_DATE = moment().set('month', 0).set('date', 1).format('YYYY-MM-DD');\r\nexport const FIRST_SEMESTER_END_DATE = moment().set('month', 11).set('date', 31).format('YYYY-MM-DD');\r\nexport const SECOND_SEMESTER_END_DATE = moment().set('month', 5).set('date', 30).format('YYYY-MM-DD');\r\nexport const CONSTANTLY_START_DATE = moment().set('month', 0).set('date', 1).format('YYYY-MM-DD');\r\nexport const CONSTANTLY_END_DATE = moment().set('month', 11).set('date', 31).set('year', 2099).format('YYYY-MM-DD');\r\n","import {HOUR, MINUTE, TIME_SNIPPETS, WORKING_DAY_END, WORKING_DAY_START,} from \"./constants\";\nimport {\n  ACCESS_RIGHTS,\n  ClassroomType,\n  DisabledState,\n  OccupiedInfo,\n  OccupiedState,\n  OccupiedStateUa,\n  QueuePolicyTypes,\n  ScheduleUnitType,\n  StudentAccountStatus,\n  User,\n  UserTypes,\n} from \"../models/models\";\nimport moment from \"moment\";\nimport {ReactElement} from \"react\";\nimport {accessRightsVar} from \"../api/client\";\n\nexport const getScheduleTimeline = (start: number, end: number): string[] => {\n  let timeSnippets: string[] = [];\n  for (let hour = start; hour <= end; hour++) {\n    if (hour === end) {\n      timeSnippets.push(hour + \":00\");\n    } else {\n      TIME_SNIPPETS.forEach((minutes) => {\n        timeSnippets.push(hour + minutes);\n      });\n    }\n  }\n  return timeSnippets;\n};\n\nconst getScheduleTimeInMilliseconds = (scheduleUnitTime: any) => {\n  return scheduleUnitTime\n    .split(\":\")\n    .map((el: any, index: number) => {\n      return index === 0 ? Number(el) * HOUR : Number(el) * MINUTE;\n    })\n    .reduce((acc: any, curr: any) => acc + curr);\n};\n\nexport const getPossiblyOccupied = (schedule: Array<any>) => {\n  const current =\n    new Date().getHours() * HOUR + new Date().getMinutes() * MINUTE;\n  const timeSnippets = schedule.map((el: any) => {\n    return {\n      from: getScheduleTimeInMilliseconds(el.from),\n      to: getScheduleTimeInMilliseconds(el.to),\n    };\n  });\n  return timeSnippets\n    .map((el: any) => {\n      return current >= el.from && current <= el.to;\n    })\n    .some((el: any) => el === true);\n};\n\nexport const getTimeHHMM = (date: Date) => {\n  return date.getHours() + \":\" + formatMinutesToMM(date.getMinutes());\n};\n\nexport const getScheduleUnitRowLength = (\n  schedule: Array<ScheduleUnitType>,\n  units: string\n) =>\n  schedule\n    .map((scheduleUnit: ScheduleUnitType) => {\n      return parseInt(scheduleUnit.to) - parseInt(scheduleUnit.from) + units;\n    })\n    .join(\" \");\n\nexport const formatMinutesToMM = (value: number) => {\n  if (value <= 9) return `0${value}`;\n  else return value;\n};\n\nexport const formatTempName = (tempName: string) => {\n  const withSpaces = tempName.toLowerCase().replaceAll(/\\./gmi, '. ')\n  const words = withSpaces.split(' ');\n  const capitalizedWords = words.map(word => word[0]?.toUpperCase() === undefined ? '' : word[0].toUpperCase() + word.slice(1, word.length))\n  return capitalizedWords.join(' ')\n};\n\nexport const fullName = (user: User, withInitials = false) => {\n  if (user) {\n    if (user.nameTemp) return user.nameTemp;\n    if (withInitials) {\n      return `${user.lastName} ${user.firstName.charAt(0)}. ${\n        user.patronymic ? user.patronymic.charAt(0) + \".\" : \"\"\n      }`;\n    } else {\n      return `${user.lastName} ${user.firstName} ${\n        user.patronymic ? user.patronymic : \"\"\n      }`;\n    }\n  }\n  return \"\";\n};\n\nexport const typeStyle = (occupiedUser: User) => {\n  const student = {backgroundColor: \"rgba(46,40,124)\", color: \"#fff\"};\n  const employee = {backgroundColor: \"#ffc000\", color: \"#fff\"};\n  const vacant = {\n    backgroundColor: \"transparent\",\n    color: \"#000\",\n  };\n  if (occupiedUser !== null) {\n    switch (occupiedUser?.type) {\n      case UserTypes.STUDENT:\n        return student;\n      case UserTypes.POST_GRADUATE:\n        return student;\n      default:\n        return employee;\n    }\n  }\n  return vacant;\n};\n\n//get int from time unit. ex: \"9:15\" -> 36 where each 15 min == 1; ex: \"00:15\" -> 1, \"10:00\" ->40\nconst simpleIntFromScheduleUnit = (time: string) => {\n  const reducer = (accumulator: any, currentValue: any) =>\n    accumulator + currentValue;\n  return time\n    .split(\":\")\n    .map((el: string, index: number) => {\n      if (index === 0) {\n        return parseInt(el) * 4;\n      } else {\n        switch (parseInt(el)) {\n          case 0:\n            return 0;\n          case 15:\n            return 1;\n          case 30:\n            return 2;\n          case 45:\n            return 3;\n        }\n      }\n    })\n    .reduce(reducer);\n};\n\nexport const isFirstScheduleUnitEmpty = (units: Array<ScheduleUnitType>) => {\n  const firstItem = {\n    from: WORKING_DAY_START + ':00',\n    to: units[0].from,\n  }\n  return scheduleUnitSize(firstItem as ScheduleUnitType) > 0\n}\n\nexport const scheduleUnitSize = (unit: ScheduleUnitType) => {\n  const fromArr = unit.from.split(':');\n  const toArr = unit.to.split(':');\n  const from = moment().set('hours', parseInt(fromArr[0])).set('minutes', parseInt(fromArr[1]));\n  const to = moment().set('hours', parseInt(toArr[0])).set('minutes', parseInt(toArr[1]));\n  const diff = to.diff(from);\n  return diff / 1000 / 60 / 60\n}\nexport const getScheduleUnitSize = (\n  units: Array<ScheduleUnitType>,\n  fillEmpty = true\n) => {\n  if (!units.length) return '';\n  const items = [];\n\n  let lastPeriodEnd = WORKING_DAY_START + ':00';\n\n  for (let item of units) {\n    const spaceItem = {\n      from: lastPeriodEnd,\n      to: item.from\n    }\n    const spaceSize = scheduleUnitSize(spaceItem as ScheduleUnitType);\n    spaceSize && items.push(spaceSize);\n\n    const time = scheduleUnitSize(item);\n    items.push(time);\n\n    lastPeriodEnd = item.to;\n  }\n\n  if (fillEmpty) {\n    items.push(WORKING_DAY_END - parseFloat(units[units.length - 1].to));\n  }\n\n  const percent = (WORKING_DAY_END - WORKING_DAY_START) / 100\n\n  return items.map((item) => `${(item / percent).toFixed(1)}%`).join(\" \");\n};\n//get schedule units size in fr units for grids\n\nexport const ISODateString = (d: Date) => {\n  function pad(n: any) {\n    return n < 10 ? \"0\" + n : n;\n  }\n\n  return (\n    d.getUTCFullYear() +\n    \"-\" +\n    pad(d.getUTCMonth() + 1) +\n    \"-\" +\n    pad(d.getUTCDate())\n    // +\n    // \"T\" +\n    // pad(d.getUTCHours()) +\n    // \":\" +\n    // pad(d.getUTCMinutes()) +\n    // \":\" +\n    // pad(d.getUTCSeconds()) +\n    // \"Z\"\n  );\n};\n\nexport const scheduleUnitToDate = (item: ScheduleUnitType) => {\n  const from = item.from.split(':');\n  const to = item.to.split(':');\n  const fromHours = +from[0];\n  const fromMinutes = +from[1];\n  const toHours = +to[0];\n  const toMinutes = +to[1];\n  const fromDate = moment({hours: fromHours, minutes: fromMinutes, seconds: 0, milliseconds: 0});\n  const toDate = moment({hours: toHours, minutes: toMinutes, seconds: 0, milliseconds: 0});\n\n  return {\n    from: fromDate,\n    to: toDate\n  };\n};\n\nexport const isOccupiedOnSchedule = (scheduleUnits: ScheduleUnitType[]) => {\n  const result: any = [];\n\n  scheduleUnits.forEach(item => result.push(scheduleUnitToDate(item)));\n\n  return result.some((item: { from: Date, to: Date }) => {\n    const current = moment();\n\n    return current.isAfter(item.from) && current.isBefore(item.to);\n  });\n};\n\nexport const showNotification = (dispatcher: any, data: string[] | HTMLElement[] | ReactElement[]) => {\n  dispatcher({\n    header: data[0],\n    message: data[1],\n    type: data[2],\n  });\n};\n\nexport const setAccessRights = (user: User) => {\n  let accessRights = ACCESS_RIGHTS.USER;\n\n  if (user && user?.type) {\n    switch (user.type) {\n      case UserTypes.ADMIN:\n        accessRights = ACCESS_RIGHTS.ADMIN;\n        break;\n      case UserTypes.DISPATCHER:\n        accessRights = ACCESS_RIGHTS.DISPATCHER;\n        break;\n      default:\n        accessRights = ACCESS_RIGHTS.USER;\n    }\n  }\n\n  accessRightsVar(accessRights);\n};\n\n\nexport const isClassroomNotFree = (occupied: OccupiedInfo) => {\n  return occupied.state !== OccupiedState.FREE;\n};\n\nexport const checkVerified = (user: User) => {\n  if (!user.studentInfo) return true;\n  return user.studentInfo.accountStatus !== StudentAccountStatus.UNVERIFIED;\n};\n\nexport const isStudent = (type: UserTypes) => {\n  return type === UserTypes.STUDENT || type === UserTypes.POST_GRADUATE;\n}\n\nexport const isTimeout = (time: string, returnDiffInMs = false) => {\n  const outerTime = moment(time);\n  const currentTime = moment();\n  if (returnDiffInMs) return currentTime.diff(outerTime);\n  return currentTime.diff(outerTime) > 0;\n}\n\nexport const shouldOccupiedByTeacherDate = (classroomName: string, scheduleUnits: ScheduleUnitType[]) => {\n  let endH = moment().set('hours', WORKING_DAY_END).set('minutes', 0).set('seconds', 0);\n  if (!scheduleUnits.length) return endH;\n  const occupiedOnSchedule = scheduleUnits.some(scheduleUnit => {\n    const [fromH, fromM] = scheduleUnit.from.split(':');\n    const [toH, toM] = scheduleUnit.to.split(':');\n    const fromDate = moment().set('hours', +fromH).set('minutes', +fromM);\n    const toDate = moment().set('hours', +toH).set('minutes', +toM);\n    const currentDate = moment();\n\n    const hasIntersection = currentDate.isBetween(fromDate, toDate)\n    if (hasIntersection) endH = fromDate;\n    return endH;\n  });\n}\n\nexport const shouldOccupiedByTeacher = (classroomName: string, scheduleUnits: ScheduleUnitType[]) => {\n  if (!scheduleUnits.length) return 'Вільно'\n  const occupiedOnSchedule = scheduleUnits.some(scheduleUnit => {\n    const [fromH, fromM] = scheduleUnit.from.split(':');\n    const [toH, toM] = scheduleUnit.to.split(':');\n    const fromDate = moment().set('hours', +fromH).set('minutes', +fromM);\n    const toDate = moment().set('hours', +toH).set('minutes', +toM);\n    const currentDate = moment();\n\n    const hasIntersection = currentDate.isBetween(fromDate, toDate)\n\n    return hasIntersection;\n  });\n  if (occupiedOnSchedule) return 'Зайнято за розкладом';\n  return 'Вільно';\n};\n\nexport const defineOccupyStatus = (classroom: ClassroomType, scheduleUnits: ScheduleUnitType[], isOverdue: boolean) => {\n  const {queueInfo: {queuePolicy: {policy, queueAllowedDepartments}}, disabled, occupied} = classroom;\n\n  if (policy === QueuePolicyTypes.SELECTED_DEPARTMENTS && !queueAllowedDepartments.length) {\n    return 'Обмежений доступ';\n  }\n  if (isOverdue) return 'Резервація прострочена!';\n  if (disabled?.state === DisabledState.DISABLED) {\n    return disabled?.comment + ' до ' + moment(disabled.until).format('DD-MM-YYYY HH:mm');\n  }\n  if (isClassroomNotFree(occupied)) {\n    if (occupied.state === OccupiedState.RESERVED && occupied.keyHolder) {\n     return OccupiedStateUa[occupied?.state as OccupiedState]\n       + ` (ключ в класі у ${fullName(occupied.keyHolder, true)})`;\n    }\n    return OccupiedStateUa[occupied?.state as OccupiedState];\n  }\n  return shouldOccupiedByTeacher(classroom.name, scheduleUnits);\n};\n\nexport const formatTimeWithZero = (time: string) => {\n  if (!time) return;\n\n  const [hh, mm] = time.split(':');\n  const formattedHH = hh.length === 1 ? '0' + hh : hh;\n  const formattedMM = mm.length === 1 ? '0' + mm : mm;\n  return `${formattedHH}:${formattedMM}`;\n}\n\nexport const getBriefString = (str: string) => {\n  if (!str) return '';\n  if (str.length < 16) return str;\n\n  const words = str.split(' ');\n\n  const briefWords = words.map(word => {\n    if (word[3] === 'о' || word[3] === 'е' || word[3] === 'і' || word[3] === 'ї'\n      || word[3] === 'а' || word[3] === 'у'|| word[3] === 'и') {\n\n      return word.slice(0, 3) + (word.length > 3 ? '.' : '');\n    }\n\n    return word.slice(0, 4) + (word.length > 4 ? '.' : '');\n  });\n\n  return briefWords.join(' ');\n};\n","import React, {ReactFragment} from \"react\";\r\nimport styles from \"./title.module.css\";\r\n\r\ninterface PropTypes {\r\n  title: ReactFragment | string;\r\n}\r\n\r\nconst Title: React.FC<PropTypes> = ({ title }) => {\r\n  return (\r\n    <div className={styles.title}>\r\n      <p>{title}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Title;\r\n","import React from \"react\";\r\nimport styles from \"./userProfile.module.css\";\r\nimport {useQuery} from \"@apollo/client\";\r\nimport {GET_USER_BY_ID} from \"../../api/operations/queries/users\";\r\nimport Title from \"../title/Title\";\r\nimport {UserTypes, UserTypesUa} from \"../../models/models\";\r\nimport Button from \"../button/Button\";\r\nimport moment from \"moment\";\r\n\r\ninterface PropTypes {\r\n  userId: number;\r\n}\r\n\r\nconst NO_EMAIL = 'No email';\r\nconst NO_PHONE_NUMBER = 'No phone number';\r\n\r\nconst UserProfile: React.FC<PropTypes> = ({userId}) => {\r\n  const {data, loading, error} = useQuery(GET_USER_BY_ID, {\r\n    variables: {\r\n      where: {\r\n        id: userId,\r\n      }\r\n    },\r\n  });\r\n\r\n  if (!loading && !error)\r\n    return (\r\n      <div>\r\n        <Title title=\"Персональний номер\"/>\r\n        <p>{data.user.id}</p>\r\n        <Title title=\"Статус\"/>\r\n        <p>{UserTypesUa[data.user.type as UserTypes]}</p>\r\n        {data.user.department && (\r\n          <>\r\n            <Title title=\"Кафедра\"/>\r\n            <p>{data.user.department.name}</p>\r\n          </>\r\n        )}\r\n        <Title title=\"E-mail\"/>\r\n        <p>\r\n          <Button disabled={data.user.email === NO_EMAIL}>\r\n            <a className={styles.link} href={`mailto:${data.user.email}`}>\r\n              {data.user.email === NO_EMAIL ? 'Немає даних' : data.user.email}\r\n            </a>\r\n          </Button>\r\n        </p>\r\n        <Title title=\"Телефон\"/>\r\n        <p>\r\n          <Button disabled={data.user.phoneNumber === NO_PHONE_NUMBER}>\r\n            <a className={styles.link} href={`tel:${data.user.phoneNumber}`}>\r\n              {data.user.phoneNumber === NO_PHONE_NUMBER ? 'Немає даних' : data.user.phoneNumber}\r\n            </a>\r\n          </Button>\r\n        </p>\r\n      </div>\r\n    );\r\n  return <p>Loading...</p>;\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, {useState} from \"react\";\r\nimport styles from \"./registry.module.css\";\r\nimport mainStyles from \"../../styles/main.module.css\";\r\nimport Header from \"../../components/header/Header\";\r\nimport {useQuery} from \"@apollo/client\";\r\nimport {GET_REGISTER} from \"../../api/operations/queries/register\";\r\nimport {RegisterUnit} from \"../../models/models\";\r\nimport pdfMake from \"pdfmake/build/pdfmake\";\r\nimport vfsFonts from \"pdfmake/build/vfs_fonts\";\r\nimport Button from \"../../components/button/Button\";\r\nimport {getDocumentDefinition, getFormattedData} from \"./PDFConfig\";\r\nimport {fullName, getTimeHHMM} from \"../../helpers/helpers\";\r\nimport UserProfile from \"../../components/userProfile/UserProfile\";\r\nimport {usePopupWindow} from \"../../components/popupWindow/PopupWindowProvider\";\r\nimport moment from \"moment\";\r\n\r\nconst Registry = () => {\r\n  const dispatchPopupWindow = usePopupWindow();\r\n  const [date, setDate] = useState(moment().format('YYYY-MM-DD'));\r\n  const {data, loading, error} = useQuery(GET_REGISTER, {\r\n    variables: {\r\n      where: {\r\n        AND: [{\r\n          start: {\r\n            gte: new Date(new Date(date).setHours(0, 0, 0, 0)).toISOString()\r\n          },\r\n        }, {\r\n          start: {\r\n            lte: new Date(new Date(date).setHours(23, 59, 59, 0)).toISOString()\r\n          }\r\n        }],\r\n      }\r\n    },\r\n    fetchPolicy: \"network-only\"\r\n  });\r\n  const {vfs} = vfsFonts.pdfMake;\r\n  pdfMake.vfs = vfs;\r\n  const registerData = !loading && !error ? getFormattedData(data) : [];\r\n  const registerDate = new Date(date);\r\n  const documentDefinition = getDocumentDefinition(registerDate, registerData);\r\n  const readableDate = new Date(date).getDate() + \".\"\r\n    + (new Date(date).getMonth() + 1) + \".\"\r\n    + new Date(date).getFullYear();\r\n\r\n  const handleClick = (unit: RegisterUnit) => {\r\n    if (unit.nameTemp === null) {\r\n      dispatchPopupWindow({\r\n        header: <h1>{fullName(unit.user)}</h1>,\r\n        body: <UserProfile userId={unit.user.id as number}/>,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleChangeDate = (e: any) => {\r\n    setDate(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header>\r\n        <h1>Журнал</h1>\r\n        <input\r\n          type=\"date\"\r\n          value={date}\r\n          onChange={handleChangeDate}\r\n          className={mainStyles.headerDateInput}\r\n        />\r\n        <div className={styles.buttons}>\r\n          <Button\r\n            onClick={() => {\r\n              pdfMake.createPdf(documentDefinition).print();\r\n            }}\r\n          >\r\n            Роздрукувати\r\n          </Button>\r\n          <Button\r\n            onClick={() => {\r\n              pdfMake\r\n                .createPdf(documentDefinition)\r\n                .download(\r\n                  `register_${[\r\n                    registerDate.getDate(),\r\n                    registerDate.getMonth() + 1,\r\n                    registerDate.getFullYear(),\r\n                  ].join(\".\")}.pdf`\r\n                );\r\n            }}\r\n          >\r\n            Зберегти в PDF\r\n          </Button>\r\n        </div>\r\n      </Header>\r\n\r\n      {!loading && !error ? <div className={styles.wrapper}>\r\n        <div className={styles.listHeader}>\r\n          <p>Ауд.</p>\r\n          <p>П. І. Б.</p>\r\n          <p>Від</p>\r\n          <p>До</p>\r\n        </div>\r\n        <ul className={styles.container}>\r\n          {data?.register?.length === 0 &&\r\n          <p className={styles.noItemsText}>За {readableDate} у журналі відвідувань записи відсутні</p>}\r\n          {data.register && data.register.slice()\r\n            .sort((a: RegisterUnit, b: RegisterUnit) => moment(b.start).valueOf() - moment(a.start).valueOf())\r\n            .map((unit: RegisterUnit) => {\r\n            const userName = unit.nameTemp === null ? fullName(unit.user) : unit.nameTemp;\r\n\r\n            return <li\r\n              onClick={() => handleClick(unit)}\r\n              key={unit.start + unit.classroom.name}\r\n              className={styles.unit}\r\n            >\r\n              <span>{unit.classroom.name}</span>\r\n              <span className={!unit.nameTemp ? styles.active : ''}>{userName}</span>\r\n              <span>{getTimeHHMM(new Date(unit.start))}</span>\r\n              <span>{unit.end !== null ? getTimeHHMM(new Date(unit.end)) : '-'}</span>\r\n            </li>\r\n          })}\r\n        </ul>\r\n      </div> : <div>Loading....</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Registry;\r\n","import {TDocumentDefinitions} from \"pdfmake/interfaces\";\nimport {RegisterUnit} from \"../../models/models\";\nimport moment from \"moment\";\nimport {getMinutesWithZero} from \"../../helpers/getMinutsWithZero\";\n\nexport const getDocumentDefinition = (registerDate: Date, registerData: any): TDocumentDefinitions => ({\n  pageSize: \"A4\",\n  pageOrientation: \"portrait\",\n  content: [\n    {\n      table: {\n        widths: [30, \"*\", 50, 50],\n        headerRows: 1,\n        dontBreakRows: true,\n        body: [\n          [\n            {\n              text: `Журнал відвідувань за ${[\n                registerDate.getDate(),\n                registerDate.getMonth() + 1,\n                registerDate.getFullYear(),\n              ].join(\".\")}`,\n              style: \"header\",\n              colSpan: 4,\n              alignment: \"center\",\n              margin: [0, 10, 0, 10],\n            },\n            {},\n            {},\n            {},\n          ],\n          [\n            {text: \"Ауд.\", style: \"tableHeader\", alignment: \"center\"},\n            {text: \"П.І.Б.\", style: \"tableHeader\"},\n            {text: \"Від\", style: \"tableHeader\", alignment: \"center\"},\n            {text: \"До\", style: \"tableHeader\", alignment: \"center\"},\n          ],\n          ...registerData,\n          [\n            {\n              text: \"П.І.Б. ___________________ Підпис ____________________\",\n              alignment: \"center\",\n              margin: [0, 10, 0, 10],\n              colSpan: 4,\n            },\n            {},\n            {},\n            {},\n          ],\n        ],\n      },\n    },\n  ],\n  styles: {\n    tableHeader: {\n      bold: true,\n    },\n    header: {\n      fontSize: 18,\n      bold: true,\n    },\n    subheader: {\n      fontSize: 15,\n      bold: true,\n    },\n    quote: {\n      italics: true,\n    },\n    small: {\n      fontSize: 8,\n    },\n  },\n});\n\nexport const getFormattedData = (data: any) => {\n  return data.register.slice().sort((a: RegisterUnit, b: RegisterUnit) => {\n    const aStart = moment(a.start).valueOf();\n    const bStart = moment(b.start).valueOf();\n    return bStart - aStart;\n  }).map((unit: RegisterUnit) => {\n    const start =\n      new Date(unit.start).getHours() +\n      \":\" +\n      getMinutesWithZero(new Date(unit.start).getMinutes());\n    const end =\n      unit.end !== null\n        ? new Date(unit.end).getHours() +\n        \":\" +\n        getMinutesWithZero(new Date(unit.end).getMinutes())\n        : \"—\";\n\n    return [\n      {text: unit.classroom.name, alignment: \"center\"},\n      {\n        text:\n          unit.nameTemp === null\n            ? [\n              unit.user.lastName,\n              unit.user.firstName,\n              unit.user.patronymic,\n            ].join(\" \")\n            : unit.nameTemp,\n      },\n      {text: start, alignment: \"center\"},\n      {text: end, alignment: \"center\"},\n    ];\n  })\n};","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_SCHEDULE_UNIT = gql`\r\n  query getScheduleUnit($classroomName: String!, $date: DateTime!) {\r\n    schedule(classroomName: $classroomName, date: $date) {\r\n      id\r\n      type\r\n      user {\r\n        id\r\n        lastName\r\n        firstName\r\n        patronymic\r\n      }\r\n      dateStart\r\n      dateEnd\r\n      from\r\n      to\r\n      activity\r\n    }\r\n  }\r\n`;\r\n","import moment from \"moment\";\nimport {ScheduleUnitType} from \"../models/models\";\nimport {WORKING_DAY_END, WORKING_DAY_START} from \"./constants\";\nimport {fullName, scheduleUnitSize} from \"./helpers\";\n\nexport const isDateInRange = (date: any, dateFrom: string, dateTo: string) => {\n  const momentDateFrom = moment(dateFrom);\n  const momentDateTo = moment(dateTo);\n  return date.isBetween(momentDateFrom, momentDateTo);\n};\n\nexport const getMinutesFromHHMM = (time: string) => {\n  const [hh, mm] = time.split(':');\n  return (+hh * 60) + +mm;\n};\n\nconst isIntersect = (arr: any, n: any) => {\n  // Sort intervals in increasing order of start time\n  arr.sort(function (i1: any, i2: any) {\n    return i1.start - i2.start;\n  });\n\n  // In the sorted array, if start time of an interval\n  // is less than end of previous interval, then there\n  // is an overlap\n  for (let i = 1; i < n; i++)\n    if (arr[i - 1].end > arr[i].start)\n      return true;\n\n  // If we reach here, then no overlap\n  return false;\n};\n\ninterface IntervalI {\n  start: number;\n  end: number;\n}\n\nclass Interval implements IntervalI {\n  constructor(start: number, end: number) {\n    this.start = start;\n    this.end = end;\n  }\n\n  end: number;\n  start: number;\n}\n\nexport const hasUnitDateIntersection = (dateTime: string, currentUnitId: number, allUnits: ScheduleUnitType[]) => {\n  const currentDate = moment(dateTime).startOf('day');\n  const units = currentUnitId !== -1 ? allUnits.filter(({id}) => id !== currentUnitId) : allUnits;\n\n  return units.filter(unit => {\n    const unitDateStart = moment(unit.dateStart).startOf('day');\n    const unitDateEnd = moment(unit.dateEnd).startOf('day');\n\n    return currentDate.isBetween(unitDateStart, unitDateEnd);\n  });\n};\n\nexport const hasUnitTimeIntersection = (intersectedElement: ScheduleUnitType, timeFrom: string, timeTo: string) => {\n  const intersectedFromMinutes = getMinutesFromHHMM(intersectedElement.from);\n  const intersectedToMinutes = getMinutesFromHHMM(intersectedElement.to);\n  const currentFromMinutes = getMinutesFromHHMM(timeFrom);\n  const currentToMinutes = getMinutesFromHHMM(timeTo);\n\n  const intervalA = new Interval(intersectedFromMinutes, intersectedToMinutes);\n  const intervalB = new Interval(currentFromMinutes, currentToMinutes);\n\n  if (isIntersect([intervalA, intervalB], 2)) {\n    return intersectedElement;\n  } else {\n    return false;\n  }\n};\n\nexport const hasUnitDateTimeIntersection = (dateTime: string, currentUnitId: number, allUnits: ScheduleUnitType[] = [], timeFrom: string, timeTo: string) => {\n  if (!allUnits?.length) return false;\n\n  const intersectedElements = hasUnitDateIntersection(dateTime, currentUnitId, allUnits);\n  if (intersectedElements.length) {\n    const result = intersectedElements.filter(el => hasUnitTimeIntersection(el, timeFrom, timeTo));\n    return result.length ? result : false;\n  } else {\n    return false;\n  }\n};\n\nexport const withinPrimaryUnitBoundaries = (subUnit: ScheduleUnitType, primaryUnit: ScheduleUnitType) => {\n  const subFrom = getMinutesFromHHMM(subUnit.from);\n  const subTo = getMinutesFromHHMM(subUnit.to);\n  const primaryFrom = getMinutesFromHHMM(primaryUnit.from);\n  const primaryTo = getMinutesFromHHMM(primaryUnit.to);\n\n  return (\n    moment(subUnit.dateStart).startOf('day')\n      .isSameOrAfter(moment(primaryUnit.dateStart).startOf('day')) &&\n    moment(subUnit.dateEnd).startOf('day')\n      .isSameOrBefore(moment(primaryUnit.dateEnd).startOf('day')) &&\n    subFrom >= primaryFrom && subTo <= primaryTo\n  );\n};\n\nexport const isBiggerThanSubstitutions = (primaryUnit: ScheduleUnitType, substitutions: ScheduleUnitType[] = []) => {\n  if (!substitutions?.length) return true;\n\n  const subStartDateMin = moment\n    .min(substitutions.map(unit => moment(unit.dateStart).startOf('day'))).startOf('day');\n  const subStartDateMax = moment\n    .max(substitutions.map(unit => moment(unit.dateEnd).startOf('day'))).startOf('day');\n  const subFromMin = Math.min(...substitutions.map(unit => getMinutesFromHHMM(unit.from)));\n  const subToMax = Math.max(...substitutions.map(unit => getMinutesFromHHMM(unit.to)));\n  const primaryFrom = getMinutesFromHHMM(primaryUnit.from);\n  const primaryTo = getMinutesFromHHMM(primaryUnit.to);\n\n  return (\n    moment(primaryUnit.dateStart).startOf('day').isBefore(subStartDateMin) &&\n    moment(primaryUnit.dateEnd).startOf('day').isAfter(subStartDateMax) &&\n    subFromMin > primaryFrom && subToMax < primaryTo\n  );\n};\n\nexport const isOverlaps = (\n  dateStart: string, dateEnd: string, timeFrom: string, timeTo: string,\n  unit: ScheduleUnitType\n) => {\n  const r1Start = moment(dateStart).startOf('day');\n  const r1End = moment(dateEnd).startOf('day');\n  const r2Start = moment(unit.dateStart).startOf('day');\n  const r2End = moment(unit.dateEnd).startOf('day');\n  if (r1Start.isSameOrBefore(r2Start) && r1End.isSameOrAfter(r2End)) {\n    return hasUnitTimeIntersection(unit, timeFrom, timeTo);\n  } else {\n    return false;\n  }\n};\n\nexport const hasOverlappedUnits = (\n  dateStart: string, dateEnd: string, timeFrom: string, timeTo: string,\n  units: ScheduleUnitType[]\n) => {\n  const result = units?.map(unit => isOverlaps(dateStart, dateEnd, timeFrom, timeTo, unit)).filter(unit => unit);\n  return result?.length ? result : false;\n};\n\nexport const mappedSchedule = (schedule: ScheduleUnitType[]): ScheduleUnitType[] => {\n  let res = []\n  const data = schedule.slice()\n    .sort(\n      (a: ScheduleUnitType, b: ScheduleUnitType) =>\n        parseInt(a.from) - parseInt(b.from)\n    );\n  let lastItemEnd = WORKING_DAY_START + ':00';\n  for (let item of data) {\n    const spacerData = {\n      from: lastItemEnd,\n      to: item.from\n    }\n    const spacer = scheduleUnitSize(spacerData as ScheduleUnitType);\n    if (spacer) {\n      res.push(spacerData);\n    }\n    lastItemEnd = item.to;\n    res.push(item);\n  }\n  res.push(WORKING_DAY_END - parseFloat(data[data.length - 1].to));\n  return res as ScheduleUnitType[];\n}\n\nexport const scheduleUnitToString = (unit: ScheduleUnitType) => {\n  return (\n    fullName(unit.user, true)\n    + ' | '\n    + moment(unit.dateStart).format('DD.MM.YYYY') + ' - '\n    + moment(unit.dateEnd).format('DD.MM.YYYY')\n    + ' | '\n    + unit.from + ' - ' + unit.to\n  );\n};\n","import React, {FC} from 'react';\nimport {fullName, getScheduleUnitSize} from \"../../helpers/helpers\";\nimport {ActivityTypes, ScheduleUnitType, ScheduleUnitTypeT} from \"../../models/models\";\nimport styles from \"../../components/scheduleUnit/scheduleUnit.module.css\";\nimport Button from \"../../components/button/Button\";\nimport { mappedSchedule } from '../../helpers/scheduleHelpers';\n\ntype PropTypes = {\n  units: ScheduleUnitType[];\n  onClick: (unit: ScheduleUnitType) => void;\n  withoutGrid?: boolean;\n}\n\nconst ScheduleUnitList: FC<PropTypes> = ({units, onClick, withoutGrid = false}) => {\n  return (\n    <ul\n      style={{\n        gridTemplateColumns: document.body.clientWidth >= 1024 ? getScheduleUnitSize(units\n            .slice()\n            .sort(\n              (a: ScheduleUnitType, b: ScheduleUnitType) =>\n                parseInt(a.from) - parseInt(b.from)\n            ))\n          : \"100%\"\n      }}\n      className={withoutGrid ? styles.scheduleSubRow : styles.scheduleRow}\n    >\n      {!!units.length && mappedSchedule(units)\n        .map((unit: ScheduleUnitType) => (\n          <li>\n            {unit?.user && (\n              <Button\n                onClick={() => onClick(unit)}\n                color={unit.type === ScheduleUnitTypeT.SUBSTITUTION ? 'orange' : 'blue'}\n                style={{\n                  height: \"2rem\",\n                  width: \"100%\",\n                  //@ts-ignore\n                  // backgroundColor: ActivityTypes[unit.activity],\n                  //@ts-ignore\n                  border: `1px solid ${ActivityTypes[unit.activity]}`,\n                  whiteSpace: 'nowrap',\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis',\n                }}\n                title={fullName(unit.user, true) + \" \" + unit.from + \" - \" + unit.to}\n              >\n                {fullName(unit.user, true) + \" \" + unit.from + \" - \" + unit.to}\n              </Button>\n            )}\n          </li>\n        ))}\n    </ul>\n  );\n};\n\nexport default ScheduleUnitList;\n","import React, {useEffect, useState} from \"react\";\nimport styles from \"./scheduleUnit.module.css\";\nimport {GET_SCHEDULE_UNIT} from \"../../api/operations/queries/schedule\";\nimport {fullName} from \"../../helpers/helpers\";\nimport {ScheduleUnitType, ScheduleUnitTypeT} from \"../../models/models\";\nimport {usePopupWindow} from \"../popupWindow/PopupWindowProvider\";\nimport UserProfile from \"../userProfile/UserProfile\";\nimport moment from \"moment\";\nimport {client} from \"../../api/client\";\nimport ScheduleUnitList from \"../../pages/schedule/ScheduleUnitList\";\n\ninterface PropTypes {\n  classroomName: string;\n  userNameSearch?: string;\n  date?: string;\n  showEmpty?: boolean;\n  color?: string;\n}\n\nconst ScheduleUnit: React.FC<PropTypes> = ({classroomName, color, userNameSearch, date, showEmpty}) => {\n\n  const [schedule, setSchedule] = useState<ScheduleUnitType[]>(null);\n  const [subSchedule, setSubSchedule] = useState<ScheduleUnitType[]>(null);\n  const [searched, setSearched] = useState(false);\n\n  useEffect(() => {\n    client.query({\n      query: GET_SCHEDULE_UNIT,\n      variables: {\n        classroomName,\n        date: moment(date).set(\"h\", 12).toISOString(),\n      },\n    }).then((data: any) => {\n      const primary = data.data.schedule.filter((unit: ScheduleUnitType) => unit.type === ScheduleUnitTypeT.PRIMARY);\n      const substitutions = data.data.schedule\n        .filter((unit: ScheduleUnitType) => unit.type === ScheduleUnitTypeT.SUBSTITUTION);\n      setSchedule(primary);\n      setSubSchedule(substitutions);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (schedule) {\n      const allUserNames = schedule.map(unit => fullName(unit.user)?.toLowerCase()).join('');\n      if (allUserNames.includes(userNameSearch?.toLowerCase())) {\n        setSearched(true);\n      } else {\n        setSearched(false);\n      }\n    }\n  }, [userNameSearch, schedule])\n\n  const dispatchPopupWindow = usePopupWindow();\n\n  const handleClick = (unit: ScheduleUnitType) => {\n    dispatchPopupWindow({\n      header: <h1>{fullName(unit.user)}</h1>,\n      body: <UserProfile userId={unit.user.id as number}/>,\n    });\n  };\n\n  if (!schedule?.length && !subSchedule?.length) return <></>;\n\n  return schedule && schedule.length && searched && (\n    <div className={styles.scheduleRowWrapper}>\n      <span style={{backgroundColor: color + '55'}}>{classroomName}</span>\n      <div className={styles.listsContainer}>\n        <div className={styles.absoluteWrapper}>\n          <ScheduleUnitList units={subSchedule} onClick={handleClick} withoutGrid/>\n        </div>\n        <ScheduleUnitList units={schedule} onClick={handleClick}/>\n      </div>\n    </div>\n  );\n};\n\nexport default ScheduleUnit;\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOMS = gql`\r\n  query getClassrooms {\r\n    classrooms {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n      chair {\r\n          id\r\n          name\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n          department {\r\n              name\r\n          }\r\n        }\r\n          keyHolder {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n          department {\r\n              name\r\n          }\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        id\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n      color\r\n      queue {\r\n        id\r\n      }\r\n      queueInfo {\r\n        queuePolicy {\r\n          policy\r\n          queueAllowedDepartments {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n          }\r\n        }\r\n    }\r\n  }\r\n`;\r\n","import {gql, useQuery} from \"@apollo/client\";\n\nexport const useLocal = (localVarName: string) => {\n  return useQuery(gql`\n      query ${localVarName} {\n        ${localVarName} @client\n      }\n  `);\n};","export default __webpack_public_path__ + \"static/media/edit.23b360e1.svg\";","import React from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport editIcon from \"../../../assets/images/edit.svg\";\nimport styles from \"./edit.module.css\";\n\ninterface PropTypes {\n  path?: string;\n  onClick?: (value?: any) => void;\n  dark?: boolean;\n}\n\nconst Edit: React.FC<PropTypes> = ({\n   path,\n   onClick,\n   dark = false\n}) => {\n  const history = useHistory();\n\n  return (\n    <img\n      src={editIcon}\n      className={[styles.editIcon, dark ? styles.dark : styles.light].join(' ')}\n      onClick={path ? (e) => {\n        e.stopPropagation();\n        history.push(path)\n      } : (e) => {\n        e.stopPropagation();\n        onClick && onClick();\n      }}\n    />\n  );\n}\n\nexport default Edit;","import React, {useEffect, useState} from \"react\";\r\nimport styles from \"./schedule.module.css\";\r\nimport Header from \"../../components/header/Header\";\r\nimport ScheduleUnit from \"../../components/scheduleUnit/ScheduleUnit\";\r\nimport {GET_CLASSROOMS} from \"../../api/operations/queries/classrooms\";\r\nimport {ACCESS_RIGHTS, ClassroomType} from \"../../models/models\";\r\nimport mainStyles from \"../../styles/main.module.css\";\r\nimport {useLocal} from \"../../hooks/useLocal\";\r\nimport Edit from \"../../components/icons/edit/Edit\";\r\nimport moment from \"moment\";\r\nimport {client} from \"../../api/client\";\r\nimport {WORKING_DAY_END, WORKING_DAY_START} from \"../../helpers/constants\";\r\n\r\nconst timePeriods = {\r\n  from: WORKING_DAY_START,\r\n  to: WORKING_DAY_END - 1,\r\n}\r\n\r\n// @ts-ignore\r\ntimePeriods[Symbol.iterator] = function() {\r\n  return {\r\n    current: this.from,\r\n    last: this.to,\r\n    next() {\r\n      if (this.current <= this.last) {\r\n        return { done: false, value: `${this.current++}:00` }\r\n      } else {\r\n        return { done: true }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst Schedule = () => {\r\n  const [date, setDate] = useState(moment().format('YYYY-MM-DD'));\r\n  const [classrooms, setClassrooms] = useState([]);\r\n  const { data: {accessRights}} = useLocal('accessRights');\r\n  const [userNameSearch, setUserNameSearch] = useState('');\r\n\r\n  const getClassrooms = () => {\r\n    setClassrooms(null);\r\n    client.query({\r\n      query: GET_CLASSROOMS,\r\n      fetchPolicy: 'network-only'\r\n    }).then(data => {\r\n      const sortedClassrooms = data.data.classrooms.slice().sort(sort);\r\n      setClassrooms(sortedClassrooms);\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n   getClassrooms();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getClassrooms();\r\n  }, [date]);\r\n\r\n  const handleChangeDate = (e: any) => {\r\n    setDate(moment(e.target.value).format('YYYY-MM-DD'));\r\n  };\r\n\r\n  const handleChangeSearch = (e: any) => {\r\n    setUserNameSearch(e.target.value);\r\n  };\r\n\r\n  const sort = (a: ClassroomType, b: ClassroomType) => a.name.localeCompare(b.name, undefined, {numeric: true, sensitivity: 'base'});\r\n\r\n  return (\r\n    <div>\r\n      <Header>\r\n        <h1>Розклад</h1>\r\n        <input\r\n          type=\"date\"\r\n          value={date}\r\n          onChange={handleChangeDate}\r\n          className={mainStyles.headerDateInput}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder='Пошук викладачів'\r\n          value={userNameSearch}\r\n          onChange={handleChangeSearch}\r\n          className={mainStyles.headerDateInput}\r\n        />\r\n        <Edit path='/adminSchedule'/>\r\n      </Header>\r\n      <div className={styles.wrapper}>\r\n        <div className={styles.scheduleHeader}>\r\n          <span className={styles.space}/>\r\n          <div className={styles.timeline}>\r\n            {/*@ts-ignore*/}\r\n            {[...timePeriods].map(el => <span>{el}</span>)}\r\n          </div>\r\n        </div>\r\n        <div className={styles.scheduleUnits}>\r\n        {classrooms?.map((classroom: ClassroomType) => <div className={styles.row}>\r\n            <ScheduleUnit\r\n              classroomName={classroom.name}\r\n              userNameSearch={userNameSearch}\r\n              date={date}\r\n              color={classroom.color}\r\n            />\r\n          </div>)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Schedule;\r\n","import {StylesConfig} from \"react-select\";\n\nexport type CategoryType = {\n  value: string;\n  label: string;\n};\n\ntype isMulti = false;\n\nexport const selectStyles: StylesConfig<CategoryType, isMulti> = ({\n  control: (provided, state) => ({\n    ...provided,\n    backgroundColor: '#2e287c',\n    border: '1px solid #fff',\n    borderRadius: 8,\n    width: 160,\n    color: '#fff',\n  }),\n  placeholder: (provided) => ({\n    ...provided,\n    color: '#fff',\n  }),\n  menuList: (provided) => ({\n    ...provided,\n    color: '#000',\n  }),\n  singleValue: (provided) => ({\n    ...provided,\n    color: '#fff',\n  }),\n  indicatorSeparator: () => ({display: 'none'})\n});\n\nexport const selectLightStyles: StylesConfig<CategoryType, isMulti> = ({\n  control: (provided, state) => ({\n    ...provided,\n    backgroundColor: '#fff',\n    border: '1px solid #2e287c',\n    borderRadius: 8,\n    color: '#000',\n  }),\n  placeholder: (provided) => ({\n    ...provided,\n    color: '#ccc',\n  }),\n  menuList: (provided) => ({\n    ...provided,\n    color: '#000',\n  }),\n  singleValue: (provided) => ({\n    ...provided,\n    color: '#000',\n  }),\n  indicatorSeparator: () => ({display: 'none'}),\n  menuPortal: base => ({...base, zIndex: 9999})\n});","import React from 'react';\nimport Select from \"react-select\";\nimport {selectStyles} from \"./selectStyles\";\n\nconst HeaderSelect = ({options, onChange}: any) => {\n  return (\n    <Select\n    options={options}\n    defaultValue={options[0]}\n    styles={selectStyles}\n    onChange={onChange}\n    />\n  );\n}\n\nexport default HeaderSelect;","import React, {useEffect, useState} from 'react';\nimport styles from './dataList.module.css';\nimport Loader from \"../loader/Loader\";\n\ninterface PropTypes {\n  header: string[];\n  data: Array<any>;\n  gridTemplateColumns?: string;\n  handleItemClick?: (id: any) => void;\n  isSearching?: boolean;\n}\n\nconst DataList: React.FC<PropTypes> = ({\n                                         header, data, gridTemplateColumns,\n                                         handleItemClick, isSearching = false\n                                       }) => {\n\n  const [columnIndex, setColumnIndex] = useState(0);\n  const [sortedData, setSortedData] = useState(data);\n  const [columns, setColumns] = useState('repeat(3, 1fr)');\n\n  useEffect(() => {\n    setSortedData(data);\n    if (gridTemplateColumns) {\n      setColumns(gridTemplateColumns);\n    } else {\n      setColumns(`20px 3fr 200px`);\n    }\n  }, [data, gridTemplateColumns]);\n\n  useEffect(() => {\n    setSortedData(data?.slice().sort((a, b) => {\n      const aValue = a.props.children[columnIndex].props.children;\n      const bValue = b.props.children[columnIndex].props.children;\n      if (typeof aValue === 'string') {\n        return aValue\n          .localeCompare(bValue, undefined, {numeric: true, sensitivity: 'base'});\n      }\n      return aValue - bValue;\n    }));\n  }, [columnIndex, data]);\n\n  const handleClick = (index: number) => {\n    setColumnIndex(index);\n  };\n\n  return (\n    <div className={styles.container}>\n      <ul className={styles.list}>\n        <li className={styles.headerRow} style={{gridTemplateColumns: columns}}>\n          {header?.map((item, index) => <span\n            onClick={() => handleClick(index)}>{item}</span>)}\n        </li>\n        {!data.length\n          ? <li className={styles.emptyResult}>Нічого не знайдено</li>\n          : sortedData?.map(item => <li\n            onClick={() => handleItemClick && handleItemClick(item.props.children[0].props.children)}\n            className={styles.row} style={{gridTemplateColumns: columns}}>{item}</li>)}\n      </ul>\n    </div>\n  );\n}\n\nexport default DataList;","import React from 'react';\nimport styles from \"./browseUserPopupBody.module.css\";\nimport {\n  EmploymentTypes,\n  EmploymentTypesUa,\n  StudentAccountStatus,\n  User,\n  UserTypes,\n  UserTypesUa\n} from \"../../../../models/models\";\nimport {fullName} from \"../../../../helpers/helpers\";\nimport Title from \"../../../../components/title/Title\";\nimport moment from \"moment\";\n\ninterface PropTypes {\n  user: User;\n};\n\nconst BrowseUserPopupBody: React.FC<PropTypes> = ({user}) => {\n  return (\n    <div>\n      {user.studentInfo?.accountStatus === StudentAccountStatus.UNVERIFIED && <div className={styles.verification}>\n          <h2>Користувача не верифіковано!</h2>\n          <p>Перед верифікацією користувача звірте правильність даних з офіційном документом.</p>\n      </div>}\n      <div className={styles.list}>\n        {!!user.queueInfo.sanctionedUntil && (\n          <p className={styles.sanctioned}>\n            Під санкціями до {moment(user.queueInfo.sanctionedUntil).format('DD-MM-YYYY HH:mm')}\n          </p>\n        )}\n        <div><span>ID: </span><span>{user.id}</span></div>\n        <div><span>Прізвище: </span><span>{user?.lastName || '-'}</span></div>\n        <div><span>Ім'я: </span><span>{user?.firstName || '-'}</span></div>\n        <div><span>По-батькові: </span><span>{user?.patronymic || '-'}</span></div>\n        <div><span>Статус: </span><span>{UserTypesUa[user.type as UserTypes]}</span></div>\n        {user.expireDate && (\n          <div>\n            <span>\n              Термін дії акаунту:\n            </span>\n            <span>\n              {moment(user.expireDate).format('DD.MM.YYYY')}\n            </span>\n          </div>\n        )}\n        {user.studentInfo && <div><span>Ступінь: </span><span>{user.studentInfo.degree.name}</span></div>}\n        {user.employeeInfo && <div><span>Зайнятість: </span>\n            <span>{EmploymentTypesUa[user.employeeInfo.employmentType as EmploymentTypes]}</span></div>}\n        <div><span>Кафедра: </span><span>{user.department ? user.department.name : 'Немає'}</span></div>\n        <div><span>E-mail: </span><span>{user.email}</span></div>\n        <div><span>Тел.: </span><span>{user.phoneNumber}</span></div>\n        {user?.extraPhoneNumbers && <div><span>Інші тел.: </span>\n            <ul>{JSON.parse(user.extraPhoneNumbers).map((item: string) => <li>{item}</li>)}</ul>\n        </div>}\n      </div>\n    </div>\n  );\n}\n\nexport default BrowseUserPopupBody;","import {gql} from \"@apollo/client\";\r\n\r\nexport const VERIFY_USER = gql`\r\n    mutation verifyUser($input: VerifyUserInput!) {\r\n        verifyUser(input: $input) {\r\n            user {\r\n                id\r\n                studentInfo {\r\n                  id\r\n                  accountStatus\r\n                }\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;\r\n","import React from 'react';\nimport styles from './headerCheckbox.module.css';\n\nconst HeaderCheckbox = ({label, checked, setChecked}: any) => {\n\n  return <div className={styles.wrapper}>\n    <label className={styles.container}>{label}\n      <input type=\"checkbox\" value={checked} onChange={setChecked}/>\n      <span className={styles.checkmark}></span>\n    </label>\n  </div>\n}\n\nexport default HeaderCheckbox;","export default __webpack_public_path__ + \"static/media/loader.fb28d849.svg\";","import React from 'react';\nimport styles from './loader.module.css';\nimport loader from './../../assets/images/loader.svg';\n\nconst Loader = () => {\n  return (\n    <div className={styles.wrapper}>\n      <img className={styles.loader} src={loader} alt=\"Loading...\"/>\n      <p>Завантаження...</p>\n    </div>\n  );\n}\n\nexport default Loader;","import {gql} from \"@apollo/client\";\n\nexport const DELETE_USER = gql`\n    mutation deleteOneUser($where: UserWhereUniqueInput!) {\n        deleteOneUser(where: $where) {\n          id\n          firstName\n          lastName\n          patronymic\n          type\n        }\n    }\n`;","import {ErrorCodes, ErrorCodesUa} from \"../models/models\";\n\ntype clientOperationHandlerType = (\n  operation: any,\n  operationName: string,\n  dispatchNotification: (value: any) => void,\n  dispatch: (value: any) => void | null,\n  successMessage?: string,\n) => void;\n\nconst handleOperation: clientOperationHandlerType = async (\n  operation, operationName, dispatchNotification, dispatch,\n  successMessage = 'Операція успішна!'\n) => {\n  try {\n    const result = await operation;\n    if (!result?.data && result?.errors) {\n      result.errors.forEach(({message}: any) => {\n        dispatchNotification({\n          header: \"Помилка\",\n          message: message,\n          type: \"alert\",\n        });\n      });\n    }\n    if (result.data?.[operationName]?.userErrors?.length) {\n      result.data?.[operationName]?.userErrors.forEach(({code}: any) => {\n        dispatchNotification({\n          header: \"Помилка\",\n          message: ErrorCodesUa[code as ErrorCodes],\n          type: \"alert\",\n        });\n      });\n    } else if (result) {\n      dispatchNotification({\n        header: \"Успішно!\",\n        message: successMessage,\n        type: \"ok\",\n      });\n      dispatch && dispatch({type: \"POP_ALL_POPUP_WINDOW\"});\n    }\n  } catch (e: any) {\n    dispatchNotification({\n      header: \"Помилка\",\n      message: JSON.stringify(e.message),\n      type: \"alert\",\n    });\n  }\n}\n\nexport default handleOperation;\n","import React from \"react\";\nimport {client} from \"../../../api/client\";\nimport {DELETE_USER} from \"../../../api/operations/mutations/deleteUser\";\nimport {ErrorCodes, ErrorCodesUa} from \"../../../models/models\";\nimport Button from \"../../../components/button/Button\";\nimport handleOperation from \"../../../helpers/handleOperation\";\n\n\ntype PropTypes = {\n  dispatchNotification: (value: any) => void;\n  dispatch?: (value: any) => void;\n  userId: number;\n}\n\nconst DeleteUserConfirmPopup: React.FC<PropTypes> = ({dispatch, dispatchNotification, userId}) => {\n  const handleCancel = () => dispatch({type: \"POP_POPUP_WINDOW\"});\n  const handleOk = async () => {\n    const operation = client.mutate({\n      mutation: DELETE_USER,\n      variables: {\n        where: {\n          id: userId\n        }\n      },\n      update(cache) {\n        cache.modify({\n          fields: {\n            users(existingUsersRefs, {readField}) {\n              return existingUsersRefs.filter(\n                (userRef: any) => userId !== readField('id', userRef),\n              );\n            },\n          },\n        })\n      }\n    })\n    await handleOperation(operation, 'deleteOneUser', dispatchNotification, dispatch, 'Користувача видалено.');\n  };\n\n  return (\n    <>\n      <Button\n        color='blue'\n        style={{marginRight: 8, height: 40}}\n        onClick={handleCancel}\n      >\n        Відміна\n      </Button>\n      <Button\n        color='red'\n        onClick={handleOk}\n      >\n        Видалити користувача\n      </Button>\n    </>\n  )\n};\n\nexport default DeleteUserConfirmPopup;","import React from 'react';\nimport Button from \"../../../../components/button/Button\";\nimport DeleteUserConfirmPopup from \"../../../users/approveFooter/DeleteUserConfirmPopup\";\n\ntype PropTypes = {\n  verify: () => void;\n  dispatch?: any;\n  dispatchPopupWindow: (value: any) => any;\n  dispatchNotification: (value: any) => any;\n  userId: number;\n}\n\nconst VerifyButton: React.FC<PropTypes> = ({verify, dispatch, dispatchPopupWindow, dispatchNotification, userId}) => {\n  const handleVerify = () => {\n    verify();\n    dispatch({\n      type: \"POP_POPUP_WINDOW\",\n    });\n  };\n\n  const handleConfirmDelete = () => {\n    dispatchPopupWindow({\n      header: <h1>Бажаєте видалити користувача?</h1>,\n      body: <p>Цю дію неможливо буде відмінити</p>,\n      footer: <DeleteUserConfirmPopup\n        dispatchNotification={dispatchNotification}\n        userId={userId}\n        dispatch={dispatch}\n      />,\n      isConfirm: true,\n    })\n  }\n\n  return (\n    <>\n      <Button\n        onClick={handleConfirmDelete}\n        style={{marginRight: 8, height: 40}}\n        color='red'\n      >\n        Видалити\n      </Button>\n      <Button onClick={handleVerify}>Верифікувати</Button>\n    </>\n  );\n}\n\nexport default VerifyButton;","import React, {useState} from \"react\";\r\nimport styles from \"./customInput.module.css\";\r\n\r\ninterface PropTypes {\r\n  label: string;\r\n  name: string;\r\n  id: string;\r\n  placeholder?: string;\r\n  type?: string;\r\n  theme?: \"dark\" | \"light\";\r\n  value?: string;\r\n  onChange?: (value: React.ChangeEvent<HTMLInputElement>) => void;\r\n  withEyeSwitcher?: boolean\r\n}\r\n\r\nconst CustomInput: React.FC<PropTypes> = ({\r\n                                            label, name, id, placeholder,\r\n                                            type = \"text\", theme = \"light\", value, onChange\r\n                                            , withEyeSwitcher = false, ...props\r\n                                          }) => {\r\n    const [showPassword, setShowPassword] = useState(false);\r\n\r\n    return (\r\n      <>\r\n        <label\r\n          htmlFor={id}\r\n          className={[styles.customLabel, styles[theme]].join(\" \")}\r\n        >\r\n          {label}\r\n          <input\r\n            value={value}\r\n            onChange={onChange}\r\n            name={name}\r\n            id={id}\r\n            className={[\r\n              styles.customInput,\r\n              theme === \"light\" ? styles.customInputLight : styles.customInputDark,\r\n            ].join(\" \")}\r\n            type={withEyeSwitcher ? showPassword ? \"text\" : \"password\" : type}\r\n            placeholder={placeholder}\r\n            {...props}\r\n          />\r\n          {withEyeSwitcher && (\r\n            <div className={styles.eye} onClick={() => setShowPassword(prevState => !prevState)}\r\n              style={{opacity: showPassword ? 1 : .3}}\r\n            >\r\n              <svg version=\"1.1\" width='24' height='24' xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\r\n                   viewBox=\"0 0 512 512\" fill='#fff'>\r\n                <g>\r\n                  <g>\r\n                    <path d=\"M508.177,245.995C503.607,240.897,393.682,121,256,121S8.394,240.897,3.823,245.995c-5.098,5.698-5.098,14.312,0,20.01\r\n\t\t\tC8.394,271.103,118.32,391,256,391s247.606-119.897,252.177-124.995C513.274,260.307,513.274,251.693,508.177,245.995z M256,361\r\n\t\t\tc-57.891,0-105-47.109-105-105s47.109-105,105-105s105,47.109,105,105S313.891,361,256,361z\"/>\r\n                  </g>\r\n                </g>\r\n                <g>\r\n                  <g>\r\n                    <path d=\"M271,226c0-15.09,7.491-28.365,18.887-36.53C279.661,184.235,268.255,181,256,181c-41.353,0-75,33.647-75,75\r\n\t\t\tc0,41.353,33.647,75,75,75c37.024,0,67.668-27.034,73.722-62.358C299.516,278.367,271,255.522,271,226z\"/>\r\n                  </g>\r\n                </g>\r\n              </svg>\r\n            </div>\r\n          )}\r\n        </label>\r\n      </>\r\n    );\r\n  }\r\n;\r\n\r\nexport default CustomInput;\r\n","export const PASSWORD_SOFT_VALID = /^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})/;\nexport const PASSWORD_STRONG_VALID = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/;\nexport const PHONE_VALID = /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{4})/;\nexport const ONLY_DIGITS = /^[0-9,+]*$/;\nexport const EMAIL_VALID = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\nexport const ONLY_CYRILLIC = /[\\u0400-\\u04FF-’]/;\n\nexport const validationErrors = {\n  REQUIRED_FIELD: \"Обов'язкове поле\",\n  INVALID_FORMAT: \"Невірний формат\",\n  PASSWORDS_NOT_SAME: 'Паролі не співпадають',\n  INVALID_PASSWORD: 'Не меньше 6 символів і має містити букви та цифри.',\n  ONLY_CYRILLIC: \"Тільки символи кирилиці\",\n  NO_START_YEAR: \"Рік вступу не вибрано\",\n  NO_DEPARTMENT: \"Кафедру не вибрано\",\n  NO_DEGREE: \"Навчальний ступінь не вибрано\",\n}\n\n","import {gql} from \"@apollo/client\";\r\n\r\nexport const COMPLETE_EMPLOYEE_ACCOUNT = gql`\r\n    mutation completeEmployeeAccountRequestEmail($input: CompleteEmployeeAccountRequestEmailInput!) {\r\n        completeEmployeeAccountRequestEmail(input: $input) {\r\n            operationSuccess\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;\r\n","import React, {useState} from 'react';\nimport CustomInput from \"../../../components/customInput/CustomInput\";\nimport {EMAIL_VALID} from \"../../../helpers/validators\";\nimport handleOperation from \"../../../helpers/handleOperation\";\nimport {client} from \"../../../api/client\";\nimport {COMPLETE_EMPLOYEE_ACCOUNT} from \"../../../api/operations/mutations/completeEmployeeAccountRequestEmail\";\nimport {GET_USERS} from \"../../../api/operations/queries/users\";\n\ntype PropTypes = {\n  dispatchNotification: (value: any) => void;\n  dispatch?: (value: any) => void;\n  userId: number;\n}\n\nconst CompleteEmployeeAccountPopupBody: React.FC<PropTypes> = ({dispatchNotification, userId, ...props}) => {\n  const [email, setEmail] = useState('');\n  const submitCompleteAccount = async (e: any) => {\n    e.preventDefault();\n    if (EMAIL_VALID.test(email)) {\n      const completeEmployeeAccountRequestEmail = client.mutate({\n        mutation: COMPLETE_EMPLOYEE_ACCOUNT,\n        variables: {\n          input: {\n            email,\n            userId\n          }\n        }\n      });\n      await handleOperation(completeEmployeeAccountRequestEmail, 'completeEmployeeAccountRequestEmail',\n        dispatchNotification, props.dispatch, 'Лист надіслано')\n      await client.query({\n        query: GET_USERS\n      });\n    } else {\n      dispatchNotification({\n        header: \"Помилка\",\n        message: 'Невірний формат e-mail',\n        type: \"alert\",\n      })\n    }\n  };\n\n  return (\n    <div>\n      <p>Введіть e-mail адресу співробітника</p>\n      <form id='completeEmployeeAccount' onSubmit={submitCompleteAccount}>\n        <CustomInput\n          theme='dark'\n          label='E-mail адреса:'\n          name='completeEmployeeAccount'\n          id='completeEmployeeAccountInput'\n          value={email}\n          onChange={(e: any) => setEmail(e.target.value)}\n        />\n      </form>\n    </div>\n  );\n}\n\nexport default CompleteEmployeeAccountPopupBody;","import {gql} from \"@apollo/client\";\n\nexport const UPDATE_USER = gql`\n    mutation updateOneUser($data: UserUpdateInput!, $where: UserWhereUniqueInput!) {\n        updateOneUser(data: $data, where: $where) {\n            id\n            queueInfo {\n              sanctionedUntil\n            }\n        }\n    }\n`;","import React, {useState} from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport mainStyles from \"./../../styles/main.module.css\";\r\nimport Header from \"../../components/header/Header\";\r\nimport {ACCESS_RIGHTS, StudentAccountStatus, User, UserTypeColors, UserTypes, UserTypesUa} from \"../../models/models\";\r\nimport {checkVerified, fullName, showNotification} from \"../../helpers/helpers\";\r\nimport {usePopupWindow} from \"../../components/popupWindow/PopupWindowProvider\";\r\nimport {CategoryType} from \"../../styles/selectStyles\";\r\nimport Edit from \"../../components/icons/edit/Edit\";\r\nimport HeaderSelect from \"../../components/headerSelect/HeaderSelect\";\r\nimport DataList from \"../../components/dataList/DataList\";\r\nimport {useLocal} from \"../../hooks/useLocal\";\r\nimport {isAvailableAccess} from \"./helpers/helpers\";\r\nimport BrowseUserPopupBody from \"../admin/users/browseUserPopupBody/BrowseUserPopupBody\";\r\nimport Button from \"../../components/button/Button\";\r\nimport {useMutation, useQuery} from \"@apollo/client\";\r\nimport {VERIFY_USER} from \"../../api/operations/mutations/verifyUser\";\r\nimport {useNotification} from \"../../components/notification/NotificationProvider\";\r\nimport {client} from \"../../api/client\";\r\nimport {GET_USERS} from \"../../api/operations/queries/users\";\r\nimport HeaderCheckbox from \"../../components/headerCheckBox/HeaderCheckbox\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport VerifyButton from \"../admin/users/verifyButton/VerifyButton\";\r\nimport CompleteEmployeeAccountPopupBody from \"./completeEmployeeAccount/CompleteEmployeeAccountPopupBody\";\r\nimport moment from \"moment\";\r\nimport {UPDATE_USER} from \"../../api/operations/mutations/updateUser\";\r\nimport handleOperation from \"../../helpers/handleOperation\";\r\n\r\nconst categories: CategoryType[] = [\r\n  {\r\n    value: 'ALL',\r\n    label: 'Всі',\r\n  },\r\n  {\r\n    value: UserTypes.TEACHER,\r\n    label: 'Викладачі',\r\n  },\r\n  {\r\n    value: UserTypes.STUDENT,\r\n    label: 'Студенти',\r\n  },\r\n  {\r\n    value: UserTypes.POST_GRADUATE,\r\n    label: 'Аситенти/Аспіранти',\r\n  },\r\n  {\r\n    value: UserTypes.CONCERTMASTER,\r\n    label: 'Концертмейстери',\r\n  },\r\n  {\r\n    value: UserTypes.ILLUSTRATOR,\r\n    label: 'Ілюстратори',\r\n  }\r\n];\r\n\r\nconst listHeader = ['ID', 'П.І.Б.', 'Статус'];\r\n\r\nconst Users = () => {\r\n  const {data, loading, error} = useQuery(GET_USERS);\r\n  const dispatchPopupWindow = usePopupWindow();\r\n  const dispatchNotification = useNotification();\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [categoryFilter, setCategoryFilter] = useState('ALL');\r\n  const [unverifiedOnly, setUnverifiedOnly] = useState(false);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const {data: {accessRights}} = useLocal('accessRights');\r\n  const [verifyUser] = useMutation(VERIFY_USER);\r\n  const [cancelSanctionsMutation] = useMutation(UPDATE_USER);\r\n\r\n  const handleComplete = (userId: number) => {\r\n    dispatchPopupWindow({\r\n      header: <h1>Видати акаунт співробітнику</h1>,\r\n      body: <CompleteEmployeeAccountPopupBody dispatchNotification={dispatchNotification} userId={userId} />,\r\n      footer: (\r\n        <Button\r\n          form='completeEmployeeAccount'\r\n          type='submit'\r\n        >\r\n          Підтвердити\r\n        </Button>\r\n      ),\r\n    });\r\n  };\r\n\r\n  const CancelSanctionsFooter = ({dispatch, userId}: any) => (\r\n    <div className={styles.cancelSanctionFooter}>\r\n      <Button color='red' onClick={() => dispatch({type: 'POP_POPUP_WINDOW'})}>Ні</Button>\r\n      <Button onClick={() => confirmCancelSanctions(dispatch, userId)}>Так</Button>\r\n    </div>\r\n  )\r\n\r\n  const cancelSanctions = (userId: number) => {\r\n    dispatchPopupWindow({\r\n      header: <h1>Ви дійсно бажаєте зняти санкції?</h1>,\r\n      body: <></>,\r\n      footer: <CancelSanctionsFooter userId={userId}/>\r\n    })\r\n  };\r\n\r\n  const confirmCancelSanctions = async (dispatch: any, userId: number) => {\r\n    try {\r\n      const result = cancelSanctionsMutation({\r\n        variables: {\r\n          where: {\r\n            id: userId\r\n          },\r\n          data: {\r\n            queueInfo: {\r\n              update: {\r\n                sanctionedUntil: {\r\n                  set: null\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n      });\r\n      handleOperation(result, 'updateOneUser', dispatchNotification, dispatch, 'Санкції успішно знято!');\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleClick = (user: User) => {\r\n    dispatchPopupWindow({\r\n      header: <h1>{fullName(user)}</h1>,\r\n      body: <BrowseUserPopupBody user={user}/>,\r\n      footer: !!user.queueInfo.sanctionedUntil ? (\r\n        <Button onClick={() => cancelSanctions(user.id)}>\r\n          Зняти санкції\r\n        </Button>\r\n        )\r\n        : !!user?.studentInfo ? !checkVerified(user) && (\r\n        <VerifyButton\r\n          verify={() => verify(user.id)}\r\n          dispatchPopupWindow={dispatchPopupWindow}\r\n          dispatchNotification={dispatchNotification}\r\n          userId={user.id}\r\n        />\r\n      ) : !user.employeeInfo.isInUsage ? (\r\n        <Button onClick={() => handleComplete(user.id)}>\r\n          Видати акаунт\r\n        </Button>\r\n      ) : null\r\n    });\r\n  };\r\n\r\n  const verify = async (userId: number) => {\r\n    try {\r\n      const result = await verifyUser({variables: {input: {userId}}});\r\n      if (result.data.verifyUser.userErrors.length) {\r\n        result.data.verifyUser.userErrors.forEach(({message}: any) => {\r\n          showNotification(dispatchNotification, ['Помилка!', message, 'alert']);\r\n        })\r\n      } else {\r\n        showNotification(dispatchNotification, ['Успішно!', 'Користувача верифіковано', 'ok']);\r\n        try {\r\n          await client.query({\r\n            query: GET_USERS,\r\n            fetchPolicy: 'network-only'\r\n          })\r\n        } catch (e: any) {\r\n          showNotification(dispatchNotification, ['Помилка!', e.message.slice(0, 100), 'alert']);\r\n        }\r\n      }\r\n    } catch (e: any) {\r\n      showNotification(dispatchNotification, ['Помилка!', e.message.slice(0, 100), 'alert']);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e: any) => {\r\n    setSearchValue(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSelectCategory = (e: any) => {\r\n    setCategoryFilter(e.value);\r\n  };\r\n\r\n  const user = (user: User) => (\r\n    <>\r\n      <span className={styles.centerText}>{user.id}</span>\r\n      <span onClick={() => handleClick(user)}>\r\n        {fullName(user)}\r\n        {!checkVerified(user) && <span className={styles.unverified}>Не верифіковано</span>}\r\n        {!!user.queueInfo.sanctionedUntil && <span className={styles.sanctioned}>\r\n            Під санкціями до {moment(user.queueInfo.sanctionedUntil).format('DD-MM-YYYY HH:mm')}\r\n        </span>}\r\n    </span>\r\n      <span className={styles.userType} style={{backgroundColor: UserTypeColors[user.type as UserTypes]}}>\r\n        {UserTypesUa[user.type as UserTypes]}\r\n      </span>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Header>\r\n        <h1>Користувачі</h1>\r\n        <input\r\n          type=\"text\"\r\n          value={searchValue}\r\n          onChange={handleSearch}\r\n          placeholder=\"Пошук за П.І.Б або ID\"\r\n          className={mainStyles.headerInput}\r\n        />\r\n        <HeaderSelect\r\n          options={categories}\r\n          onChange={handleSelectCategory}/>\r\n        <HeaderCheckbox\r\n          label='Тільки неверифіковані'\r\n          checked={unverifiedOnly}\r\n          setChecked={() => setUnverifiedOnly(prevState => !prevState)}\r\n        />\r\n        <Edit path='/adminUsers'/>\r\n      </Header>\r\n      {loading ? <Loader/> : data?.users.length ? (\r\n        <DataList header={listHeader} data={data.users\r\n          .filter((user: User) => !user.nameTemp && isAvailableAccess(accessRights, user))\r\n          .filter((user: User) => (fullName(user) + user.id).toLowerCase()\r\n            .includes(searchValue))\r\n          .filter((user: User) => (fullName(user).toLowerCase() + user.id).includes(searchValue.toLowerCase()))\r\n          .filter((user: User) => categoryFilter === 'ALL' ? true : user.type === categoryFilter)\r\n          .filter((user: User) => unverifiedOnly ? user.studentInfo?.accountStatus === StudentAccountStatus.UNVERIFIED : true)\r\n          .map((item: User) => user(item))} gridTemplateColumns={'auto 3fr 200px'}\r\n                  isSearching={isSearching}\r\n        />\r\n      ) : (\r\n        <p>Користувачів не знайдено</p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n\r\n","import {ACCESS_RIGHTS, User, UserTypes} from \"../../../models/models\";\n\nexport const isAvailableAccess = (accessRights: ACCESS_RIGHTS, user: User) => {\n  return accessRights === ACCESS_RIGHTS.USER\n    ? user.type === UserTypes.TEACHER\n    || user.type === UserTypes.ILLUSTRATOR\n    || user.type === UserTypes.CONCERTMASTER : true;\n};","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {User} from \"../models/models\";\nimport {GET_USERS} from \"../api/operations/queries/users\";\n\nconst useUsers = (): Array<User> => {\n  const [users, setUsers] = useState<User[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_USERS}).then((data) => {\n        setUsers(data.data.users);\n      });\n  }, []);\n\n  return users;\n};\n\nexport default useUsers;","import React, {useState} from \"react\";\r\nimport styles from \"./profile.module.css\";\r\nimport Header from \"../../components/header/Header\";\r\nimport useUsers from \"../../hooks/useUsers\";\r\nimport {StudentAccountStatus, User, UserTypes, UserTypesUa} from \"../../models/models\";\r\nimport {fullName} from \"../../helpers/helpers\";\r\nimport Button from \"../../components/button/Button\";\r\nimport {isLoggedVar} from \"../../api/client\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useMe} from \"../../hooks/useMe\";\r\nimport Edit from \"../../components/icons/edit/Edit\";\r\n\r\nconst Profile = () => {\r\n  const me = useMe();\r\n  const history = useHistory();\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const handleLogout = () => {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    if (confirm('Ви бажаете вийти?')) {\r\n      isLoggedVar(false);\r\n      localStorage.removeItem('user');\r\n      localStorage.removeItem('token');\r\n      history.push('/');\r\n    }\r\n  };\r\n\r\n  const handleEdit = () => {\r\n\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header>\r\n        <h1>Мій профіль</h1>\r\n        <Button color='red' onClick={handleLogout}>Вийти</Button>\r\n        {!editMode && <Edit onClick={handleEdit}/>}\r\n      </Header>\r\n      <div className={styles.wrapper}>\r\n        {me && <div className={styles.profileData}>\r\n            <div><span>П.І.Б.:</span><span>{fullName(me)}</span></div>\r\n            <div><span>ID:</span><span>{me.id}</span></div>\r\n          {me.studentInfo.accountStatus === StudentAccountStatus.UNVERIFIED && <div><span>Верифіковано:</span><span>Ні</span></div>}\r\n            <div><span>Тип:</span><span>{UserTypesUa[me.type as UserTypes]}</span></div>\r\n          {me.department && <div><span>Кафедра:</span><span>{me.department.name}</span></div>}\r\n            <div><span>Тел.:</span><span>{me.phoneNumber}</span></div>\r\n          {me.extraPhoneNumbers && <div><span>Інші тел.:</span><span>\r\n                <ul>\r\n                  {JSON.parse(me.extraPhoneNumbers as string).map((item: string) => (<li>{item}</li>))}\r\n                </ul>\r\n            </span></div>}\r\n            <div><span>Дата закінчення</span><span>{me.expireDate}</span></div>\r\n            <div><span>Email:</span><span>{me.email}</span></div>\r\n        </div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import useUsers from \"./useUsers\";\nimport {User} from \"../models/models\";\n\nexport const useMe = () => {\n  const currentUser = JSON.parse(localStorage.getItem('user') as string);\n  const users = useUsers();\n  const me: User | undefined = users?.find(item => item.id === currentUser?.id);\n  return me;\n}","import {gql} from \"@apollo/client\";\n\nexport const CREATE_CLASSROOM = gql`\n    mutation createOneClassroom($data: ClassroomCreateInput!) {\n        createOneClassroom(data: $data) {\n          id\n          description\n          name\n          floor\n          special\n          isHidden\n          chair {\n              name\n          }\n          isWing\n          isOperaStudio\n          occupied {\n            user {\n              id\n              firstName\n              patronymic\n              lastName\n              type\n              nameTemp\n              email\n              phoneNumber\n              department {\n                  name\n              }\n            }\n            until\n            state\n          }\n          instruments {\n            name\n            type\n            rate\n          }\n          disabled {\n            comment\n            until\n            state\n          }\n        }\n    }\n`;","import {StylesConfig} from \"react-select\";\nimport {ACCESS_RIGHTS} from \"../models/models\";\n\nexport type CategoryType = {\n  value: string;\n  label: string;\n  accessRights?: ACCESS_RIGHTS\n};\n\ntype isMulti = false;\n\nexport const selectStyles: StylesConfig<CategoryType, isMulti> = ({\n  control: (provided, state) => ({\n    ...provided,\n    backgroundColor: '#2e287c',\n    border: '1px solid #fff',\n    borderRadius: 8,\n    width: 160,\n    color: '#fff',\n  }),\n  placeholder: (provided) => ({\n    ...provided,\n    color: '#fff',\n  }),\n  menuList: (provided) => ({\n    ...provided,\n    color: '#000',\n  }),\n  singleValue: (provided) => ({\n    ...provided,\n    color: '#fff',\n  }),\n  indicatorSeparator: () => ({display: 'none'})\n});\n\nexport const selectLightStyles: StylesConfig<CategoryType, isMulti> = ({\n  control: (provided, state) => ({\n    ...provided,\n    backgroundColor: '#fff',\n    border: '1px solid #2e287c',\n    borderRadius: 8,\n    color: '#000',\n  }),\n  placeholder: (provided) => ({\n    ...provided,\n    color: '#ccc',\n  }),\n  menuList: (provided) => ({\n    ...provided,\n    color: '#000',\n  }),\n  singleValue: (provided) => ({\n    ...provided,\n    color: '#000',\n  }),\n  indicatorSeparator: () => ({display: 'none'}),\n  menuPortal: base => ({...base, zIndex: 9999})\n});\n\nexport const selectSignupStyles: StylesConfig<CategoryType, isMulti> = ({\n  control: (provided, state) => ({\n    ...provided,\n    backgroundColor: '#fff',\n    border: '1px solid #ccc',\n    borderRadius: 8,\n    fontFamily: \"Roboto Light\"\n  }),\n  placeholder: (provided) => ({\n    ...provided,\n    color: '#2e287c;',\n  }),\n  menuList: (provided) => ({\n    ...provided,\n    color: '#000',\n  }),\n  singleValue: (provided) => ({\n    ...provided,\n    color: '#000',\n  }),\n  indicatorSeparator: () => ({display: 'none'}),\n  menuPortal: base => ({...base, zIndex: 9999})\n});","import { gql } from \"@apollo/client\";\n\nexport const GET_INSTRUMENTS = gql`\n    query getInstruments {\n        instruments {\n            id\n            persNumber\n            type\n            name\n            rate\n            classroom {\n              id\n              name\n            }\n        }\n    }\n`;","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {InstrumentType} from \"../models/models\";\nimport {GET_INSTRUMENTS} from \"../api/operations/queries/instruments\";\n\nconst useInstruments = (): Array<InstrumentType> => {\n  const [instruments, setInstruments] = useState<InstrumentType[]>([]);\n\n  useEffect(() => {\n    client.query({\n      query: GET_INSTRUMENTS,\n      fetchPolicy: 'network-only'\n    }).then((data) => {\n      setInstruments(data.data.instruments\n        .slice().sort((a: InstrumentType, b: InstrumentType) => a.id - b.id));\n    });\n  }, []);\n\n  return instruments;\n};\n\nexport default useInstruments;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_DEPARTMENTS = gql`\r\n    query getDepartments {\r\n        departments {\r\n            id\r\n            name\r\n            faculty {\r\n              id\r\n              name\r\n            }\r\n        }\r\n    }\r\n`;","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {Department} from \"../models/models\";\nimport {GET_DEPARTMENTS} from \"../api/operations/queries/departments\";\n\nconst useDepartments = (): Array<Department> => {\n  const [departments, setDepartments] = useState<Department[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_DEPARTMENTS}).then((data) => {\n      setDepartments(data.data.departments\n          .slice().sort((a: Department, b: Department) => a.id - b.id));\n      });\n  }, []);\n\n  return departments;\n};\n\nexport default useDepartments;","export default __webpack_public_path__ + \"static/media/addLined.6de27fe6.svg\";","import {gql} from \"@apollo/client\";\n\nexport const UPDATE_CLASSROOM = gql`\n    mutation updateOneClassroom($data: ClassroomUpdateInput!, $where: ClassroomWhereUniqueInput!) {\n        updateOneClassroom(data: $data, where: $where) {\n          id\n          description\n          name\n          floor\n          special\n          isHidden\n          chair {\n              name\n          }\n          isWing\n          isOperaStudio\n          occupied {\n            user {\n              id\n              firstName\n              patronymic\n              lastName\n              type\n              nameTemp\n              email\n              phoneNumber\n              department {\n                  name\n              }\n            }\n            until\n            state\n          }\n          instruments {\n            name\n            type\n            rate\n          }\n          disabled {\n            comment\n            until\n            state\n          }\n          color\n        }\n    }\n`;","import React, {Fragment, useEffect, useRef, useState} from 'react';\nimport styles from './createClassroomPopupBody.module.css';\nimport Select, {components} from \"react-select\";\nimport {useMutation} from \"@apollo/client\";\nimport {\n  ClassroomType,\n  Department,\n  ExclusivelyQueueAllowedDepartmentsInfo,\n  InstrumentType, InstrumentTypesE, InstrumentTypesEUa,\n  QueuePolicyTypes,\n  SpecialClassroomTypes\n} from \"../../../../models/models\";\nimport {useForm} from \"react-hook-form\";\nimport {CREATE_CLASSROOM} from \"../../../../api/operations/mutations/createClassroom\";\nimport {GET_CLASSROOMS} from \"../../../../api/operations/queries/classrooms\";\nimport {client} from \"../../../../api/client\";\nimport {selectLightStyles} from \"../../../../styles/selectStyles\";\nimport useInstruments from \"../../../../hooks/useInstruments\";\nimport mainStyles from \"../../../../styles/main.module.css\";\nimport useDepartments from \"../../../../hooks/useDepartments\";\nimport addIcon from '../../../../assets/images/addLined.svg';\nimport moment from \"moment\";\nimport {UPDATE_CLASSROOM} from \"../../../../api/operations/mutations/updateClassroom\";\n\ninterface PropTypes {\n  dispatch: (value: any) => void;\n  dispatchNotification: (value: any) => void;\n  item?: ClassroomType;\n}\n\nconst colors = [\n  {value: '#ffffff00', label: 'Немає'},\n  {value: '#000000', label: 'Чорний'},\n  {value: '#ff0000', label: 'Червоний'},\n  {value: '#00ff00', label: 'Зелений'},\n  {value: '#0000ff', label: 'Синій'},\n]\n\nconst CreateClassroomPopupBody: React.FC<PropTypes> = ({\n                                                         item,\n                                                         dispatchNotification, ...props\n                                                       }) => {\n  const departmentsData = useDepartments();\n  const instrumentsData = useInstruments();\n  const [createClassroom] = useMutation(CREATE_CLASSROOM);\n  const [departments, setDepartments] = useState<any>([]);\n  const [selectedDepartment, setSelectedDepartment] = useState<any>();\n  const [selectedColor, setSelectedColor] = useState<any>(colors[0]);\n  const [selectedAllowedDepartments, setSelectedAllowedDepartments] = useState([]);\n  const [allowedForSelectedDepartments, setAllowedForSelectedDepartments] = useState(false);\n  const [instruments, setInstruments] = useState<any>([]);\n  const [selectedInstruments, setSelectedInstruments] = useState<any>([]);\n  const [freeInstrumentsOnly, setFreeInstrumentsOnly] = useState(true);\n  const {register, handleSubmit, setValue, watch, formState: {errors}} = useForm();\n  const firstFieldRef = useRef(null);\n\n  useEffect(() => {\n    firstFieldRef.current && firstFieldRef.current.focus();\n  }, [firstFieldRef]);\n\n  useEffect(() => {\n    setDepartments(departmentsData.map((dep: Department) => ({value: dep.id, label: dep.name})));\n    if (item && item.chair) {\n      setSelectedDepartment({value: item.chair.id, label: item.chair.name});\n    }\n  }, [departmentsData]);\n\n  useEffect(() => {\n    if (freeInstrumentsOnly && instrumentsData) {\n      const filteredInstruments = instrumentsData.filter(item => !item.classroom);\n\n      setMappedInstruments(filteredInstruments);\n    } else {\n      setMappedInstruments(instrumentsData);\n    }\n  }, [freeInstrumentsOnly, instrumentsData]);\n\n  useEffect(() => {\n    if (item && item.color) {\n      const color = colors.find(({value}) => value === item.color);\n      setSelectedColor(color ? color : colors[0]);\n    }\n    if (item && item.instruments) {\n      const itemInstruments = item.instruments\n        .map(({id, name, type, persNumber}) => ({\n          value: id, label: name + ' ('\n            + InstrumentTypesEUa[type as InstrumentTypesE].toLowerCase() + ') '\n            + (persNumber ? ', ' + persNumber : '')\n        }));\n      setSelectedInstruments(itemInstruments);\n    }\n    if (item && item.queueInfo.queuePolicy.policy === QueuePolicyTypes.SELECTED_DEPARTMENTS) {\n      setAllowedForSelectedDepartments(true);\n      setMappedSelectedAllowedDepartments(item.queueInfo.queuePolicy.queueAllowedDepartments)\n    }\n  }, [])\n\n  const setMappedInstruments = (data: InstrumentType[]) => {\n    setInstruments(data.map((item) => ({\n      value: item.id, label: item.name + ' ('\n        + InstrumentTypesEUa[item.type as InstrumentTypesE].toLowerCase()\n        + ') ' + item.persNumber\n    })));\n  };\n\n  const setMappedSelectedAllowedDepartments = (data: ExclusivelyQueueAllowedDepartmentsInfo[]) => {\n    setSelectedAllowedDepartments(data.map(({department}) => ({\n      value: department.id, label: department.name\n    })));\n  };\n\n  const onSubmit = async (data: any) => {\n    if (item) {\n      const newInstruments = item.instruments ? selectedInstruments.filter(({value}: any) => {\n        return !(item.instruments.some(instrument => instrument.id === value))\n      }).map(({value}: any) => ({id: value})) : selectedInstruments\n        .map(({value}: any) => ({id: value}));\n\n      const removedInstruments = item.instruments ? item.instruments.filter(instrument => {\n        return !(selectedInstruments.some(({value}: any) => value === instrument.id))\n      }).map(({id}: any) => ({id})) : [];\n\n      const newQueueAllowedDepartments = item.queueInfo.queuePolicy.queueAllowedDepartments ?\n        selectedAllowedDepartments.filter(({value}: any) => {\n          return !(item.queueInfo.queuePolicy.queueAllowedDepartments\n            .some(allowedDep => allowedDep.department.id === value))\n        }).map(({value}: any) => ({departmentId: value})) : selectedAllowedDepartments\n          .map(({value}: any) => ({departmentId: value}));\n\n      const removedQueueAllowedDepartments = item.queueInfo.queuePolicy.queueAllowedDepartments ?\n        item.queueInfo.queuePolicy.queueAllowedDepartments.filter(({department}) => {\n          return !(selectedAllowedDepartments.some(({value}: any) => value === department.id))\n        }).map(({id}: any) => ({departmentId: id})) : [];\n\n      try {\n        const result = await client.mutate({\n          mutation: UPDATE_CLASSROOM,\n          variables: {\n            data: {\n              name: data.name ? {\n                set: data.name\n              } : undefined,\n              special: data.special ? {\n                set: SpecialClassroomTypes.PIANO\n              } : undefined,\n              floor: data.floor ? {\n                set: Number(data.floor)\n              } : undefined,\n              isWing: {\n                set: data.isWing\n              },\n              isOperaStudio: {\n                set: data.isOperaStudio\n              },\n              description: data.description !== null ? {\n                set: data.description\n              } : undefined,\n              isHidden: {\n                set: data.isHidden\n              },\n              chair: item.chair && !selectedDepartment ? {\n                disconnect: true\n              } : selectedDepartment?.value !== item.chair?.id ? {\n                connect: {\n                  id: selectedDepartment.value\n                }\n              } : undefined,\n              instruments: {\n                connect: newInstruments,\n                disconnect: removedInstruments\n              },\n              color: {\n                set: selectedColor.value\n              },\n              queueInfo: {\n                update: {\n                  queuePolicy: {\n                    update: {\n                      policy: {\n                        set: allowedForSelectedDepartments ? QueuePolicyTypes.SELECTED_DEPARTMENTS\n                          : QueuePolicyTypes.ALL_DEPARTMENTS\n                      },\n                      queueAllowedDepartments:\n                        allowedForSelectedDepartments ? {\n                          deleteMany: removedQueueAllowedDepartments,\n                          createMany: {\n                            data: newQueueAllowedDepartments\n                          }\n                        } : {\n                          deleteMany: removedQueueAllowedDepartments\n                        }\n                    }\n                  }\n                }\n              },\n            },\n            where: {\n              id: item.id\n            }\n          }\n        })\n        if (result.data.updateOneClassroom.userErrors?.length) {\n          result.data.updateOneClassroom.userErrors.forEach(({message}: any) => {\n            dispatchNotification({\n              header: \"Помилка\",\n              message,\n              type: \"alert\",\n            });\n          })\n        } else {\n          dispatchNotification({\n            header: \"Успішно!\",\n            message: `Аудиторія ${item.name} змінена.`,\n            type: \"ok\",\n          });\n          props.dispatch({\n            type: \"POP_POPUP_WINDOW\",\n          });\n        }\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка\",\n          message: JSON.stringify(e),\n          type: \"alert\",\n        });\n      }\n    } else {\n      try {\n        const result = await createClassroom({\n          variables: {\n            data: {\n              name: data.name,\n              special: data.special ? SpecialClassroomTypes.PIANO : undefined,\n              floor: Number(data.floor),\n              isWing: data.isWing,\n              isOperaStudio: data.isOperaStudio,\n              description: data.description,\n              chair: selectedDepartment ? {connect: {id: selectedDepartment.value}} : undefined,\n              instruments: selectedInstruments.length > 0\n                ? {connect: selectedInstruments.map((item: any) => ({id: item.value}))} : undefined,\n              orderIndex: 0,\n              isHidden: data.isHidden,\n              color: selectedColor.value,\n              queueInfo: {\n                create: {\n                  queuePolicy: {\n                    create: {\n                      policy: allowedForSelectedDepartments ? QueuePolicyTypes.SELECTED_DEPARTMENTS\n                        : QueuePolicyTypes.ALL_DEPARTMENTS,\n                      queueAllowedDepartments: allowedForSelectedDepartments ? {\n                        createMany: {\n                          data: selectedAllowedDepartments.map(({value}: any) => ({departmentId: value}))\n                        }\n                      } : undefined\n                    }\n                  }\n                }\n              }\n            }\n          }\n        });\n        if (result.data.createOneClassroom.userErrors?.length) {\n          result.data.createOneClassroom.userErrors.forEach(({message}: any) => {\n            dispatchNotification({\n              header: \"Помилка\",\n              message,\n              type: \"alert\",\n            });\n          })\n        } else {\n          dispatchNotification({\n            header: \"Успішно!\",\n            message: `Аудиторія ${data.name} створена.`,\n            type: \"ok\",\n          });\n        }\n      } catch (e) {\n        dispatchNotification({\n          header: \"Помилка\",\n          message: JSON.stringify(e),\n          type: \"alert\",\n        });\n      }\n      await client.query({\n        query: GET_CLASSROOMS,\n        variables: {date: moment().toISOString()},\n        fetchPolicy: 'network-only',\n      });\n      props.dispatch({\n        type: \"POP_POPUP_WINDOW\",\n      });\n    }\n  };\n\n  const handleSelectDepartment = (e: any) => {\n    setSelectedDepartment(e);\n  };\n\n  const handleSelectInstrument = (e: any) => {\n    setSelectedInstruments([...e]);\n  };\n\n  const handleSelectColor = (e: any) => {\n    setSelectedColor(e);\n  };\n\n  const handleSelectAllowedDepartment = (e: any) => {\n    setSelectedAllowedDepartments([...e]);\n  };\n\n  const handleFreeInstruments = () => {\n    setFreeInstrumentsOnly(prevState => !prevState);\n  };\n\n  const DropdownIndicator = () => {\n    return <img src={addIcon} alt=\"Додати\" className={styles.addInstrumentIcon}/>\n  };\n\n  const MenuList = (props: any) => {\n    return (\n      <>\n        <div>\n          <span className={styles.instrumentsCheckbox}>\n          <input type=\"checkbox\" checked={freeInstrumentsOnly} onChange={handleFreeInstruments}/>\n          Вибирати серед інструментів без аудиторій\n        </span>\n        </div>\n        <components.MenuList {...props}>{props.children}</components.MenuList>\n      </>\n    );\n  };\n\n  return <div className={styles.wrapper}>\n    <form className={styles.container} onSubmit={handleSubmit(onSubmit)} id='createClassroom'>\n      {errors.name && <span className={mainStyles.required}>Обов'язкове поле</span>}\n      <label>Назва\n        <input\n          placeholder=\"Не більше 5 символів\"\n          maxLength={5}\n          onChange={(e) => setValue('name', e.target.value)}\n          defaultValue={item ? item.name : undefined}\n          {...register(\"name\", {required: true})}\n          ref={ref => firstFieldRef.current = ref}\n        />\n      </label>\n      <label>Опис\n        <input\n          maxLength={100}\n          onChange={(e) => setValue('description', e.target.value)}\n          placeholder=\"Не більше 100 символів\"\n          {...register(\"description\")}\n          defaultValue={item ? item.description as string : undefined}\n        />\n      </label>\n      {departmentsData &&\n      <label>Кафедра\n          <Select\n              value={selectedDepartment}\n              onChange={handleSelectDepartment}\n              options={departments}\n            //@ts-ignore\n              styles={selectLightStyles}\n              menuPortalTarget={document.body}\n              isClearable\n              isSearchable\n              placeholder='Виберіть кафедру'\n              noOptionsMessage={() => 'Кафедри відсутні'}\n          />\n      </label>}\n      <label>Спеціалізована\n        <input {...register(\"special\")} type=\"checkbox\"\n               defaultChecked={item ? Boolean(item.special) : false}/>\n      </label>\n      <label>Флігель\n        <input {...register(\"isWing\")} type=\"checkbox\"\n               defaultChecked={item ? item.isWing : false}/>\n      </label>\n      <label>Оперна студія\n        <input {...register(\"isOperaStudio\")} type=\"checkbox\"\n               defaultChecked={item ? item.isOperaStudio : false}/>\n      </label>\n      <label>Поверх\n        <input {...register(\"floor\")} type=\"number\" min={1} max={4}\n               defaultValue={item ? item.floor as number : 1}/>\n      </label>\n      <label>Прихована\n        <input {...register(\"isHidden\")} type=\"checkbox\"\n               defaultChecked={item ? item.isHidden : false}/>\n      </label>\n      <label>Доступна тільки для вибраних кафедр\n        <input {...register(\"allowedForSelectedDepartments\")}\n               type=\"checkbox\" checked={allowedForSelectedDepartments}\n               onChange={() => setAllowedForSelectedDepartments(prevState => !prevState)}\n        />\n      </label>\n      {allowedForSelectedDepartments && (\n        <label>Кафедри, яким аудиторія буде доступна\n          <Select options={departments}\n            //@ts-ignore\n                  styles={selectLightStyles}\n                  menuPortalTarget={document.body}\n                  value={selectedAllowedDepartments}\n                  onChange={handleSelectAllowedDepartment}\n                  components={{DropdownIndicator, MenuList}}\n                  isSearchable\n                  isClearable={false}\n                  isMulti\n                  placeholder='Додати кафедру'\n                  noOptionsMessage={() => 'Кафедри відсутні'}\n          />\n        </label>\n      )}\n      <label>Інструменти\n        <Select options={instruments}\n          //@ts-ignore\n                styles={selectLightStyles}\n                menuPortalTarget={document.body}\n                value={selectedInstruments}\n                onChange={handleSelectInstrument}\n                components={{DropdownIndicator, MenuList}}\n                isSearchable\n                isClearable={false}\n                isMulti\n                placeholder='Додати інструмент'\n                noOptionsMessage={() => 'Інструменти відсутні'}\n        />\n      </label>\n      <label>Колір\n        <Select options={colors}\n          //@ts-ignore\n                styles={selectLightStyles}\n                menuPortalTarget={document.body}\n                value={selectedColor}\n                onChange={handleSelectColor}\n                placeholder='Виберіть колір'\n        />\n      </label>\n    </form>\n  </div>\n};\n\nexport default CreateClassroomPopupBody;","import {gql} from \"@apollo/client\";\n\nexport const DELETE_CLASSROOM = gql`\n    mutation deleteOneClassroom($where: ClassroomWhereUniqueInput!) {\n        deleteOneClassroom(where: $where) {\n            id\n          description\n          name\n          floor\n          special\n          isHidden\n          chair {\n              name\n          }\n          isWing\n          isOperaStudio\n          occupied {\n            user {\n              id\n              firstName\n              patronymic\n              lastName\n              type\n              nameTemp\n              email\n              phoneNumber\n              department {\n                  name\n              }\n            }\n            until\n            state\n          }\n          color\n          instruments {\n            name\n            type\n            rate\n          }\n          disabled {\n            comment\n            until\n            state\n          }\n        }\n    }\n`;","export default __webpack_public_path__ + \"static/media/add.876027ca.svg\";","import React from 'react';\nimport addIcon from \"../../../assets/images/add.svg\";\nimport styles from \"./add.module.css\";\n\ninterface PropTypes {\n  onClick: (value?: any) => void;\n}\n\nconst Add: React.FC<PropTypes> = ({onClick}) => {\n\n  return (\n    <img src={addIcon} className={styles.addIcon} onClick={onClick}/>\n  );\n}\n\nexport default Add;","export default __webpack_public_path__ + \"static/media/delete.e18a574b.svg\";","import React from 'react';\nimport deleteIcon from \"../../../assets/images/delete.svg\";\nimport styles from \"./delete.module.css\";\n\ninterface PropTypes {\n  onClick?: (value?: any) => void;\n}\n\nconst Delete: React.FC<PropTypes> = ({onClick}) => {\n\n  return (\n    <img src={deleteIcon} className={styles.deleteIcon} onClick={(e) => {\n      e.stopPropagation();\n      onClick && onClick();\n    }}/>\n  );\n}\n\nexport default Delete;","import React from 'react';\nimport {ClassroomType, QueuePolicyTypes} from \"../../../../models/models\";\nimport styles from './browseClassroomPopupBody.module.css';\n\ninterface PropTypes {\n  classroom: ClassroomType;\n}\n\nconst BrowseClassroomPopupBody: React.FC<PropTypes> = ({classroom}) => {\n  return (\n    <div className={styles.list}>\n      <div><span>ID: </span><span>{classroom.id}</span></div>\n      <div><span>Назва: </span><span>{classroom.name}</span></div>\n      <div><span>Опис: </span><span>{classroom.description}</span></div>\n      <div><span>Поверх: </span><span>{classroom.floor}</span></div>\n      <div><span>Кафедра: </span><span>{classroom.chair ? classroom.chair.name : '-'}</span></div>\n      <div><span>Спеціалізована: </span><span>{classroom.special ? 'так' : 'ні'}</span></div>\n      <div><span>Флігель: </span><span>{classroom.isWing ? 'так' : 'ні'}</span></div>\n      <div><span>Оперна студія: </span><span>{classroom.isOperaStudio ? 'так' : 'ні'}</span></div>\n      <div><span>Прихована: </span><span>{classroom.isHidden ? 'так' : 'ні'}</span></div>\n      {classroom.queueInfo.queuePolicy.policy === QueuePolicyTypes.SELECTED_DEPARTMENTS && (\n        <div>\n          <span>{classroom.queueInfo.queuePolicy.queueAllowedDepartments.length ?\n            'Заблокована для всіх, окрім: ' : 'Заблокована для всіх'}</span>\n          <span>\n         {classroom.queueInfo.queuePolicy.queueAllowedDepartments.map(({department}) => {\n           return department.name\n         }).join(', ')}\n        </span>\n        </div>\n      )}\n      <div><span>Інструменти: </span>{classroom.instruments?.length > 0 ? <ul className={styles.instruments}>\n        {classroom.instruments.map(item => <li key={item.id}>{item.name}</li>)}\n      </ul> : '-'}</div>\n    </div>\n  );\n}\n\nexport default BrowseClassroomPopupBody;","import React from 'react';\nimport backIcon from \"../../../assets/images/back.png\";\nimport styles from \"./back.module.css\";\nimport {useHistory} from \"react-router-dom\";\n\ninterface PropTypes {\n  onClick?: (value?: any) => void;\n}\n\nconst Back: React.FC<PropTypes> = ({onClick: onClickProps}) => {\n  const history = useHistory();\n\n  const onClick = () => {\n    history.goBack();\n  };\n\n  return <img src={backIcon} className={styles.backIcon} onClick={onClickProps || onClick}/>;\n}\n\nexport default Back;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAAl0lEQVRoge3ZsQ3CMBgF4RM7YMH+k1ChIGhIwTihcBNRxsX/sO6b4J3kxjZI+gcNeAG36iEjGrACG7AUbznsDLzpER/gUjvnGCNSGJHCiBRGpDAihREpjEhhRIopIgCe9IiVfl0tdaoekOD3aF1r54wxJpUxqYxJZUwqY1IZk8qYVMakmipm/z39KN4yrNEfM+7VQ6RZfQGMQnFtuPZjaQAAAABJRU5ErkJggg==\"","import React, {useEffect, useState} from 'react';\nimport Header from '../../../components/header/Header';\nimport styles from './adminClassrooms.module.css';\nimport {ClassroomType, DisabledState, QueuePolicyTypes} from \"../../../models/models\";\nimport {usePopupWindow} from \"../../../components/popupWindow/PopupWindowProvider\";\nimport CreateClassroomPopupBody from \"./createClassroomPopupBody/CreateClassroomPopupBody\";\nimport {useNotification} from \"../../../components/notification/NotificationProvider\";\nimport {useMutation, useQuery} from \"@apollo/client\";\nimport {DELETE_CLASSROOM} from \"../../../api/operations/mutations/deleteClassroom\";\nimport Add from \"../../../components/icons/add/Add\";\nimport Edit from \"../../../components/icons/edit/Edit\";\nimport Delete from \"../../../components/icons/delete/Delete\";\nimport DataList from \"../../../components/dataList/DataList\";\nimport Button from \"../../../components/button/Button\";\nimport BrowseClassroomPopupBody from \"./browseClassroomPopupBody/BrowseClassroomPopupBody\";\nimport {GET_CLASSROOMS} from \"../../../api/operations/queries/classrooms\";\nimport Back from \"../../../components/icons/back/Back\";\n\nconst listHeader = ['Назва', 'Кафедра', 'Прихована', 'Відключена', 'Спец.', 'Оп. студія', 'Флігель'];\n\nconst AdminClassrooms = () => {\n  const [classrooms, setClassrooms] = useState<ClassroomType[]>([]);\n  const {data, loading, error} = useQuery(GET_CLASSROOMS);\n  const [listData, setListData] = useState<any>([]);\n  const dispatchPopupWindow = usePopupWindow();\n  const dispatchNotification = useNotification();\n  const [deleteClassroom] = useMutation(DELETE_CLASSROOM);\n  const dataItem = (item: ClassroomType) => <>\n    <span className={styles.centerText}\n          style={{\n            backgroundColor: item?.color ? item.color : '#ffffff00', borderRadius: 6,\n            color: item.color === '#000000' || item.color === '#ff0000' ||\n            item.color === '#0000ff' ? '#ffffff' : '#000000',\n            padding: '2px 0'\n          }}\n    >{item.name}</span>\n    <span>{item.chair?.name}</span>\n    <span className={styles.centerText}>{item.isHidden ? 'Так' : 'Ні'}</span>\n    <span className={styles.centerText}>\n      {item.disabled.state === DisabledState.DISABLED ? 'Тимчасово'\n        : (item.queueInfo.queuePolicy.policy === QueuePolicyTypes.SELECTED_DEPARTMENTS\n          && !item.queueInfo.queuePolicy.queueAllowedDepartments.length) ? 'Так' :\n          (item.queueInfo.queuePolicy.policy === QueuePolicyTypes.SELECTED_DEPARTMENTS\n            && item.queueInfo.queuePolicy.queueAllowedDepartments.length) ? 'Частково' : 'Ні'}\n    </span>\n    <span className={styles.centerText}>{item.special ? 'Так' : 'Ні'}</span>\n    <span className={styles.centerText}>{item.isOperaStudio ? 'Так' : 'Ні'}</span>\n    <span className={styles.centerText}>{item.isWing ? 'Так' : 'Ні'}</span>\n    <Edit dark onClick={() => handleCreate(item)}/>\n    <Delete onClick={() => handleDelete(item.id)}/>\n  </>;\n\n\n  useEffect(() => {\n    !loading && !error && setClassrooms(data.classrooms);\n  }, [data, loading, error]);\n\n  useEffect(() => {\n    const data = classrooms.map(item => dataItem(item));\n\n    setListData(data);\n  }, [classrooms]);\n\n  const handleErrorDetails = (e: any) => {\n    dispatchPopupWindow({\n      header: <h1>{e.name}</h1>,\n      body: <>\n        <p>{e.message}</p>\n        <p>{e.extraInfo}</p>\n        <pre>{e.stack}</pre>\n      </>,\n      footer: ''\n    });\n  };\n\n  const handleDelete = async (id: number) => {\n    const confirm = window.confirm('Ви дійсно бажаєте видалити аудиторію?');\n\n    if (confirm) {\n      try {\n        const result = await deleteClassroom({\n          variables: {where: {id}},\n          update(cache) {\n            cache.modify({\n              fields: {\n                classrooms(existingClassroomsRefs, {readField}) {\n                  return existingClassroomsRefs.filter(\n                    (classroomRef: any) => id !== readField('id', classroomRef),\n                  );\n                },\n              },\n            })\n          }\n        });\n        if (result.data.deleteOneClassroom.userErrors?.length) {\n          result.data.deleteOneClassroom.userErrors.forEach(({message}: any) => {\n            dispatchNotification({\n              header: \"Помилка\",\n              message,\n              type: \"alert\",\n            });\n          })\n        } else {\n          dispatchNotification({\n            header: \"Успішно!\",\n            message: `Аудиторія видалена.`,\n            type: \"ok\",\n          });\n        }\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message: <><span>Щось пішло не так.</span><br/>\n            <span style={{color: '#2b5dff', cursor: 'pointer', textDecoration: 'underline'}}\n                  onClick={() => handleErrorDetails && handleErrorDetails(e)}>Деталі</span></>,\n          type: \"alert\",\n        });\n      }\n    }\n  };\n\n  const handleCreate = (item: ClassroomType | null = null) => {\n    dispatchPopupWindow({\n      header: <h1>{item ? 'Редагування аудиторії' : 'Створити аудиторію'}</h1>,\n      //@ts-ignore\n      body: <CreateClassroomPopupBody dispatchNotification={dispatchNotification} item={item}/>,\n      footer: <Button type='submit' form='createClassroom'>\n        {item ? 'Зберегти зміни' : 'Створити'}\n      </Button>\n    });\n  };\n\n  const handleItemClick = (name: string) => {\n    const classroom = classrooms?.find(item => item.name === name);\n\n    dispatchPopupWindow({\n      header: <h1>{`Аудиторія ${classroom?.name}`}</h1>,\n      body: <BrowseClassroomPopupBody classroom={classroom as ClassroomType}/>,\n      footer: ''\n    });\n  };\n\n  return (\n    <div>\n      <Header>\n        <Back/>\n        <h1>Редагування аудиторій</h1>\n        <Add onClick={() => handleCreate()}/>\n      </Header>\n      <DataList header={listHeader} data={listData} handleItemClick={handleItemClick}\n                gridTemplateColumns={'55px 1fr 100px 100px 100px 80px 80px 40px 40px'}/>\n    </div>\n  );\n}\n\nexport default AdminClassrooms;\n","import {gql} from \"@apollo/client\";\n\nexport const SIGNUP_EMPLOYEE = gql`\n    mutation signupEmployee($input: SignupEmployeeInput!) {\n        signupEmployee(input: $input) {\n            user {\n                id\n                firstName\n                patronymic\n                lastName\n                type\n                department {\n                    id\n                    name\n                }\n                employeeInfo {\n                    employmentType\n                    accountStatus\n                }\n                } \n                userErrors {\n                    message\n                    code\n                }\n        }\n    }\n`;","import React, {useEffect, useState} from 'react';\nimport {\n  Department,\n  EmployeeAccountStatus,\n  EmploymentTypes,\n  EmploymentTypesUa,\n  User,\n  UserTypes,\n  UserTypesUa\n} from \"../../../../models/models\";\nimport styles from './../../classrooms/createClassroomPopupBody/createClassroomPopupBody.module.css';\nimport {client} from \"../../../../api/client\";\nimport {SIGNUP_EMPLOYEE} from \"../../../../api/operations/mutations/signupEmployee\";\nimport moment from \"moment\";\nimport Select from \"react-select\";\nimport {selectLightStyles} from \"../../../../styles/selectStyles\";\nimport Button from \"../../../../components/button/Button\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_DEPARTMENTS} from \"../../../../api/operations/queries/departments\";\nimport {GET_USERS} from \"../../../../api/operations/queries/users\";\nimport {ONLY_DIGITS} from \"../../../../helpers/validators\";\nimport removeIcon from \"../../../../assets/images/delete.svg\";\nimport {UPDATE_USER} from \"../../../../api/operations/mutations/updateUser\";\n\ninterface PropTypes {\n  user: User;\n}\n\nconst userTypesData = [\n  {value: UserTypes.STAFF, label: UserTypesUa.STAFF},\n  {value: UserTypes.ILLUSTRATOR, label: UserTypesUa.ILLUSTRATOR},\n  {value: UserTypes.CONCERTMASTER, label: UserTypesUa.CONCERTMASTER},\n  {value: UserTypes.TEACHER, label: UserTypesUa.TEACHER},\n  {value: UserTypes.PIANO_TUNER, label: UserTypesUa.PIANO_TUNER},\n  {value: UserTypes.OTHER, label: UserTypesUa.OTHER},\n  {value: UserTypes.ADMIN, label: UserTypesUa.ADMIN},\n  {value: UserTypes.DISPATCHER, label: UserTypesUa.DISPATCHER},\n];\n\nconst studentsTypesData = [\n  {value: UserTypes.POST_GRADUATE, label: UserTypesUa.POST_GRADUATE},\n  {value: UserTypes.STUDENT, label: UserTypesUa.STUDENT},\n]\n\nconst employmentTypesData = [\n  {value: EmploymentTypes.FULL_TIME, label: EmploymentTypesUa.FULL_TIME},\n  {value: EmploymentTypes.PART_TIME, label: EmploymentTypesUa.PART_TIME},\n  {value: EmploymentTypes.HOURLY, label: EmploymentTypesUa.HOURLY},\n];\n\nconst NO_PHONE_NUMBER = 'No phone number';\n\nconst isStudent = (user: User) => user && user?.type === UserTypes.STUDENT || user?.type === UserTypes.POST_GRADUATE;\n\nconst EditUserPopupBody: React.FC<PropTypes> = ({\n                                                  user, dispatch, dispatchNotification,\n                                                  dispatchPopupWindow\n                                                }: any) => {\n  const {data, loading, error} = useQuery(GET_DEPARTMENTS);\n  const [departmentsData, setDepartmentsData] = useState([{value: -1, label: ''}]);\n  const [selectedDepartment, setSelectedDepartment] = useState(departmentsData[0]);\n  const [selectedUserType, setSelectedUserType] = useState(userTypesData[0]);\n  const [firstName, setFirstName] = useState(user?.firstName || '');\n  const [lastName, setLastName] = useState(user?.lastName || '');\n  const [patronymic, setPatronymic] = useState(user?.patronymic || '');\n  const [withDateLimit, setWithDateLimit] = useState(!user?.expireDate && !isStudent(user));\n  const [expireDate, setExpireDate] = useState(user?.expireDate ? moment(user?.expireDate).format('yyyy-MM-DD') : '');\n  const [selectedEmploymentType, setSelectedEmploymentType] = useState(employmentTypesData[0]);\n  const [phoneNumber, setPhoneNumber] = useState(user?.phoneNumber !== NO_PHONE_NUMBER ? user?.phoneNumber : '+380');\n  const [extraPhoneNumbers, setExtraPhoneNumbers] = useState<string[]>(user?.extraPhoneNumbers ? JSON.parse(user.extraPhoneNumbers) : []);\n\n  useEffect(() => {\n    if (user) {\n      const currentStaffUserType = userTypesData.find(({value}) => value === user.type);\n      const currentStudentUserType = studentsTypesData.find(({value}) => value === user.type);\n      setSelectedUserType(currentStaffUserType || currentStudentUserType || userTypesData[0]);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (!loading && !error) {\n      const mappedDepartments = data.departments.map((department: Department) => {\n        return ({value: department.id, label: department.name});\n      });\n      setDepartmentsData(mappedDepartments);\n\n      if (user && user.department?.id) {\n        const currentUserDepartment = mappedDepartments.find(({value}: any) => value === user.department.id);\n        setSelectedDepartment(currentUserDepartment);\n      } else {\n        setSelectedDepartment(mappedDepartments[0]);\n      }\n      if (user && user.employeeInfo) {\n        const currentUserEmploymentType = employmentTypesData.find(item => user.employeeInfo.employmentType === item.value);\n        setSelectedEmploymentType(currentUserEmploymentType);\n      }\n    }\n  }, [data]);\n\n  const handleErrorDetails = (e: any) => {\n    dispatchPopupWindow({\n      header: <h1>{e.name}</h1>,\n      body: (\n        <div>\n          <p>{e.message}</p>\n          <p>{e.extraInfo}</p>\n          <pre>{e.stack}</pre>\n        </div>\n      ),\n      footer: ''\n    });\n  };\n\n  const handleSignUpEmployee = async (e: any) => {\n    e.preventDefault();\n    try {\n      const result = await client.mutate({\n        mutation: SIGNUP_EMPLOYEE,\n        variables: {\n          input: {\n            firstName,\n            patronymic,\n            lastName,\n            type: selectedUserType.value,\n            department: (\n              selectedUserType.value === UserTypes.TEACHER\n              || selectedUserType.value === UserTypes.CONCERTMASTER\n              || selectedUserType.value === UserTypes.ILLUSTRATOR\n            ) ? {\n              connect: {\n                id: selectedDepartment.value\n              }\n            } : undefined,\n            employeeInfo: {\n              create: {\n                employmentType: selectedEmploymentType.value,\n                accountStatus: EmployeeAccountStatus.ACTIVE\n              }\n            },\n            expireDate: !withDateLimit ? moment(expireDate).toISOString() : undefined\n          }\n        }\n      });\n      if (result.data.signupEmployee.userErrors?.length) {\n        result.data.signupEmployee.userErrors.forEach(({message}: any) => {\n          dispatchNotification({\n            header: \"Помилка\",\n            message,\n            type: \"alert\",\n          });\n        })\n      } else {\n        await client.query({\n          query: GET_USERS,\n          fetchPolicy: 'network-only'\n        })\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Новий акаунт співробітника створено.`,\n          type: \"ok\",\n        });\n        dispatch({\n          type: \"POP_POPUP_WINDOW\",\n        });\n      }\n    } catch (e) {\n      console.log(e);\n      dispatchNotification({\n        header: \"Помилка!\",\n        message: <><span>Щось пішло не так.</span><br/>\n          <span style={{color: '#2b5dff', cursor: 'pointer', textDecoration: 'underline'}}\n                onClick={() => handleErrorDetails && handleErrorDetails(e)}>Деталі</span></>,\n        type: \"alert\",\n      });\n    }\n  };\n\n  const handleUpdateUser = async () => {\n    try {\n      await client.mutate({\n        mutation: UPDATE_USER,\n        variables: {\n          data: {\n            firstName: {set: firstName},\n            lastName: {set: lastName},\n            patronymic: {set: patronymic},\n            type: {set: selectedUserType.value},\n            phoneNumber: {set: phoneNumber},\n            extraPhoneNumbers: JSON.stringify(extraPhoneNumbers),\n            expireDate: {set: !withDateLimit ? moment(expireDate).toISOString() : undefined},\n            department: (\n              selectedUserType.value === UserTypes.TEACHER\n              || selectedUserType.value === UserTypes.CONCERTMASTER\n              || selectedUserType.value === UserTypes.ILLUSTRATOR || isStudent(user)\n            ) ? {\n              connect: {\n                id: selectedDepartment.value\n              }\n            } : undefined,\n            employeeInfo: isStudent(user) ? undefined : {\n              update: {\n                employmentType: {set: selectedEmploymentType.value},\n                accountStatus: {set: EmployeeAccountStatus.ACTIVE},\n              }\n            },\n          },\n          where: {\n            id: user.id\n          }\n        }\n      })\n      await client.query({\n        query: GET_USERS,\n        fetchPolicy: 'network-only'\n      })\n      dispatchNotification({\n        header: \"Успішно!\",\n        message: `Дані користувача змінено.`,\n        type: \"ok\",\n      });\n      dispatch({\n        type: \"POP_POPUP_WINDOW\",\n      });\n    } catch (e) {\n      console.log(e);\n      dispatchNotification({\n        header: \"Помилка!\",\n        message: <><span>Щось пішло не так.</span><br/>\n          <span style={{color: '#2b5dff', cursor: 'pointer', textDecoration: 'underline'}}\n                onClick={() => handleErrorDetails && handleErrorDetails(e)}>Деталі</span></>,\n        type: \"alert\",\n      });\n    }\n  }\n\n  const addExtraPhoneNumber = () => {\n    setExtraPhoneNumbers(prev => [...prev, '+380']);\n  };\n\n  const editExtraNumber = (value: string, index: number) => {\n    setExtraPhoneNumbers(prev => {\n      const valid = ONLY_DIGITS.test(value);\n      const newNum = valid ? value.trim() : prev[index];\n      const newArr = prev.slice();\n      newArr.splice(index, 1, newNum);\n      return newArr;\n    });\n  };\n\n  const removeExtraPhoneNumber = (index: number) => {\n    setExtraPhoneNumbers(prev => {\n      const newArr = prev.slice();\n      newArr.splice(index, 1);\n      return newArr;\n    });\n  };\n\n  return (\n    <div>\n      <div className={styles.wrapper}>\n        <form className={styles.container}>\n          <label>Прізвище\n            <input\n              value={lastName}\n              placeholder=\"Прізвище\"\n              onChange={(e) => setLastName(e.target.value)}\n            />\n          </label>\n          <label>Ім'я\n            <input\n              value={firstName}\n              placeholder=\"Ім'я\"\n              onChange={(e) => setFirstName(e.target.value)}\n            />\n          </label>\n          <label>По-батькові\n            <input\n              value={patronymic}\n              placeholder=\"По-батькові\"\n              onChange={(e) => setPatronymic(e.target.value)}\n            />\n          </label>\n          <label>Тип акаунту\n            <Select\n              value={selectedUserType}\n              onChange={e => setSelectedUserType(e)}\n              options={isStudent(user) ? studentsTypesData : userTypesData}\n              //@ts-ignore\n              styles={selectLightStyles}\n              menuPortalTarget={document.body}\n              isSearchable\n              placeholder='Виберіть тип'\n            />\n          </label>\n          {!isStudent(user) && (\n            <>\n              <label>Тип занятості\n                <Select\n                  value={selectedEmploymentType}\n                  onChange={e => setSelectedEmploymentType(e)}\n                  options={employmentTypesData}\n                  //@ts-ignore\n                  styles={selectLightStyles}\n                  menuPortalTarget={document.body}\n                  isSearchable\n                  placeholder='Виберіть тип зайнятість'\n                />\n              </label>\n              <label>Безстроковий термін дії\n                <input type=\"checkbox\" checked={withDateLimit}\n                       onChange={() => setWithDateLimit(prevState => !prevState)}\n                />\n              </label>\n            </>\n          )}\n          {!withDateLimit && (\n            <label>Термін дії\n              <input type=\"date\"\n                     value={expireDate}\n                     onChange={e => setExpireDate(e.target.value)}\n              />\n            </label>\n          )}\n          {(selectedUserType.value === UserTypes.TEACHER\n            || selectedUserType.value === UserTypes.CONCERTMASTER\n            || selectedUserType.value === UserTypes.ILLUSTRATOR || isStudent(user)\n          ) && (\n            <label>Кафедра\n              <Select\n                value={selectedDepartment}\n                onChange={e => setSelectedDepartment(e)}\n                options={departmentsData}\n                //@ts-ignore\n                styles={selectLightStyles}\n                menuPortalTarget={document.body}\n                isSearchable\n                placeholder='Виберіть кафедру'\n              />\n            </label>\n          )}\n          {user && (\n            <label>Телефон\n              <input type=\"phone\"\n                     value={phoneNumber}\n                     onChange={e => setPhoneNumber(e.target.value)}\n              />\n            </label>\n          )}\n          {user && extraPhoneNumbers.map((number: string, index: number) => (\n            <label className={styles.extraPhoneWrapper} key={index}>Додатковий телефон {index + 1}\n              <input type=\"phone\"\n                     value={extraPhoneNumbers[index]}\n                     onChange={e => editExtraNumber(e.target.value, index)}\n              />\n              <img src={removeIcon} alt=\"remove\" onClick={() => removeExtraPhoneNumber(index)}/>\n            </label>\n          ))}\n          {user && (\n            <Button\n              onClick={addExtraPhoneNumber}\n              style={{width: 130, height: 30, alignSelf: 'flex-end'}}\n            >\n              Додати телефон\n            </Button>\n          )}\n          {user ? (\n            <Button onClick={handleUpdateUser} style={{marginTop: 16, height: 40}}\n                    disabled={!firstName || !lastName}>\n              Зберегти зміни\n            </Button>\n          ) : (\n            <Button onClick={handleSignUpEmployee} style={{marginTop: 16, height: 40}}\n                    disabled={!firstName || !lastName}>\n              Створити новий акаунт\n            </Button>\n          )}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default EditUserPopupBody;","import React, {useState} from 'react';\nimport Header from '../../../components/header/Header';\nimport styles from './adminUsers.module.css';\nimport {ACCESS_RIGHTS, StudentAccountStatus, User, UserTypes, UserTypesUa} from \"../../../models/models\";\nimport {usePopupWindow} from \"../../../components/popupWindow/PopupWindowProvider\";\nimport {useNotification} from \"../../../components/notification/NotificationProvider\";\nimport {useMutation, useQuery} from \"@apollo/client\";\nimport {GET_USERS} from \"../../../api/operations/queries/users\";\nimport {checkVerified, fullName, showNotification} from \"../../../helpers/helpers\";\nimport mainStyles from \"../../../styles/main.module.css\";\nimport Select from \"react-select\";\nimport {CategoryType, selectStyles} from \"../../../styles/selectStyles\";\nimport Add from \"../../../components/icons/add/Add\";\nimport Delete from \"../../../components/icons/delete/Delete\";\nimport DataList from \"../../../components/dataList/DataList\";\nimport BrowseUserPopupBody from \"./browseUserPopupBody/BrowseUserPopupBody\";\nimport Button from \"../../../components/button/Button\";\nimport {VERIFY_USER} from \"../../../api/operations/mutations/verifyUser\";\nimport {useLocal} from \"../../../hooks/useLocal\";\nimport EditUserPopupBody from \"./editUserPopupBody/EditUserPopupBody\";\nimport {client} from \"../../../api/client\";\nimport {DELETE_USER} from \"../../../api/operations/mutations/deleteUser\";\nimport VerifyButton from \"./verifyButton/VerifyButton\";\nimport HeaderCheckbox from \"../../../components/headerCheckBox/HeaderCheckbox\";\nimport Loader from \"../../../components/loader/Loader\";\nimport Edit from \"../../../components/icons/edit/Edit\";\nimport Back from \"../../../components/icons/back/Back\";\n\nconst categories: CategoryType[] = [\n  {\n    value: 'ALL',\n    label: 'Всі',\n  },\n  {\n    value: UserTypes.TEACHER,\n    label: 'Викладачі'\n  },\n  {\n    value: UserTypes.STUDENT,\n    label: 'Студенти'\n  },\n  {\n    value: UserTypes.POST_GRADUATE,\n    label: 'Аситенти/Аспіранти'\n  },\n  {\n    value: UserTypes.CONCERTMASTER,\n    label: 'Концертмейстери'\n  },\n  {\n    value: UserTypes.ILLUSTRATOR,\n    label: 'Ілюстратори'\n  }\n];\n\nconst listHeader = ['ID', 'П.І.Б.', '', 'Статус']\n\nconst AdminUsers = () => {\n  const {data, loading, error} = useQuery(GET_USERS);\n  const dispatchPopupWindow = usePopupWindow();\n  const dispatchNotification = useNotification();\n  const [searchValue, setSearchValue] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('ALL');\n  const [unverifiedOnly, setUnverifiedOnly] = useState(false);\n  const [verifyUser] = useMutation(VERIFY_USER);\n  const {data: {accessRights}} = useLocal('accessRights');\n  const user = (user: User) => <>\n    <span className={styles.alignText}>{user.id}</span>\n    <span>{fullName(user)}</span>\n    <span>{user.studentInfo?.accountStatus === StudentAccountStatus.UNVERIFIED && (\n      <Button color='red'>Верифікувати</Button>\n    )}\n    </span>\n    <span className={styles.alignText}>{UserTypesUa[user.type as UserTypes]}</span>\n    <Edit dark onClick={() => handleCreate(user)}/>\n    <Delete onClick={() => handleDelete(user.id)}/>\n  </>;\n\n  const handleErrorDetails = (e: any) => {\n    dispatchPopupWindow({\n      header: <h1>{e.name}</h1>,\n      body: <>\n        <p>{e.message}</p>\n        <p>{e.extraInfo}</p>\n        <pre>{e.stack}</pre>\n      </>,\n      footer: ''\n    });\n  };\n\n  const handleDelete = async (userId: number) => {\n    const confirmDelete = window.confirm('Ви дійсно бажаєте видалити всі дані про користувача?')\n    if (confirmDelete) {\n      try {\n        const result = await client.mutate({\n          mutation: DELETE_USER,\n          variables: {\n            where: {\n              id: userId\n            }\n          }\n        });\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Користувача видалено.`,\n          type: \"ok\",\n        });\n      } catch (e: any) {\n        console.log(e);\n        dispatchNotification({\n          header: \"Помилка!\",\n          message: <><span>Щось пішло не так.</span><br/>\n            <span style={{color: '#2b5dff', cursor: 'pointer', textDecoration: 'underline'}}\n                  onClick={() => handleErrorDetails && handleErrorDetails(e)}>Деталі</span></>,\n          type: \"alert\",\n        });\n      }\n    }\n  };\n\n  const handleCreate = (user?: User) => {\n    dispatchPopupWindow({\n      header: <h1>{user ? 'Редагувати акаунт користувача' : 'Створити новий акаунт співробітника'}</h1>,\n      //@ts-ignore\n      body: <EditUserPopupBody user={user} dispatchNotification={dispatchNotification}\n                               dispatchPopupWindow={dispatchPopupWindow}/>,\n      footer: null\n    });\n  };\n\n  const handleSearch = (e: any) => {\n    setSearchValue(e.target.value);\n  };\n\n  const handleSelectCategory = (e: any) => {\n    setCategoryFilter(e.value);\n  }\n\n  const verify = async (userId: number) => {\n    try {\n      const result = await verifyUser({variables: {input: {userId}}});\n      if (result.data.verifyUser.userErrors.length) {\n        result.data.verifyUser.userErrors.forEach(({message}: any) => {\n          showNotification(dispatchNotification, ['Помилка!', message, 'alert']);\n        })\n      } else {\n        showNotification(dispatchNotification, ['Успішно!', 'Користувача верифіковано', 'ok']);\n        try {\n          await client.query({\n            query: GET_USERS,\n            fetchPolicy: 'network-only'\n          })\n        } catch (e: any) {\n          showNotification(dispatchNotification, ['Помилка!', e.message.slice(0, 100), 'alert']);\n        }\n      }\n\n    } catch (e: any) {\n      showNotification(dispatchNotification, ['Помилка!', e.message.slice(0, 100), 'alert']);\n    }\n  };\n\n  const handleItemClick = (id: number) => {\n    const user = data.users?.find((item: User) => item.id === id);\n\n    dispatchPopupWindow({\n      header: <h1>{fullName(user)}</h1>,\n      body: <BrowseUserPopupBody user={user}/>,\n      footer: !checkVerified(user) && (\n        <VerifyButton\n          verify={() => verify(user.id)}\n          dispatchPopupWindow={dispatchPopupWindow}\n          dispatchNotification={dispatchNotification}\n          userId={user.id}\n        />\n        )\n    });\n  };\n\n  return (\n    <div>\n      <Header>\n        <Back/>\n        <h1>Управління користувачами</h1>\n        <input\n          type=\"text\"\n          value={searchValue}\n          onChange={handleSearch}\n          placeholder=\"Пошук за П.І.Б або ID\"\n          className={mainStyles.headerInput}\n        />\n        <Select\n          options={categories}\n          defaultValue={categories[0]}\n          onChange={handleSelectCategory}\n          styles={selectStyles}\n        />\n        <HeaderCheckbox\n          label='Тільки неверифіковані'\n          checked={unverifiedOnly}\n          setChecked={() => setUnverifiedOnly(prevState => !prevState)}\n        />\n        <Add onClick={() => handleCreate()}/>\n      </Header>\n      {loading ? <Loader/> : data?.users.length ? (\n        <DataList header={listHeader}\n                  data={data.users\n                    .filter((user: User) => (fullName(user).toLowerCase() + user.id).includes(searchValue.toLowerCase()))\n                    .filter((user: User) => categoryFilter === 'ALL' ? true : user.type === categoryFilter)\n                    .filter((user: User) => unverifiedOnly ? user.studentInfo?.accountStatus === StudentAccountStatus.UNVERIFIED : true)\n                    .map((item: User) => user(item))}\n                  handleItemClick={handleItemClick}\n                  gridTemplateColumns='40px 1fr 100px 200px 40px 40px 40px'\n        />\n      ) : (\n        <p>Користувачів не знайдено</p>\n      )}\n    </div>\n  );\n}\n\nexport default AdminUsers;\n","import React, {useEffect, useState} from \"react\";\nimport styles from \"./admin.module.css\";\nimport Header from \"../../../components/header/Header\";\nimport {NavLink, useHistory} from \"react-router-dom\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USERS} from \"../../../api/operations/queries/users\";\nimport {ACCESS_RIGHTS, StudentAccountStatus, User} from \"../../../models/models\";\nimport CountUp from \"react-countup\";\nimport {useLocal} from \"../../../hooks/useLocal\";\nimport Button from \"../../../components/button/Button\";\nimport {handleLogout} from \"../../../helpers/logout\";\n\nconst Admin = () => {\n    const {data, loading, error} = useQuery(GET_USERS);\n    const [unverifiedCounter, setUnverifiedCounter] = useState(0);\n    const {data: {accessRights}} = useLocal('accessRights');\n    const history = useHistory();\n\n    useEffect(() => {\n      setUnverifiedCounter(0);\n      if (data) {\n        data.users.forEach(({studentInfo}: User) => {\n          studentInfo?.accountStatus === StudentAccountStatus.UNVERIFIED\n          && setUnverifiedCounter(prevState => prevState + 1);\n        });\n      }\n    }, [data]);\n\n    return (\n      <div>\n        <Header><h1>Налаштування</h1></Header>\n        <ul className={styles.list}>\n          <li><NavLink to='/dispatcherSettings'>Налаштування</NavLink></li>\n          {accessRights === ACCESS_RIGHTS.ADMIN && <li><NavLink to='/adminClassrooms'>Аудиторії</NavLink>\n          </li>}\n          <li><NavLink to='/adminUsers'>Користувачі\n            {unverifiedCounter !== 0 && <span className={styles.unverified} title=\"Неверифіковані\">\n            <CountUp end={unverifiedCounter} duration={1}/></span>}\n          </NavLink></li>\n          {accessRights === ACCESS_RIGHTS.ADMIN && (\n            <>\n              <li><NavLink to='/adminInstruments'>Інструменти</NavLink></li>\n              <li><NavLink to='/adminDepartments'>Кафедри</NavLink></li>\n              <li><NavLink to='/adminFaculties'>Факультети</NavLink></li>\n              <li><NavLink to='/adminDegrees'>Навчальні ступені</NavLink></li>\n            </>\n          )}\n          <li><NavLink to='/adminSchedule'>Розклад</NavLink></li>\n        </ul>\n        <div className={styles.settings}>\n          <Button onClick={handleLogout}>Вийти з профілю</Button>\n        </div>\n      </div>\n    );\n  }\n;\n\nexport default Admin;\n","export default __webpack_public_path__ + \"static/media/uprightPiano.d46096d2.svg\";","export default __webpack_public_path__ + \"static/media/grandPiano.11b5ee42.svg\";","export default __webpack_public_path__ + \"static/media/star.886f8113.svg\";","import React from \"react\";\r\nimport styles from \"./instruments.module.css\";\r\nimport { InstrumentType } from \"../../models/models\";\r\nimport uprightPiano from \"./../../assets/images/uprightPiano.svg\";\r\nimport grandPiano from \"./../../assets/images/grandPiano.svg\";\r\nimport star from \"./../../assets/images/star.svg\";\r\n\r\ninterface PropTypes {\r\n  instruments: Array<InstrumentType>;\r\n  expanded?: boolean;\r\n}\r\n\r\nconst Instruments: React.FC<PropTypes> = ({\r\n  instruments,\r\n  expanded = false,\r\n}) => {\r\n  if (instruments !== null)\r\n    return (\r\n      <ul\r\n        className={[\r\n          styles.instrumentsList,\r\n          expanded ? styles.flexColumnAndRow : styles.flexRow,\r\n        ].join(\" \")}\r\n      >\r\n        {instruments.map((item) => (\r\n          <li key={item.id} className={styles.instrumentItem}>\r\n            <img\r\n              className={styles.instrumentIcon}\r\n              src={item.type === \"UpRightPiano\" ? uprightPiano : grandPiano}\r\n              alt={\r\n                item.type === \"UpRightPiano\" ? \"up-right piano\" : \"grand piano\"\r\n              }\r\n            />\r\n            {expanded && (\r\n              <>\r\n                <p>{item.name}</p>\r\n                <img className={styles.star} src={star} alt=\"star\" />\r\n              </>\r\n            )}\r\n            <p>{item.rate.toFixed(1)}</p>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default Instruments;\r\n","import {gql} from \"@apollo/client\";\r\n\r\nexport const DISABLE_CLASSROOM = gql`\r\n    mutation disable($input: DisableClassroomInput!) {\r\n        disableClassroom(input: $input) {\r\n            classroom {\r\n            id\r\n            name\r\n            disabled {\r\n                comment\r\n                until\r\n                state\r\n            }\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;\r\n","import {gql} from \"@apollo/client\";\r\n\r\nexport const FREE_CLASSROOM = gql`\r\n    mutation free($input: FreeClassroomInput!) {\r\n        freeClassroom(input: $input) {\r\n            classroom {\r\n                id\r\n                occupied {\r\n                    user {\r\n                        id\r\n                        firstName\r\n                        patronymic\r\n                        lastName\r\n                        type\r\n                        nameTemp\r\n                        email\r\n                        phoneNumber\r\n                        department {\r\n                            name\r\n                          }\r\n                    }\r\n                    until\r\n                    state\r\n                }\r\n            }\r\n                userErrors {\r\n                    message\r\n                    code\r\n                }\r\n            }\r\n        }\r\n`;\r\n","import {gql} from \"@apollo/client\";\r\n\r\nexport const GIVE_OUT_CLASSROOM_KEY = gql`\r\n  mutation giveOutClassroomKey($input: GiveOutClassroomKeyInput!) {\r\n    giveOutClassroomKey(input: $input) {\r\n      classroom {\r\n        id\r\n        occupied {\r\n          id\r\n          state\r\n        }\r\n      }\r\n      userErrors {\r\n        message\r\n        code\r\n      }\r\n    }\r\n}\r\n`;\r\n","import React from \"react\";\nimport Button from \"../button/Button\";\nimport styles from \"../classroom/classroom.module.css\";\n\ntype PropTypes = {\n  onOk: () => void;\n}\n\nconst ConfirmFooter: React.FC<PropTypes> = (props) => {\n\n  const handleClose = () => {\n    // @ts-ignore\n    props.dispatch({\n      type: \"POP_POPUP_WINDOW\",\n    });\n  };\n\n  const handleOk = () => {\n    props.onOk();\n    handleClose();\n  };\n\n  return (\n    <div className={styles.footer}>\n          <Button color='red' onClick={handleClose}>Відмінити</Button>\n          <Button onClick={handleOk}>Підтвердити</Button>\n    </div>\n  );\n}\n;\n\nexport default ConfirmFooter;\n","import React, {useEffect} from \"react\";\nimport Button from \"../button/Button\";\nimport styles from \"../classroom/classroom.module.css\";\nimport {disableClassroomBeforeFreeVar, disabledTimeVar} from \"../../api/client\";\nimport {useLocal} from \"../../hooks/useLocal\";\n\nconst ConfirmBody = () => {\n    const {data: {disabledTime}} = useLocal('disabledTime');\n    const {data: {disableClassroomBeforeFree}} = useLocal('disableClassroomBeforeFree');\n\n    useEffect(() => {\n      disableClassroomBeforeFreeVar(false);\n    }, []);\n\n    return (\n      <div>\n        <p className={styles.confirmText}>Підтвердіть звільнення аудиторії</p>\n        <div>\n          <input type=\"checkbox\" checked={disableClassroomBeforeFree}\n                 onChange={(e) => disableClassroomBeforeFreeVar(e.target.checked)}/>\n          Заблокувати аудиторію {disableClassroomBeforeFree && (\n            <span>на {disabledTime} хв.</span>\n        )}\n        </div>\n        {disableClassroomBeforeFree && (\n          <div className={styles.disableOptions}>\n            <button onClick={() => disabledTimeVar(15)}\n                    className={disabledTime === 15 ? styles.timeButtonActive : styles.timeButton}>\n              15 хв.\n            </button>\n            <button onClick={() => disabledTimeVar(30)}\n                    className={disabledTime === 30 ? styles.timeButtonActive : styles.timeButton}>\n              30 хв.\n            </button>\n            <button onClick={() => disabledTimeVar(45)}\n                    className={disabledTime === 45 ? styles.timeButtonActive : styles.timeButton}>\n              45 хв.\n            </button>\n            <button onClick={() => disabledTimeVar(60)}\n                    className={disabledTime === 60 ? styles.timeButtonActive : styles.timeButton}>\n              1 год.\n            </button>\n            <button onClick={() => disabledTimeVar(90)}\n                    className={disabledTime === 90 ? styles.timeButtonActive : styles.timeButton}>\n              1 год. 30 хв.\n            </button>\n            <button onClick={() => disabledTimeVar(120)}\n                    className={disabledTime === 120 ? styles.timeButtonActive : styles.timeButton}>\n              2 год.\n            </button>\n            <div className={[15, 30, 45, 60, 90, 120].includes(disabledTime) ? styles.customTimeInput :\n              styles.customTimeInputActive}>\n              <input type=\"number\" value={disabledTime} min={5} max={180} step={5}\n                     onChange={(e) => {\n                       disabledTimeVar(parseInt(e.target.value));\n                     }}/>\n              <span>хв.</span>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n;\n\nexport default ConfirmBody;\n","import {gql} from \"@apollo/client\";\r\n\r\nexport const ENABLE_CLASSROOM = gql`\r\n    mutation enable($input: EnableClassroomInput!) {\r\n        enableClassroom(input: $input) {\r\n            classroom {\r\n               id\r\n               disabled {\r\n                    comment\r\n                    until\r\n                    state\r\n                }\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import React, {useState} from 'react';\nimport styles from \"./classroom/classroom.module.css\";\nimport Button from \"./button/Button\";\nimport moment from \"moment\";\n\ntype PropTypes = {\n  onSubmit: (comment: string, until: string) => void;\n};\n\nconst TIME_VALUES = ['До 20:00', 'До кінця дня'];\n\nconst DisableClassroom: React.FC<PropTypes> = ({onSubmit}) => {\n  const [comment, setComment] = useState('');\n  const [hours, setHours] = useState(23);\n  const [minutes, setMinutes] = useState(59);\n  const [until, setUntil] = useState(moment().format('YYYY-MM-DD'));\n  const [selectedUntilIndex, setSelectedUntilIndex] = useState(-1);\n\n  const handleSubmit = (e: any) => {\n    e.preventDefault();\n    const untilDateTime = moment(until).set({\n      hours,\n      minutes\n    }).format('YYYY-MM-DDTHH:mm');\n    onSubmit(comment, untilDateTime);\n  };\n\n  const handleCommentButtonClick = (e: any) => {\n    e.preventDefault();\n    setComment(e.target.innerHTML);\n  };\n\n  const handleUntilChange = (e: any) => {\n    setUntil(e.target.value);\n    setSelectedUntilIndex(-1);\n  };\n\n  const handleExactTime = (value: string, index: number) => {\n    setSelectedUntilIndex(index);\n\n    switch (value) {\n      case TIME_VALUES[0]: {\n        setHours(20);\n        setMinutes(0)\n        setUntil(moment().format('YYYY-MM-DD'));\n        return;\n      }\n      case TIME_VALUES[1]: {\n        setHours(23);\n        setMinutes(59);\n        setUntil(moment().format('YYYY-MM-DD'));\n        return;\n      }\n      default:\n        return setUntil('');\n    }\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit} id='disableClassroomForm'>\n        <label className={styles.disableClassroomInput}>\n          <span>Причина блокування:</span>\n          <input type='text' placeholder='Проведення конкурсу, ремонт, тощо...' value={comment}\n                 onChange={(e) => {\n                   setComment(e.target.value)\n                 }}\n                 name='disableComment'\n          />\n        </label>\n        <div className={styles.buttonsRow}>\n          <Button\n            onClick={handleCommentButtonClick}\n            disabled={comment === 'За розкладом'}\n          >\n            За розкладом\n          </Button>\n          <Button\n            onClick={handleCommentButtonClick}\n            disabled={comment === 'Сесія'}\n          >\n            Сесія\n          </Button>\n          <Button\n            onClick={handleCommentButtonClick}\n            disabled={comment === 'Відсутній ключ'}\n          >\n            Відсутній ключ\n          </Button>\n        </div>\n        <label className={styles.disableClassroomInput}>\n          <span>До:</span>\n          <input type=\"date\"\n                 value={until}\n                 onChange={handleUntilChange}\n                 name='disableUntil'\n                 min={moment().format('YYYY-MM-DD')}\n          />\n          <input\n            type=\"number\"\n            min={0}\n            max={23}\n            value={hours}\n            onChange={(e) => setHours(+e.target.value)}\n          />\n          <input\n            type=\"number\"\n            min={0}\n            max={59}\n            value={minutes}\n            onChange={(e) => setMinutes(+e.target.value)}\n          />\n        </label>\n        <div className={styles.buttonsRow}>\n          {TIME_VALUES.map((value, index) => (\n            <Button\n              onClick={() => handleExactTime(value, index)}\n              disabled={selectedUntilIndex === index}\n            >\n              {value}\n            </Button>\n          ))}\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default DisableClassroom;","import {gql} from \"@apollo/client\";\r\n\r\nexport const RELEASE_KEY_HOLDER = gql`\r\n    mutation releaseKeyHolder($input: ReleaseKeyHolder!) {\r\n        releaseKeyHolder(input: $input) {\r\n            classroom {\r\n              id\r\n              name\r\n              occupied {\r\n                user {\r\n                  id\r\n                }\r\n                state\r\n                keyHolder {\r\n                id\r\n                }\r\n              }\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;\r\n","import {gql} from \"@apollo/client\";\r\n\r\nexport const OCCUPY_CLASSROOM = gql`\r\n    mutation occupyClassroom($input: OccupyClassroomInput!) {\r\n        occupyClassroom(input: $input) {\r\n            classroom {\r\n                id\r\n                occupied {\r\n                    user {\r\n                        id\r\n                        firstName\r\n                        patronymic\r\n                        lastName\r\n                        type\r\n                        department {\r\n                            name\r\n                        }\r\n                    }\r\n                    until\r\n                    state\r\n                }\r\n            }\r\n            prevClassroom {\r\n               id\r\n                occupied {\r\n                    user {\r\n                        id\r\n                        firstName\r\n                        patronymic\r\n                        lastName\r\n                        type\r\n                        department {\r\n                            name\r\n                        }\r\n                    }\r\n                    until\r\n                    state\r\n                }\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import React from 'react';\nimport {client, disableClassroomBeforeFreeVar, disabledTimeVar, isButtonDisabledVar} from \"../api/client\";\nimport {gql} from \"@apollo/client\";\nimport {DISABLE_CLASSROOM} from \"../api/operations/mutations/disableClassroom\";\nimport moment from \"moment\";\nimport {FREE_CLASSROOM} from \"../api/operations/mutations/freeClassroom\";\nimport {ClassroomType, OccupiedState, User} from \"../models/models\";\nimport {GIVE_OUT_CLASSROOM_KEY} from \"../api/operations/mutations/giveOutClassroomKey\";\nimport {GET_USER_OCCUPIED_CLASSROOMS_BY_USER_ID} from \"../api/operations/queries/users\";\nimport {formatTempName, fullName, isStudent} from \"./helpers\";\nimport ConfirmFooter from \"../components/footer/ConfirmFooter\";\nimport ConfirmBody from \"../components/footer/ConfirmBody\";\nimport {ENABLE_CLASSROOM} from \"../api/operations/mutations/enableClassroom\";\nimport DisableClassroom from \"../components/DisableClassroom\";\nimport Button from \"../components/button/Button\";\nimport {RELEASE_KEY_HOLDER} from \"../api/operations/mutations/releaseKeyHolder\";\nimport handleOperation from \"./handleOperation\";\nimport {OCCUPY_CLASSROOM} from \"../api/operations/mutations/occupyClassroom\";\n\nexport const useClassroomActions = (classroomName: string, dispatchNotification: any, dispatchPopupWindow: any, dispatch: any) => {\n  const free = async (isOverdue: boolean, confirmSanctions: boolean, dispatch: any,\n                      withoutDisable: boolean = true) => {\n    const {data: {disabledTime}} = await client.query({\n      query: gql`query disabledTime { disabledTime @client }`\n    });\n\n    try {\n      if (disableClassroomBeforeFreeVar() && withoutDisable) {\n        const result = await client.mutate({\n          mutation: DISABLE_CLASSROOM,\n          variables: {\n            input: {\n              classroomName: String(classroomName),\n              comment: 'За розкладом',\n              until: moment().add(disabledTime, 'minutes').toISOString()\n            }\n          },\n        });\n        if (result.data.disableClassroom.userErrors.length) {\n          result.data.disableClassroom.userErrors.forEach(({message}: any) => {\n            dispatchNotification({\n              header: \"Помилка\",\n              message,\n              type: \"alert\",\n            });\n          })\n        } else {\n          dispatchNotification({\n            header: \"Успішно!\",\n            message: `Аудиторія ${classroomName} заблокована.`,\n            type: \"ok\",\n          });\n        }\n      }\n      const result = await client.mutate({\n        mutation: FREE_CLASSROOM,\n        variables: {\n          input: {\n            classroomName: String(classroomName),\n            applySanction: isOverdue ? confirmSanctions : false\n          },\n        },\n      });\n      handleOperation(result, 'freeClassroom', dispatchNotification, dispatch,\n        `Аудиторія ${classroomName} звільнена.`);\n    } catch (e: any) {\n      dispatchNotification({\n        header: \"Помилка!\",\n        message: e.message,\n        type: \"alert\",\n      });\n    } finally {\n      isButtonDisabledVar(false);\n      disabledTimeVar(15);\n      disableClassroomBeforeFreeVar(false);\n    }\n  };\n\n  const occupy = async (chosenUserId: number, chosenUserName: string, chosenUserType: any, until: string | -1) => {\n    const existingUser = {\n      userId: chosenUserId,\n    };\n    const newUser = {\n      userId: chosenUserId,\n      tempUser: {\n        name: formatTempName(chosenUserName),\n        type: chosenUserType.value\n      }\n    };\n    const occupant = chosenUserId === -1 ? newUser : existingUser;\n\n    if (chosenUserName !== \"\") {\n      isButtonDisabledVar(true);\n      try {\n        const result = await client.mutate({\n          mutation: OCCUPY_CLASSROOM,\n          variables: {\n            input: {\n              classroomName: classroomName.toString(),\n              // until: moment().add('seconds', 30).toISOString(),\n              until: !isStudent(chosenUserType.value) || until === -1\n                ? moment().set('hours', 23).set('minutes', 59).set('seconds', 59).toISOString()\n                : moment().add(until, 'hours').toISOString(),\n              ...occupant\n            }\n          }\n        });\n        handleOperation(result, 'occupyClassroom', dispatchNotification, dispatch,\n          `Аудиторія ${classroomName} зайнята.`);\n      } catch (e: any) {\n        dispatchNotification({\n          header: \"Помилка\",\n          message: e.message,\n          type: \"alert\",\n        });\n      } finally {\n        isButtonDisabledVar(false);\n      }\n    } else {\n      dispatchNotification({\n        header: \"Помилка\",\n        message: `Виберіть користувача.`,\n        type: \"alert\",\n      });\n      isButtonDisabledVar(false);\n    }\n  };\n\n  const disable = async (comment: string, until: string) => {\n    try {\n      const result = await client.mutate({\n        mutation: DISABLE_CLASSROOM,\n        variables: {\n          input: {\n            classroomName: String(classroomName),\n            comment: comment || 'За розкладом',\n            until: moment(until).toISOString()\n          }\n        },\n      });\n      handleOperation(result, 'disableClassroom', dispatchNotification, dispatch,\n        `Аудиторія ${classroomName} заблокована.`);\n    } catch (e: any) {\n      dispatchNotification({\n        header: \"Помилка!\",\n        message: e.message,\n        type: \"alert\",\n      });\n    }\n  };\n\n  const enable = async () => {\n    try {\n      const result = client.mutate({\n        mutation: ENABLE_CLASSROOM,\n        variables: {\n          input: {\n            classroomName: String(classroomName)\n          }\n        }\n      });\n      handleOperation(result, 'enableClassroom', dispatchNotification, dispatch, `Аудиторія ${classroomName} розблокована.`);\n    } catch (e: any) {\n      dispatchNotification({\n        header: \"Помилка!\",\n        message: e.message,\n        type: \"alert\",\n      });\n    }\n  };\n\n  const releaseKeyHolder = async () => {\n    try {\n      const result = await client.mutate({\n        mutation: RELEASE_KEY_HOLDER,\n        variables: {\n          input: {\n            classroomName: String(classroomName)\n          }\n        }\n      });\n      handleOperation(result, 'ReleaseKeyHolder', dispatchNotification, dispatch,\n        `Користувач віддав ключ.`);\n    } catch (e: any) {\n      dispatchNotification({\n        header: \"Помилка\",\n        message: e.message,\n        type: \"alert\",\n      });\n    }\n  };\n\n  const giveOutKey = async (occupiedClassroom: { classroom: ClassroomType }, isOverdue: boolean,\n                            confirmSanctions: boolean) => {\n    isButtonDisabledVar(true);\n    try {\n      if (occupiedClassroom) {\n        await free(isOverdue, confirmSanctions, true);\n      }\n      const result = await client.mutate({\n        mutation: GIVE_OUT_CLASSROOM_KEY,\n        variables: {\n          input: {\n            classroomName\n          }\n        }\n      });\n      handleOperation(result, 'giveOutClassroomKey', dispatchNotification, dispatch, \"Ключ видано\");\n    } catch (e: any) {\n      dispatchNotification({\n        header: \"Помилка!\",\n        message: (e as any).message,\n        type: \"alert\",\n      });\n    } finally {\n      isButtonDisabledVar(false);\n    }\n  };\n\n  const confirmFree = (isOverdue: boolean = false, confirmSanctions: boolean = false) => {\n    dispatchPopupWindow({\n      header: <h1>Увага!</h1>,\n      body: <ConfirmBody/>,\n      footer: <ConfirmFooter onOk={() => free(isOverdue, confirmSanctions, dispatch)}/>,\n      isConfirm: true\n    });\n  };\n\n  const confirmGiveOutKey = async (occupiedUser: User, isOverdue: boolean = false,\n                                   confirmSanctions: boolean = false) => {\n    let occupiedClassroom: any;\n    const result = await client.query({\n      query: GET_USER_OCCUPIED_CLASSROOMS_BY_USER_ID,\n      variables: {\n        where: {\n          id: occupiedUser.id\n        }\n      }\n    })\n    if (!result.data.user) {\n      console.log('error');\n    } else {\n      occupiedClassroom = result.data.user.occupiedClassrooms.find(({state}: any) => state === OccupiedState.OCCUPIED)\n    }\n    dispatchPopupWindow({\n      header: <h1>Увага!</h1>,\n      body: occupiedClassroom ? (\n          <>\n            <p>{`В даний момент користувач займає аудиторію ${occupiedClassroom.classroom.name}, з якої він буде автоматично виписаний.`}</p>\n            <p>{`Переконайтесь, що ключі від попередньої аудиторії (${occupiedClassroom.classroom.name}) були здані.`}</p>\n          </>\n        ) :\n        (\n          <span>{`Підтвердіть видачу ключа для ${fullName(occupiedUser, true)}`}</span>\n        ),\n      footer: <ConfirmFooter onOk={() => giveOutKey(occupiedClassroom, isOverdue, confirmSanctions)}/>,\n      isConfirm: true\n    });\n  };\n\n  const confirmDisable = () => {\n    dispatchPopupWindow({\n      header: <h1>Заблокувати аудиторію</h1>,\n      body: (\n        <DisableClassroom onSubmit={disable}/>\n      ),\n      footer: (\n        <>\n          <Button form='disableClassroomForm' type='submit' color='red'>Заблокувати</Button>\n        </>\n      )\n    });\n  }\n\n  return {\n    free,\n    occupy,\n    disable,\n    enable,\n    releaseKeyHolder,\n    giveOutKey,\n    confirmFree,\n    confirmGiveOutKey,\n    confirmDisable,\n  };\n};\n","import React, {FC} from \"react\";\nimport styles from \"./occupantInfo.module.css\";\nimport {OccupiedInfo, OccupiedState, OccupiedStateUa, User, UserTypes, UserTypesUa,} from \"../../../models/models\";\nimport Title from \"../../title/Title\";\nimport {fullName, typeStyle} from \"../../../helpers/helpers\";\nimport {usePopupWindow} from \"../../popupWindow/PopupWindowProvider\";\nimport UserProfile from \"../../userProfile/UserProfile\";\nimport Button from \"../../button/Button\";\nimport {useClassroomActions} from \"../../../helpers/useClassroomActions\";\n\ntype PropTypes = {\n  occupied: OccupiedInfo;\n  classroomName: string;\n  dispatchNotification: (config: any) => void;\n  dispatch: (value: any) => void;\n}\n\ntype UserCardPropTypes = {\n  user: User;\n  isKeyHolder?: boolean;\n}\n\nconst OccupantInfo: FC<PropTypes> = ({occupied, classroomName, dispatchNotification, dispatch}) => {\n  const dispatchPopupWindow = usePopupWindow();\n  const {\n    releaseKeyHolder,\n    confirmFree,\n    confirmGiveOutKey\n  } = useClassroomActions(classroomName, dispatchNotification, dispatchPopupWindow, dispatch);\n\n  const onClick = (user: User) => {\n    dispatchPopupWindow({\n      header: <h1>{fullName(user)}</h1>,\n      body: <UserProfile userId={user.id}/>,\n    });\n  };\n\n  const UserCard: FC<UserCardPropTypes> = ({user, isKeyHolder = false}) => (\n    <div onClick={() => onClick(user)} className={styles.occupantCard}>\n      <div>\n        <div className={styles.occupantName}>\n          <div className={styles.icon}/>\n          <p>{fullName(user)}</p>\n        </div>\n        <p style={typeStyle(user)} className={styles.occupantType}>\n          {UserTypesUa[user.type as UserTypes]}\n        </p>\n        <p className={styles.state}>\n          Статус: {isKeyHolder ? 'власник ключа' : OccupiedStateUa[occupied.state].toLowerCase()}\n        </p>\n      </div>\n      {isKeyHolder ? (\n        <div className={styles.controlButtons}>\n          <Button onClick={(e) => {\n            e.stopPropagation();\n            releaseKeyHolder();\n          }} color=\"red\">\n            Звільнити (здає ключ)\n          </Button>\n        </div>\n      ) : (occupied.state === OccupiedState.RESERVED ||\n        occupied.state === OccupiedState.PENDING) && occupied.keyHolder && (\n        <div className={styles.controlButtons}>\n          <Button onClick={(e) => {\n            e.stopPropagation();\n            confirmFree();\n          }} color=\"red\">\n            Звільнити\n          </Button>\n          <Button onClick={(e) => {\n            e.stopPropagation();\n            confirmGiveOutKey(occupied.user);\n          }}>\n            Видати ключ\n          </Button>\n        </div>\n      )}\n    </div>\n  )\n\n  return (\n    <>\n      <Title title=\"Ким зайнято\"/>\n      <div className={styles.cards}>\n        {!!occupied.keyHolder && (occupied.state === OccupiedState.RESERVED ||\n          occupied.state === OccupiedState.PENDING) && (\n          <UserCard user={occupied.keyHolder} isKeyHolder/>\n        )}\n        {!!occupied.user && (\n          <UserCard user={occupied.user}/>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default OccupantInfo;\n","export default __webpack_public_path__ + \"static/media/clock.d7390e7d.svg\";","import React, {useState} from 'react';\nimport Button from \"../../../button/Button\";\n\nconst ChooseTime = {\n  Header: () => <><h1>Виберіть час</h1></>,\n  Body: ({until, setUntil}: any) => {\n    const [value, setValue] = useState(until);\n\n    const handleValueChange = (value: number) => {\n      setValue(value);\n      setUntil(value);\n    };\n    return (\n      <form>\n        <label>\n          <input\n            type='radio'\n            name='time'\n            checked={value === 3}\n            onChange={() => handleValueChange(3)}\n          />\n          На 3 години\n        </label>\n        <label>\n          <input\n            type='radio'\n            name='time'\n            checked={value === -1}\n            onChange={() => handleValueChange(-1)}\n          />\n          До кінця дня\n        </label>\n      </form>\n    );\n  },\n  Footer: ({dispatch}: any) => <Button onClick={() => dispatch({type: 'POP_POPUP_WINDOW'})} color='red'>Закрити</Button>\n}\n\nexport default ChooseTime;\n","import React, {FormEvent, useEffect, useRef, useState,} from \"react\";\nimport styles from \"./occupantRegistration.module.css\";\nimport {useMutation, useQuery} from \"@apollo/client\";\nimport {GET_USER_OCCUPIED_CLASSROOMS_BY_USER_ID, GET_USERS} from \"../../../api/operations/queries/users\";\nimport {formatTempName, fullName, isStudent} from \"../../../helpers/helpers\";\nimport Title from \"../../title/Title\";\nimport Select from 'react-select';\nimport {\n  EmployeeAccountStatus,\n  OccupiedState, ScheduleUnitType,\n  StudentAccountStatus,\n  User,\n  UserTypes,\n  UserTypesUa\n} from \"../../../models/models\";\nimport {OCCUPY_CLASSROOM} from \"../../../api/operations/mutations/occupyClassroom\";\nimport {client, isButtonDisabledVar} from \"../../../api/client\";\nimport ConfirmFooter from \"../../footer/ConfirmFooter\";\nimport moment from \"moment\";\nimport {GET_SCHEDULE_UNIT} from \"../../../api/operations/queries/schedule\";\nimport Button from \"../../button/Button\";\nimport clockIcon from \"../../../assets/images/clock.svg\";\nimport ChooseTime from \"./chooseTime/ChooseTime\";\n\ninterface PropTypes {\n  dispatchNotification: (value: any) => void;\n  dispatchPopupWindow: (value: any) => void;\n  classroomId: number;\n  classroomName: string;\n  dispatch: (value: any) => void;\n}\n\nconst OccupantRegistration: React.FC<PropTypes> = ({\n                                                     dispatchNotification, classroomId,\n                                                     classroomName, dispatch, dispatchPopupWindow\n                                                   }) => {\n  const [value, setValue] = useState<string>();\n  const [existingUserValue, setExistingUserValue] = useState(null);\n  const [chosenUserId, setChosenUserId] = useState(-1);\n  const [chosenUserName, setChosenUserName] = useState('');\n  const {data, loading, error} = useQuery(GET_USERS);\n  const [occupyClassroom] = useMutation(OCCUPY_CLASSROOM);\n  const [users, setUsers] = useState();\n  const [scheduleUsers, setScheduleUsers] = useState([]);\n  const [scheduleUnits, setScheduleUnits] = useState<ScheduleUnitType[]>([]);\n  const [until, setUntil] = useState(3);\n  const newUserTypes: any = [\n    {value: UserTypes.STUDENT, label: UserTypesUa.STUDENT},\n    {value: UserTypes.POST_GRADUATE, label: UserTypesUa.POST_GRADUATE},\n    {value: UserTypes.TEACHER, label: UserTypesUa.TEACHER},\n    {value: UserTypes.ILLUSTRATOR, label: UserTypesUa.ILLUSTRATOR},\n    {value: UserTypes.CONCERTMASTER, label: UserTypesUa.CONCERTMASTER},\n    {value: UserTypes.PIANO_TUNER, label: UserTypesUa.PIANO_TUNER},\n    {value: UserTypes.STAFF, label: UserTypesUa.STAFF},\n    {value: UserTypes.OTHER, label: UserTypesUa.OTHER},\n  ];\n  const [chosenUserType, setChosenUserType] = useState(newUserTypes[7]);\n  const existingUserInput = useRef(null);\n\n  //@ts-ignore\n  useEffect(() => {\n    client.query({\n      query: GET_SCHEDULE_UNIT,\n      variables: {\n        classroomName,\n        date: moment().endOf('day').toISOString(),\n      }\n    }).then(({data: schedule}) => {\n      setScheduleUnits(schedule);\n      setScheduleUsers(schedule.schedule.filter((unit: ScheduleUnitType) => {\n        const date = moment().format('YYYY-MM-DD');\n        const diff = moment(date + ' ' + unit.to).diff(moment());\n        return diff > 0;\n      })\n        .map((unit: ScheduleUnitType) => {\n          return ({name: fullName(unit.user, true), id: unit.user.id});\n        }));\n    });\n    existingUserInput.current.focus();\n  }, []);\n\n  useEffect(() => {\n    if (!loading && !error) {\n      setUsers(data.users.slice()\n        .sort((a: User, b: User) => a.id - b.id)\n        .filter(({studentInfo, employeeInfo, nameTemp}: User) => {\n          return (studentInfo && studentInfo.accountStatus === StudentAccountStatus.ACTIVE) ||\n            (employeeInfo && employeeInfo.accountStatus === EmployeeAccountStatus.ACTIVE) &&\n            !nameTemp\n        })\n        .map((user: User) => ({label: user.id + \": \" + fullName(user), value: user.id})));\n    }\n  }, [data, error, loading]);\n\n  const handleTimeSettingsModalShow = () => {\n    dispatchPopupWindow({\n      header: <ChooseTime.Header/>,\n      body: <ChooseTime.Body until={until} setUntil={setUntil}/>,\n      footer: <ChooseTime.Footer/>,\n      isConfirm: true\n    });\n  };\n\n  const handleReset = () => {\n    setExistingUserValue(null);\n  };\n\n  const handleExistingUser = (e: any) => {\n    const chosenUser = (data.users as unknown as Array<User>)?.find(user => user.id === e.value);\n\n    setChosenUserId(e.value);\n    setChosenUserName(fullName(chosenUser as User));\n    setChosenUserType({value: (chosenUser as User).type, label: UserTypesUa[(chosenUser?.type as UserTypes)]});\n    setValue('');\n    setExistingUserValue(e);\n  };\n\n  const handleNewUser = (e: any) => {\n    if (e.target.value.length === 1) {\n      setChosenUserType(newUserTypes[7]);\n    }\n\n    setChosenUserId(-1);\n    setValue(e.target.value);\n    setChosenUserName(e.target.value);\n    setExistingUserValue(null);\n  }\n\n  const handleTypeSelect = (e: any) => {\n    setChosenUserType(e);\n  };\n\n  const confirmOccupyAnotherClassroom = (oldClassroomName: string) => {\n    dispatchPopupWindow({\n      header: <h1>Увага!</h1>,\n      body: <span>Користувач знаходиться в аудиторії {oldClassroomName}. Після підтвердження користувача буде виписано з аудиторіЇ {oldClassroomName} і записано до аудиторії {classroomName}.</span>,\n      footer: <ConfirmFooter onOk={handleOccupy}/>,\n      isConfirm: true\n    });\n  }\n\n  const checkChosenUserIsOccupiedPreviously = async () => {\n    if (chosenUserId === -1) return await handleOccupy();\n    try {\n      const chosenUserOccupiedInfo = await client.query({\n        query: GET_USER_OCCUPIED_CLASSROOMS_BY_USER_ID,\n        variables: {\n          where: {\n            id: chosenUserId,\n          }\n        },\n        fetchPolicy: 'network-only'\n      });\n      const occupiedClassrooms = chosenUserOccupiedInfo.data.user.occupiedClassrooms;\n      if (occupiedClassrooms?.length) {\n        const occupiedOrReservedClassrooms = occupiedClassrooms.filter((classroom: any) => {\n          return classroom.state === OccupiedState.RESERVED || classroom.state === OccupiedState.OCCUPIED\n        });\n        if (occupiedOrReservedClassrooms.length) {\n          confirmOccupyAnotherClassroom(occupiedOrReservedClassrooms[0].classroom.name);\n        } else {\n          await handleOccupy();\n        }\n      } else {\n        await handleOccupy();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  const onOccupyClick = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    await checkChosenUserIsOccupiedPreviously();\n  };\n\n  const handleOccupy = async () => {\n    const existingUser = {\n      userId: chosenUserId,\n    };\n    const newUser = {\n      userId: chosenUserId,\n      tempUser: {\n        name: formatTempName(chosenUserName),\n        type: chosenUserType.value\n      }\n    };\n    const occupant = chosenUserId === -1 ? newUser : existingUser;\n\n    if (chosenUserName !== \"\") {\n      isButtonDisabledVar(true);\n      const result = await occupyClassroom({\n        variables: {\n          input: {\n            classroomName: classroomName.toString(),\n            until: moment().add('seconds', 30).toISOString(),\n            // until: !isStudent(chosenUserType.value) || until === -1\n            //   ? moment().set('hours', 23).set('minutes', 59).set('seconds', 59).toISOString()\n            //   : moment().add(until, 'hours').toISOString(),\n            ...occupant\n          }\n        }\n      })\n      if (result.data.occupyClassroom.userErrors.length) {\n        result.data.occupyClassroom.userErrors.forEach(({message}: any) => {\n          dispatchNotification({\n            header: \"Помилка\",\n            message,\n            type: \"alert\",\n          });\n        })\n      } else {\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Аудиторія ${classroomName} зайнята.`,\n          type: \"ok\",\n        });\n      }\n      dispatch({\n        type: \"POP_POPUP_WINDOW\",\n      });\n      isButtonDisabledVar(false);\n    } else {\n      dispatchNotification({\n        header: \"Помилка\",\n        message: `Виберіть користувача.`,\n        type: \"alert\",\n      });\n      isButtonDisabledVar(false);\n    }\n  };\n\n  const filterOption = (option: {value: string, label: string}, inputValue:string) => {\n    const strings = option.label.split(' ');\n    const id = strings[0].trim().toLowerCase();\n    const lastName = strings[1].trim().toLowerCase();\n    let exceptLastName = strings;\n    exceptLastName.splice(1, 1);\n    const input = inputValue.trim().toLowerCase();\n\n    return id.includes(input) || lastName.includes(input)\n      // || exceptLastName.join(' ').toLowerCase().includes(input);\n  };\n\n  return (\n    <div>\n      <form\n        id=\"userSearchForm\"\n        className={styles.userSearch}\n        onSubmit={onOccupyClick}\n      >\n        <Select\n          placeholder=\"Існуючі користувачі\"\n          options={users}\n          value={existingUserValue}\n          styles={{menuPortal: base => ({...base, zIndex: 9999})}}\n          menuPortalTarget={document.body}\n          onChange={handleExistingUser}\n          filterOption={filterOption}\n          onFocus={handleReset}\n          ref={existingUserInput}\n        />\n        <div>\n          <input\n            type=\"text\"\n            value={value}\n            onChange={handleNewUser}\n            name=\"tempUsersInput\"\n            id=\"tempUsersInput\"\n            placeholder=\"Тимчасовий користувач\"\n            className={styles.createUserInput}\n            autoComplete=\"off\"\n          />\n          {value && <Select\n              options={newUserTypes}\n              value={chosenUserType}\n              placeholder={UserTypesUa.OTHER}\n              onChange={handleTypeSelect}\n              menuPortalTarget={document.body}\n              styles={{menuPortal: base => ({...base, zIndex: 9999})}}\n          />}\n        </div>\n      </form>\n      <div>\n        {scheduleUsers.map((user: any) => {\n          const data = {value: user.id, label: user.name}\n          return (\n            <Button style={{height: 30, marginRight: 5}} onClick={() => handleExistingUser(data)}>\n              {user.name}\n            </Button>\n          );\n        })}\n      </div>\n      <Title title=\"Вибраний користувач\"/>\n      <p>П.І.Б.: {chosenUserName}</p>\n      {/*@ts-ignore*/}\n      <p>Статус: {chosenUserType && chosenUserName?.length !== 0 && UserTypesUa[chosenUserType.value]}</p>\n      <div className={styles.time} onClick={handleTimeSettingsModalShow}>\n        {isStudent(chosenUserType.value) && (\n          <>\n            <img src={clockIcon} width={24} height={24} alt='time'/>\n            <span>До {until !== -1\n              ? moment().add(until, 'hours').format('HH:mm')\n              : 'кінця дня'}</span>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default OccupantRegistration;\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOM = gql`\r\n  query getClassroom($where: ClassroomWhereUniqueInput!) {\r\n    classroom(where: $where) {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n      chair {\r\n          name\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n          department {\r\n              name\r\n          }\r\n        }\r\n        keyHolder {\r\n         id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n          department {\r\n              name\r\n          }\r\n        }\r\n        until\r\n        state\r\n      }\r\n      queue {\r\n        id\r\n      }\r\n      instruments {\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n      color\r\n    }\r\n  }\r\n`;\r\n","import {gql} from '@apollo/client';\n\nexport const GET_SCHEDULE_UNITS = gql`\n  query getScheduleUnits($where: ScheduleUnitWhereInput) {\n    scheduleUnits(where: $where) {\n      id\n      primaryScheduleUnit {\n        id\n      }\n      user {\n        id\n        firstName\n        lastName\n        patronymic\n        type\n      }\n      classroom {\n        id\n        name\n      }\n      type\n      dateStart\n      dateEnd\n      from\n      to\n      activity\n      dayOfWeek\n    }\n  }\n`;\n","import React, {FC} from 'react';\nimport {ScheduleUnitType} from \"../../models/models\";\nimport styles from './classroomSchedule.module.css';\nimport {fullName} from \"../../helpers/helpers\";\nimport Button from \"../button/Button\";\nimport UserProfile from \"../userProfile/UserProfile\";\n\ntype PropTypes = {\n  unit: ScheduleUnitType;\n  dispatchPopupWindow: (config: any) => void;\n}\n\nconst ClassroomScheduleUnit: FC<PropTypes> = ({unit, dispatchPopupWindow}) => {\n  const handleClick = () => {\n    dispatchPopupWindow({\n      header: <h1>{fullName(unit.user)}</h1>,\n      body: <UserProfile userId={unit.user.id as number}/>,\n    });\n  };\n\n  return (\n    <li onClick={handleClick}>\n      <button className={styles.unit}>\n        {fullName(unit.user, true)} {unit.from}-{unit.to}\n      </button>\n    </li>\n  );\n};\n\nexport default ClassroomScheduleUnit;\n","import React, {FC} from 'react';\nimport {useQuery} from \"@apollo/client\";\nimport {GET_SCHEDULE_UNITS} from \"../../api/operations/queries/scheduleUnits\";\nimport styles from './classroomSchedule.module.css';\nimport moment from \"moment\";\nimport {ScheduleUnitType} from \"../../models/models\";\nimport ClassroomScheduleUnit from \"./ClassroomScheduleUnit\";\nimport Loader from \"../loader/Loader\";\n\ntype PropTypes = {\n  classroomName: string;\n  dispatchPopupWindow: (config: any) => void;\n}\n\nconst ClassroomSchedule: FC<PropTypes> = ({classroomName, dispatchPopupWindow}) => {\n  const {data, loading, error} = useQuery(GET_SCHEDULE_UNITS, {\n    variables: {\n      where: {\n        classroom: {\n          name: {\n            equals: classroomName,\n          }\n        },\n        dayOfWeek: {\n          equals: moment().day(),\n        },\n      }\n    }\n  });\n  if (!data?.scheduleUnits.length) return <span>Немає</span>\n  return (\n    <ul className={styles.list}>\n      {data?.scheduleUnits.slice()\n        .sort((a: ScheduleUnitType, b: ScheduleUnitType) => parseInt(a.from) - parseInt(b.from))\n        .map((unit: ScheduleUnitType) => (\n        <ClassroomScheduleUnit unit={unit} key={unit.id} dispatchPopupWindow={dispatchPopupWindow}/>\n      ))}\n    </ul>\n  );\n};\n\nexport default ClassroomSchedule;\n","import React, {useEffect, useState} from \"react\";\nimport styles from \"./classroomInfo.module.css\";\nimport {\n  ClassroomType,\n  DisabledState,\n  OccupiedState,\n  QueuePolicyTypes, QueueRecord,\n  QueueState, QueueType,\n  UserTypes\n} from \"../../models/models\";\nimport Instruments from \"../instruments/Instruments\";\nimport Title from \"../title/Title\";\nimport OccupantInfo from \"./occupantInfo/OccupantInfo\";\nimport OccupantRegistration from \"./occupantRegistration/OccupantRegistration\";\nimport {gql, useQuery} from \"@apollo/client\";\nimport {isClassroomNotFree, isStudent, isTimeout} from \"../../helpers/helpers\";\nimport {client} from \"../../api/client\";\nimport {GET_CLASSROOM} from \"../../api/operations/queries/classroom\";\nimport moment from \"moment\";\nimport {FREE_CLASSROOM} from \"../../api/operations/mutations/freeClassroom\";\nimport ClassroomSchedule from \"../classroomSchedule/ClassroomSchedule\";\n\ninterface PropTypes {\n  classroom: ClassroomType;\n  dispatchNotification: (value: string) => void;\n  dispatchPopupWindow: (value: any) => void;\n  dispatch: (value: any) => void;\n}\n\nconst ClassroomInfo: React.FC<PropTypes> = ({\n                                              classroom, dispatchNotification, dispatch,\n                                              dispatchPopupWindow\n                                            }) => {\n  const {name, instruments, description, chair, occupied, id} = classroom;\n  const [queueSize, setQueueSize] = useState(0);\n  const [isOccupiedOverdue, setIsOccupiedOverdue] = useState(false);\n  const [date, setDate] = useState(moment().endOf('day').toISOString());\n  const {data: {isPassed}} = useQuery(gql`\n    query isPassed {\n      isPassed @client\n    }\n  `);\n\n  useEffect(() => {\n    const isOverdueByStudent = occupied.state === OccupiedState.OCCUPIED &&\n      isStudent(occupied.user.type as UserTypes) && isTimeout(occupied.until);\n    setIsOccupiedOverdue(isOverdueByStudent as boolean);\n  }, [occupied.state, occupied.user, occupied.until]);\n\n  useEffect(() => {\n    if (occupied.state !== OccupiedState.FREE && !occupied.user) {\n      try {\n        client.mutate({\n          mutation: FREE_CLASSROOM,\n          variables: {\n            input: {\n              classroomName: String(name)\n            }\n          }\n        })\n      } catch (e) {\n        console.log(e)\n      }\n    }\n    try {\n      client.query({\n        query: GET_CLASSROOM,\n        variables: {\n          where: {\n            id\n          }\n        },\n        fetchPolicy: 'network-only'\n      }).then(res => {\n        setQueueSize(res.data.classroom.queue?.map((unit:  QueueRecord) => unit.state === QueueState.ACTIVE).length);\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }, []);\n\n  const defineStatus = () => {\n    const {isHidden, disabled, queueInfo: {queuePolicy}, occupied} = classroom;\n    // if (isOccupiedOverdue) return <span className={styles.overdue}>\n    //   {`Час занять в аудиторії прострочений на\n    // ${((isTimeout(occupied.until, true) as number) / 1000 / 60)\n    //     .toFixed(0)} хв.`}\n    // </span>\n    if (isHidden) return 'Аудиторія прихована';\n    if (disabled.state === DisabledState.DISABLED) {\n      return `Аудиторія відключена від черги до ${\n        moment(disabled.until).format('DD.MM.YYYY HH:mm')}. Причина: ${\n        disabled.comment\n      }`;\n    }\n    if (queuePolicy.policy === QueuePolicyTypes.SELECTED_DEPARTMENTS\n      && queuePolicy.queueAllowedDepartments.length) {\n      return <>\n        <span>Тільки для студентів: </span>\n        {queuePolicy.queueAllowedDepartments.map(({department: {name}}) => {\n          return <span className={styles.specialChair}>{name}</span>\n        })}\n      </>\n\n    }\n    if (queuePolicy.policy === QueuePolicyTypes.SELECTED_DEPARTMENTS\n      && !queuePolicy.queueAllowedDepartments.length) {\n      return 'Аудиторія відключена від черги'\n    }\n    if (occupied.state === OccupiedState.FREE) return 'Аудиторія вільна'\n    if (occupied.state === OccupiedState.OCCUPIED) return 'Аудиторія зайнята'\n    if (occupied.state === OccupiedState.PENDING) return 'Аудиторія очікує підтвердження'\n    if (occupied.state === OccupiedState.RESERVED) return 'Аудиторія зарезервована'\n  }\n\n  return (\n    <div>\n      {!!queueSize && <p>Черга за цією аудиторію: {queueSize} люд.</p>}\n      {defineStatus()}\n      <Title title=\"Розклад на сьогодні\"/>\n      <ClassroomSchedule classroomName={classroom.name} dispatchPopupWindow={dispatchPopupWindow}/>\n      {instruments?.length > 0 && (\n        <>\n          <Title title=\"Інструменти\"/>\n          <Instruments expanded instruments={instruments}/>\n        </>\n      )}\n      {isClassroomNotFree(occupied) && !isPassed ? (\n        <OccupantInfo\n          occupied={occupied}\n          classroomName={name}\n          dispatchNotification={dispatchNotification}\n          dispatch={dispatch}\n        />\n      ) : (\n        <>\n          <Title title=\"Запис в аудиторію\"/>\n          <OccupantRegistration\n            dispatchNotification={dispatchNotification}\n            dispatchPopupWindow={dispatchPopupWindow}\n            classroomId={id}\n            classroomName={name}\n            dispatch={dispatch}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ClassroomInfo;\n","import React from \"react\";\r\nimport styles from \"./tooltip.module.css\";\r\n\r\ninterface PropTypes {\r\n  body: string;\r\n}\r\n\r\nconst Tooltip: React.FC<PropTypes> = ({ body }) => {\r\n  return <div className={styles.tooltip}>{body}</div>;\r\n};\r\n\r\nexport default Tooltip;\r\n","import React from \"react\";\r\nimport styles from \"./tag.module.css\";\r\nimport Tooltip from \"../tooltip/Tooltip\";\r\n\r\ninterface PropTypes {\r\n  body: string;\r\n}\r\n\r\nconst Tag: React.FC<PropTypes> = ({ body }) => {\r\n  const isMobileDevise = document.body.clientWidth < 1024;\r\n  const bodyBrief = body\r\n    .split(\" \")\r\n    .map((word) => word.charAt(0).toUpperCase())\r\n    .join(\"\");\r\n  const bodyFull = body.toUpperCase();\r\n  return (\r\n    <div className={styles.tagContainer}>\r\n      <Tooltip body={body}/>\r\n      <p className={styles.tag}>{isMobileDevise ? bodyBrief : bodyFull}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tag;\r\n","import React, {useEffect, useState} from \"react\";\nimport Button from \"../button/Button\";\nimport styles from \"../classroom/classroom.module.css\";\nimport {isPassedVar} from \"../../api/client\";\nimport {gql, useQuery} from \"@apollo/client\";\nimport {DisabledInfo, DisabledState, OccupiedInfo, OccupiedState, UserTypes} from \"../../models/models\";\nimport {isClassroomNotFree, isStudent, isTimeout} from \"../../helpers/helpers\";\nimport {useClassroomActions} from \"../../helpers/useClassroomActions\";\n\ninterface PropTypes {\n  classroomName: string;\n  occupied: OccupiedInfo;\n  disabled?: DisabledInfo;\n  dispatchNotification: (value: any) => void;\n  dispatchPopupWindow?: (value: any) => void;\n  classroomId?: number;\n  isOverdue?: boolean;\n}\n\nconst Footer: React.FC<PropTypes> = (\n    {\n      classroomName, occupied, dispatchNotification,\n      dispatchPopupWindow, disabled: disabledClassroom,\n      classroomId, isOverdue, ...props\n    }\n  ) => {\n    const {\n      confirmGiveOutKey,\n      confirmFree,\n      enable,\n      confirmDisable\n    } = useClassroomActions(classroomName, dispatchNotification, dispatchPopupWindow, (props as any).dispatch);\n    const [confirmSanctions, setConfirmSanction] = useState(false);\n    const [isOccupiedOverdue, setIsOccupiedOverdue] = useState(false);\n    const occupiedUser = occupied.state === OccupiedState.RESERVED ? occupied.user : occupied.keyHolder\n      ? occupied.keyHolder : occupied.user;\n    const {data: {isButtonDisabled: disabled}} = useQuery(gql`\n    query isButtonDisabled {\n      isButtonDisabled @client\n    }\n  `);\n    const {data: {isPassed}} = useQuery(gql`\n    query isPassed {\n      isPassed @client\n    }\n  `);\n\n    useEffect(() => {\n      const isOverdueByStudent = occupied.state === OccupiedState.OCCUPIED &&\n        isStudent(occupiedUser.type as UserTypes) && isTimeout(occupied.until);\n      setIsOccupiedOverdue(isOverdueByStudent as boolean);\n    }, [occupied.state, occupiedUser, occupied.until]);\n\n    const handlePassClassroom = () => {\n      isPassedVar(true);\n    };\n\n    const DisabledButton = () => disabledClassroom?.state === DisabledState.DISABLED ? (\n      <Button\n        color=\"red\"\n        onClick={enable}\n      >\n        Розблокувати\n      </Button>\n    ) : (\n      <Button\n        color=\"red\"\n        onClick={confirmDisable}\n      >\n        Заблокувати\n      </Button>\n    );\n\n    return (\n      <div className={styles.footer}>\n        {/*{(isOverdue || isOccupiedOverdue) && <span className={styles.sanctions}>*/}\n        {/*        <label>З застосуванням санкцій</label>*/}\n        {/*        <input type='checkbox' checked={confirmSanctions}*/}\n        {/*               onChange={e => setConfirmSanction(e.target.checked)}*/}\n        {/*        />*/}\n        {/*    </span>}*/}\n        {isClassroomNotFree(occupied) && !isPassed ? (\n          <>\n            <DisabledButton/>\n            <div>\n              <Button onClick={handlePassClassroom}>\n                Передати\n              </Button>\n              {!((occupied.state === OccupiedState.RESERVED || occupied.state === OccupiedState.PENDING)\n                && occupied.keyHolder) && (\n                <Button onClick={confirmFree} disabled={disabled} color='red'>\n                  Звільнити {confirmSanctions ? '(з санкціями)' : ''}\n                </Button>\n              )}\n              {occupied.state === OccupiedState.RESERVED && !(occupied.keyHolder) && (\n                <Button\n                  onClick={() => confirmGiveOutKey(occupiedUser)}\n                  disabled={disabled}\n                  style={{padding: '0 40px', height: '2.5rem'}}\n                >\n                  Видати ключ\n                </Button>\n              )}\n            </div>\n          </>\n        ) : (\n          <>\n            <DisabledButton/>\n            <Button type=\"submit\" form=\"userSearchForm\" disabled={disabled}>\n              Записати {confirmSanctions ? '(з санкціями для попереднього користувача)' : ''}\n            </Button>\n          </>\n        )}\n      </div>\n    );\n  }\n;\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/specialPiano.003d6bf5.svg\";","export default __webpack_public_path__ + \"static/media/unlock.dc9d5777.svg\";","export default __webpack_public_path__ + \"static/media/lock.50ded67f.svg\";","import React, {useCallback, useEffect, useRef, useState} from \"react\";\nimport styles from \"./classroom.module.css\";\nimport {\n  ClassroomType,\n  DisabledState,\n  OccupiedInfo,\n  OccupiedState,\n  QueuePolicyTypes,\n  ScheduleUnitType,\n  User,\n  UserTypes,\n  UserTypesUa,\n} from \"../../models/models\";\nimport {defineOccupyStatus, fullName, getBriefString, isClassroomNotFree, typeStyle} from \"../../helpers/helpers\";\nimport Instruments from \"../instruments/Instruments\";\nimport {usePopupWindow} from \"../popupWindow/PopupWindowProvider\";\nimport ClassroomInfo from \"../ classroomInfo/ClassroomInfo\";\nimport Tag from \"../tag/Tag\";\nimport Footer from \"../footer/Footer\";\nimport specialPiano from \"../../assets/images/specialPiano.svg\";\nimport moment from \"moment\";\nimport unlockIcon from \"../../assets/images/unlock.svg\";\nimport lockIcon from \"../../assets/images/lock.svg\";\nimport {client} from \"../../api/client\";\nimport {ENABLE_CLASSROOM} from \"../../api/operations/mutations/enableClassroom\";\nimport {DISABLE_CLASSROOM} from \"../../api/operations/mutations/disableClassroom\";\nimport {GET_SCHEDULE_UNIT} from \"../../api/operations/queries/schedule\";\n\ninterface PropTypes {\n  classroom: ClassroomType;\n  dispatchNotification: (value: any) => void;\n  index: number;\n}\n\nconst Classroom: React.FC<PropTypes> = ({classroom, dispatchNotification, index}) => {\n  const {\n    id, name, occupied, instruments, isWing, isOperaStudio, special, schedule, chair,\n    isHidden, disabled, queueInfo: {queuePolicy: {policy, queueAllowedDepartments}}\n  } = classroom;\n  const occupiedUser = occupied.state === OccupiedState.RESERVED ? occupied.user : occupied.keyHolder\n    ? occupied.keyHolder : occupied.user;\n  const userFullName = fullName(occupiedUser as User, true);\n  const dispatchPopupWindow = usePopupWindow();\n  const [isOverdue, setIsOverDue] = useState(false);\n  // const occupiedOnSchedule = isOccupiedOnSchedule(schedule);\n  let timeout = useRef(null);\n  const [scheduleUnits, setScheduleUnits] = useState<ScheduleUnitType[]>([]);\n\n  const header = (\n    <>\n      <h1>{`Аудиторія ${name}${chair?.name ? ', ' + getBriefString(chair.name) : ''}`}</h1>\n      {isWing && <Tag body=\"Флігель\"/>}\n      {isOperaStudio && <Tag body=\"Оперна студія\"/>}\n    </>\n  );\n\n  useEffect(() => {\n    client.query({\n      query: GET_SCHEDULE_UNIT,\n      variables: {\n        classroomName: classroom.name,\n        date: moment().toISOString()\n      }\n    }).then(result => {\n      setScheduleUnits(result.data.schedule);\n    });\n    return () => clearTimeout(timeout.current);\n  }, []);\n\n  useEffect(() => {\n    if (classroom.occupied.state === OccupiedState.RESERVED) {\n      const untilString: string = classroom.occupied.until as unknown as string;\n      const diffInMs = moment(untilString).diff(moment());\n\n      if (diffInMs >= 0 && !timeout.current) {\n        timeout.current = setTimeout(() => setIsOverDue(true), diffInMs);\n      } else if (diffInMs <= 0) {\n        setIsOverDue(true);\n      } else {\n        setIsOverDue(false);\n      }\n    } else {\n      setIsOverDue(false);\n    }\n    if (occupied.state !== OccupiedState.RESERVED && timeout.current) clearTimeout(timeout.current);\n    defineStyle();\n    defineStatus();\n    defineStatusStiles();\n  }, [classroom]);\n\n  const defineStyle = () => {\n    const occupiedStyle = {\n      background: \"#fff\",\n      transition: \"all .3s cubic-bezier(0.25, 0.8, 0.25, 1)\",\n      border: isOverdue ? '4px solid red' : 'none'\n    };\n    const vacantStyle = {\n      background: \"#76e286\",\n      transition: \"all .3s cubic-bezier(0.25, 0.8, 0.25, 1)\",\n    };\n    const disableStyle = {\n      background: \"#b1b1b1\",\n      transition: \"all .3s cubic-bezier(0.25, 0.8, 0.25, 1)\",\n      border: isOverdue ? '4px solid red' : 'none'\n    };\n\n    if (disabled?.state === DisabledState.DISABLED\n      || (classroom.queueInfo.queuePolicy.policy === QueuePolicyTypes.SELECTED_DEPARTMENTS\n        && !classroom.queueInfo.queuePolicy.queueAllowedDepartments.length)) return disableStyle;\n    if (isClassroomNotFree(occupied)) return occupiedStyle;\n    return vacantStyle;\n  };\n\n  const defineStatusStiles = () => {\n    if (isOverdue) return styles.overdue;\n    if (!isOverdue && occupied.state === OccupiedState.RESERVED) return styles.reserved;\n    else return ''\n  };\n\n  const defineStatus = useCallback(() => defineOccupyStatus(classroom, scheduleUnits, isOverdue), [scheduleUnits, classroom, isOverdue]);\n\n  const handleClick = () => {\n    dispatchPopupWindow({\n      header,\n      //@ts-ignore\n      body: <ClassroomInfo\n        classroom={classroom}\n        dispatchNotification={dispatchNotification}\n        dispatchPopupWindow={dispatchPopupWindow}\n      />,\n      footer: <Footer\n        classroomName={name}\n        classroomId={id}\n        disabled={disabled}\n        occupied={occupied}\n        dispatchNotification={dispatchNotification}\n        dispatchPopupWindow={dispatchPopupWindow}\n        isOverdue={isOverdue}\n      />,\n    });\n  };\n\n  const toggleDisable = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disabled?.state === DisabledState.DISABLED) {\n      try {\n        await client.mutate({\n          mutation: ENABLE_CLASSROOM,\n          variables: {\n            input: {\n              classroomName: String(name)\n            }\n          }\n        })\n      } catch (e) {\n        console.log(e)\n      }\n    } else {\n      try {\n        await client.mutate({\n          mutation: DISABLE_CLASSROOM,\n          variables: {\n            input: {\n              classroomName: String(name),\n              until: moment().set('hours', 23).set('minutes', 59).toISOString(),\n              comment: 'За розкладом'\n            }\n          }\n        })\n      } catch (e) {\n\n      }\n    }\n  }\n\n  return (\n    <>\n      <li\n        key={id}\n        className={styles.classroomsListItem}\n        style={{...defineStyle(), opacity: isHidden ? .5 : 1}}\n        onClick={handleClick}\n        tabIndex={index}\n      >\n        <div className={styles.header}>\n          {special === 'PIANO' && (\n            <img className={styles.special} src={specialPiano} alt=\"Special Piano\"/>\n          )}\n          {!isHidden && (\n            <img\n              src={disabled?.state === DisabledState.DISABLED ? lockIcon : unlockIcon}\n              alt={disabled?.state === DisabledState.DISABLED ? 'Разблокувати' : 'Заблокувати'}\n              className={disabled?.state === DisabledState.DISABLED ? styles.lockIcon : styles.unlockIcon}\n              title={disabled?.state === DisabledState.DISABLED ? 'Разблокувати' : 'Заблокувати за до кінця дня'}\n              onClick={toggleDisable}\n            />\n          )}\n          <h1 className={(policy === QueuePolicyTypes.SELECTED_DEPARTMENTS &&\n            queueAllowedDepartments.length) ? styles.isDepartment : ''}>{name}</h1>\n          {isClassroomNotFree(occupied) && (\n            <div className={styles.occupantInfo}>\n              <p className={styles.occupantName} title={userFullName}>{userFullName}</p>\n              <p style={typeStyle(occupiedUser as User)} className={styles.occupantType}>\n                {UserTypesUa[occupiedUser?.type as UserTypes]}\n              </p>\n            </div>\n          )}\n        </div>\n        <div className={styles.occupationInfo}>\n          <p className={defineStatusStiles()}\n          >\n            {defineStatus()}\n          </p>\n        </div>\n        <Instruments instruments={instruments}/>\n      </li>\n    </>\n  );\n};\n\nexport default Classroom;\n","import React, {CSSProperties, useEffect, useRef, useState} from 'react';\nimport {ClassroomType, DisabledState, OccupiedState, QueuePolicyTypes, UserTypes} from \"../../models/models\";\nimport Tag from \"../tag/Tag\";\nimport ClassroomInfo from \"../ classroomInfo/ClassroomInfo\";\nimport Footer from \"../footer/Footer\";\nimport {usePopupWindow} from \"../popupWindow/PopupWindowProvider\";\nimport moment from \"moment\";\nimport {useLocal} from \"../../hooks/useLocal\";\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  dispatchNotification: (value: string) => void;\n}\n\nconst CaviarItem: React.FC<PropTypes> = ({classroom, dispatchNotification}) => {\n  const dispatchPopupWindow = usePopupWindow();\n  const [isOverdue, setIsOverDue] = useState(false);\n\n  let timeout = useRef(null);\n\n  useEffect(() => {\n    return () => clearTimeout(timeout.current);\n  }, []);\n\n  useEffect(() => {\n    if (classroom.occupied.state === OccupiedState.RESERVED) {\n      const untilString: string = classroom.occupied.until as unknown as string;\n      const diffInMs = moment(untilString).diff(moment());\n\n      if (diffInMs >= 0 && !timeout.current) {\n        timeout.current = setTimeout(() => setIsOverDue(true), diffInMs);\n      } else if (diffInMs <= 0) {\n        setIsOverDue(true);\n      } else {\n        setIsOverDue(false);\n      }\n    } else {\n      setIsOverDue(false);\n    }\n    if (classroom.occupied.state !== OccupiedState.RESERVED && timeout.current) {\n      clearTimeout(timeout.current);\n    }\n  }, [classroom]);\n\n  const calcStyle = (classroom: ClassroomType) => {\n    const resStyles: CSSProperties = {};\n    if (classroom.isHidden) resStyles.opacity = .5;\n    if (classroom.disabled.state === DisabledState.DISABLED\n      || (classroom.queueInfo.queuePolicy.policy === QueuePolicyTypes.SELECTED_DEPARTMENTS\n        && !classroom.queueInfo.queuePolicy.queueAllowedDepartments.length)) {\n      resStyles.background = '#b1b1b1';\n    } else {\n      classroom.occupied.state === OccupiedState.FREE ?\n        resStyles.background = '#76e286' : resStyles.background = '#fff';\n      if (isOverdue) {\n        resStyles.background = '#f91354';\n        resStyles.color = '#fff';\n      }\n    }\n    return resStyles\n  };\n\n  function handleClick(classroom: ClassroomType) {\n    const {name, occupied, id, disabled} = classroom;\n    dispatchPopupWindow({\n      header: (\n        <>\n          <h1>{`Аудиторія ${classroom.name}`}</h1>\n          {classroom.isWing && <Tag body=\"Флігель\"/>}\n          {classroom.isOperaStudio && <Tag body=\"Оперна студія\"/>}\n        </>\n      ),\n      body: (\n        //@ts-ignore\n        <ClassroomInfo\n          dispatchNotification={dispatchNotification}\n          classroom={classroom}\n          dispatchPopupWindow={dispatchPopupWindow}\n        />\n      ),\n      footer: <Footer\n        classroomName={name}\n        classroomId={id}\n        disabled={disabled}\n        occupied={occupied}\n        dispatchNotification={dispatchNotification}\n        dispatchPopupWindow={dispatchPopupWindow}\n        isOverdue={isOverdue}\n      />,\n    });\n  }\n\n  return (\n    <li\n      onClick={() => handleClick(classroom)}\n      style={calcStyle(classroom)}\n    >\n      {classroom.name}\n    </li>\n  );\n}\n\nexport default CaviarItem;","import React from \"react\";\r\nimport styles from \"./caviar.module.css\";\r\nimport {ClassroomType} from \"../../models/models\";\r\nimport CaviarItem from \"./CaviarItem\";\r\n\r\ninterface PropTypes {\r\n  classrooms: Array<ClassroomType>;\r\n  dispatchNotification: (value: string) => void;\r\n}\r\n\r\nconst Caviar: React.FC<PropTypes> = ({classrooms, dispatchNotification}) => {\r\n\r\n  return (\r\n    <ul className={styles.caviar}>\r\n      {classrooms.map((classroom) => (\r\n        <CaviarItem classroom={classroom} dispatchNotification={dispatchNotification} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Caviar;\r\n","import {useEffect, useState} from \"react\";\nimport {GET_CLASSROOMS} from \"../api/operations/queries/classrooms\";\nimport {ClassroomType} from \"../models/models\";\nimport {useQuery} from \"@apollo/client\";\n\nconst useClassrooms = (): [Array<ClassroomType>, any] => {\n  const [classrooms, setClassrooms] = useState<ClassroomType[]>([]);\n  const {data, loading, error, subscribeToMore} = useQuery(GET_CLASSROOMS);\n\n  useEffect(() => {\n    // if(error && JSON.stringify(error).includes('BAD_TOKEN')) handleLogout();\n    !loading && !error && setClassrooms(\n      data.classrooms\n        .slice()\n        .sort(\n          (a: ClassroomType, b: ClassroomType) =>\n            a.name.localeCompare(b.name, undefined, {numeric: true, sensitivity: 'base'})\n        )\n    );\n}, [data, loading, error]);\n\n  return [classrooms, subscribeToMore];\n};\n\nexport default useClassrooms;","import {ClassroomsFilterTypes, ClassroomType, DisabledState, OccupiedState, QueuePolicyTypes} from \"../models/models\";\n\nexport const filterClassrooms = (\n  classrooms: Array<ClassroomType>,\n  type: ClassroomsFilterTypes = ClassroomsFilterTypes.ALL,\n  isOperaStudioOnly: boolean = false,\n  noWing: boolean = false,\n  isAvailableForStudentOnly: boolean = false\n): Array<ClassroomType> => {\n\n  const filterTypeOnly = (classroom: ClassroomType) => {\n    switch (type) {\n      case ClassroomsFilterTypes.ALL:\n        return true;\n      case ClassroomsFilterTypes.FREE:\n        return classroom.occupied.state === OccupiedState.FREE;\n      case ClassroomsFilterTypes.SPECIAL:\n        return !!classroom.special;\n    }\n  };\n\n  const wingOnlyFilter = (classroom: ClassroomType) => {\n    if (noWing) return !classroom.isWing;\n    return true;\n  };\n\n  const studioOnlyFilter = (classroom: ClassroomType) => {\n    if (isOperaStudioOnly) return classroom.isOperaStudio;\n    return true;\n  };\n  const availableForStudentFilter = (classroom: ClassroomType) => {\n    if (isAvailableForStudentOnly) return classroom.occupied.state === OccupiedState.FREE\n      && classroom.disabled.state === DisabledState.NOT_DISABLED\n      && !classroom.isHidden\n      && (classroom.queueInfo.queuePolicy.policy === QueuePolicyTypes.ALL_DEPARTMENTS\n        || (classroom.queueInfo.queuePolicy.policy === QueuePolicyTypes.SELECTED_DEPARTMENTS\n          && classroom.queueInfo.queuePolicy.queueAllowedDepartments.length > 0));\n    return true;\n  };\n\n  return classrooms?.filter(classroom => filterTypeOnly(classroom))\n    .filter(classroom => wingOnlyFilter(classroom))\n    .filter(classroom => studioOnlyFilter(classroom))\n    .filter(classroom => availableForStudentFilter(classroom));\n};","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_CLASSROOMS = gql`\n  subscription {\n  classroomUpdate {\n  classroom {\n        id\n        occupied {\n          user {\n            id\n            firstName\n            lastName\n            patronymic\n            type\n          }\n          until\n          state\n        }\n        disabled {\n        comment\n        state\n        until\n      }\n      }\n    }\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_USERS = gql`\n subscription allUsersUpdate {\n    allUsersUpdate {\n    user {\n      id\n      occupiedClassrooms {\n        id\n        state\n        classroom {\n          id\n          name\n        }\n      }\n      queue {\n        id\n        state\n        classroom {\n          id\n        }\n      }\n      queueInfo {\n        id\n        sanctionedUntil\n        currentSession {\n          id\n          state\n          skips\n        }\n      }\n    }\n  }\n}\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_DISPATCHER_STATUS = gql`\n subscription dispatcherActiveUpdate {\n    dispatcherActiveUpdate\n}\n`;","import {gql} from \"@apollo/client\";\n\nexport const CRASH_MODE = gql`\n  query crashMode {\n    crashMode {\n      isActive\n      until\n      comment\n    }\n  }`;","import React from 'react';\nimport styles from \"./classrooms.module.css\";\nimport Button from \"../../components/button/Button\";\nimport {useHistory} from \"react-router-dom\";\n\ntype PropTypes = {\n  comment: string;\n  until: string\n}\n\nconst CrashModeAlert: React.FC<PropTypes> = ({comment, until}) =>  {\n  const history = useHistory();\n  const handleClick = () => {\n    history.push('/dispatcherSettings');\n  };\n\n  return (\n    <div className={styles.crashModeWrapper}>\n      <h1>Увага! Працює режим невідповідності даних!</h1>\n      <p>До: {until || 'не визначено'}</p>\n      <p>Причина: {comment || 'не визначено'}</p>\n      <p>\n        Внесіть зміни в сітку аудиторій до повної відповідності з реальною ситуацією з аудиторіями в навчальному закладі та вимкніть режим невідповідності в налаштуваннях.\n      </p>\n      <Button onClick={handleClick}>\n        Перейти в налаштування\n      </Button>\n    </div>\n  );\n}\n\nexport default CrashModeAlert;","import React, {useEffect, useRef, useState} from \"react\";\nimport Header from \"../../components/header/Header\";\nimport {ACCESS_RIGHTS, ClassroomsFilterTypes, ClassroomType} from \"../../models/models\";\nimport Classroom from \"../../components/classroom/Classroom\";\nimport styles from \"./classrooms.module.css\";\nimport Caviar from \"../../components/caviar/Caviar\";\nimport {useNotification} from \"../../components/notification/NotificationProvider\";\nimport Edit from \"../../components/icons/edit/Edit\";\nimport useClassrooms from \"../../hooks/useClassrooms\";\nimport {filterClassrooms} from \"../../helpers/filterClassrooms\";\nimport HeaderCheckbox from \"../../components/headerCheckBox/HeaderCheckbox\";\nimport Loader from \"../../components/loader/Loader\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {FOLLOW_CLASSROOMS} from \"../../api/operations/subscriptions/classrooms\";\nimport {MINUTE} from \"../../helpers/constants\";\nimport {client} from \"../../api/client\";\nimport {GET_CLASSROOMS} from \"../../api/operations/queries/classrooms\";\nimport {GET_USERS} from \"../../api/operations/queries/users\";\nimport Button from \"../../components/button/Button\";\nimport {DISPATCHER_STATUS} from \"../../api/operations/queries/dispatcherActive\";\nimport {FOLLOW_USERS} from \"../../api/operations/subscriptions/users\";\nimport {FOLLOW_DISPATCHER_STATUS} from \"../../api/operations/subscriptions/dispatcherStatus\";\nimport {useQuery} from \"@apollo/client\";\nimport {CRASH_MODE} from \"../../api/operations/queries/crashMode\";\nimport CrashModeAlert from \"./CrashModeAlert\";\n\nconst filters = [\n  {value: ClassroomsFilterTypes.ALL, label: 'Всі'},\n  {value: ClassroomsFilterTypes.FREE, label: 'Вільні'},\n  {value: ClassroomsFilterTypes.SPECIAL, label: 'Спеціалізовані'},\n];\n\nconst Classrooms = () => {\n  const [classrooms, subscribeToMore]: [ClassroomType[], any] = useClassrooms();\n  const {data: dataCrashMode} = useQuery(CRASH_MODE);\n  const [filter, setFilter] = useState(filters[0].value);\n  const [isNoWing, setIsNoWing] = useState(false);\n  const [isOperaStudioOnly, setIsOperaStudioOnly] = useState(false);\n  const [isAvailableForStudentOnly, setIsAvailableForStudentOnly] = useState(false);\n  const dispatchNotification = useNotification();\n  const {data: {accessRights}} = useLocal('accessRights');\n  let timer = useRef(null);\n  const [showResumePopup, setShowResumePopup] = useState(false);\n  const getData = async () => {\n    try {\n      await client.query({\n        query: GET_CLASSROOMS,\n        fetchPolicy: 'network-only'\n      });\n      await client.query({\n        query: GET_USERS,\n        fetchPolicy: 'network-only'\n      });\n      await client.query({\n        query: DISPATCHER_STATUS,\n        fetchPolicy: 'network-only'\n      })\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleResume = async () => {\n    await getData();\n    setShowResumePopup(false);\n  };\n\n  useEffect(() => {\n    const unsubscribeClassrooms = subscribeToMore({\n      document: FOLLOW_CLASSROOMS,\n    });\n    const unsubscribeUsers = subscribeToMore({\n      document: FOLLOW_USERS,\n    });\n    const unsubscribeDispatcherStatus = subscribeToMore({\n      document: FOLLOW_DISPATCHER_STATUS,\n    });\n\n    const interval = setInterval(() => {\n      client.query({\n        query: GET_CLASSROOMS\n      })\n    }, 40000);\n\n    window.addEventListener('click', handleGlobalClick);\n    window.addEventListener('focus', handleWindowFocusEvent);\n    window.addEventListener('freeze', handleFreezeEvent);\n    window.addEventListener('resume', handleResumeEvent);\n    window.addEventListener('keydown', handleKeyDownEvent);\n\n    return () => {\n      unsubscribeClassrooms();\n      unsubscribeUsers();\n      unsubscribeDispatcherStatus();\n\n      clearInterval(interval);\n\n      window.removeEventListener('click', handleGlobalClick);\n      window.removeEventListener('focus', handleWindowFocusEvent);\n      window.removeEventListener('resume', handleResumeEvent);\n      window.removeEventListener('freeze', handleFreezeEvent);\n      window.removeEventListener('freeze', handleKeyDownEvent);\n    }\n  }, []);\n\n  const handleGlobalClick = () => {\n    clearTimeout(timer.current);\n    timer.current = setTimeout(() => {\n      setShowResumePopup(true);\n    }, MINUTE * 15);\n  };\n\n  const handleWindowFocusEvent = () => {\n    getData();\n  };\n\n  const handleResumeEvent = () => {\n    getData();\n  };\n\n  const handleFreezeEvent = () => {\n\n  };\n\n  const handleKeyDownEvent = (e: any) => {\n    // if (e.key?.length === 1) {\n    //   const value = classnameKeys.current + e.key.toLowerCase();\n    //   classnameKeys.current = value;\n    // }\n    // if (e.key === 'Enter') {\n    //   classnameKeys.current = '';\n    // }\n  };\n\n  const handleFilterChange = (event: any) => {\n    setFilter(event.value);\n  };\n\n  const handleToggleWing = () => {\n    setIsNoWing(prevState => !prevState);\n  };\n\n  const handleToggleOperaStudio = () => {\n    setIsOperaStudioOnly(prevState => !prevState);\n  };\n\n  const handleToggleAvailableForStudent = () => {\n    setIsAvailableForStudentOnly(prevState => !prevState);\n  };\n\n  return (\n    <div className={styles.classroomsPage}>\n      {showResumePopup && <div className={styles.updateDataModal}>\n          <div className={styles.popup}>\n              <Button onClick={handleResume}>Продовжити роботу</Button>\n          </div>\n      </div>}\n      <Header>\n        <h1>Аудиторії</h1>\n        {/*<HeaderSelect options={filters} onChange={handleFilterChange}/>*/}\n        <HeaderCheckbox label='Без флігеля' checked={isNoWing} setChecked={handleToggleWing}/>\n        <HeaderCheckbox label='Тільки оперна студія' checked={isOperaStudioOnly}\n                        setChecked={handleToggleOperaStudio}\n        />\n        <HeaderCheckbox label='Доступні для видачі студенту' checked={isOperaStudioOnly}\n                        setChecked={handleToggleAvailableForStudent}\n        />\n        {accessRights === ACCESS_RIGHTS.ADMIN && <Edit path='/adminClassrooms'/>}\n      </Header>\n      {!classrooms.length ? <Loader/> : (\n        <>\n          <Caviar dispatchNotification={dispatchNotification}\n                  classrooms={filterClassrooms(classrooms, filter, isOperaStudioOnly, isNoWing,\n                    isAvailableForStudentOnly)}\n          />\n          {dataCrashMode?.crashMode.isActive && (\n            <CrashModeAlert\n              comment={dataCrashMode.crashMode.comment}\n              until={dataCrashMode.crashMode.until}\n             />\n          )}\n          <ul className={styles.classroomsList}>\n            {filterClassrooms(classrooms, filter, isOperaStudioOnly, isNoWing,\n              isAvailableForStudentOnly)\n              .map((classroom: ClassroomType, index) => (\n                <Classroom\n                  dispatchNotification={dispatchNotification}\n                  key={classroom.id}\n                  classroom={classroom}\n                  index={index}\n                />\n              ))}\n          </ul>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Classrooms;","import {gql} from \"@apollo/client\";\n\nexport const CREATE_INSTRUMENT = gql`\n    mutation createOneInstrument($data: InstrumentCreateInput!) {\n        createOneInstrument(data: $data) {\n            id\n            name\n            rate\n            type\n            persNumber\n            classroom {\n              name\n            }\n        }\n    }\n`;","import {gql} from \"@apollo/client\";\n\nexport const UPDATE_INSTRUMENT = gql`\n    mutation updateOneInstrument($data: InstrumentUpdateInput!, $where: InstrumentWhereUniqueInput!) {\n        updateOneInstrument(data: $data, where: $where) {\n            id\n            name\n            rate\n            type\n            persNumber\n            classroom {\n              name\n            }\n        }\n    }\n`;","import React, {useEffect, useState} from 'react';\nimport {useMutation} from \"@apollo/client\";\nimport {CREATE_INSTRUMENT} from \"../../../../api/operations/mutations/createInstrument\";\nimport {UPDATE_INSTRUMENT} from \"../../../../api/operations/mutations/updateInstrument\";\nimport {useForm} from \"react-hook-form\";\nimport styles from './createInstrumentPopupBody.module.css';\nimport mainStyles from '../../../../styles/main.module.css';\nimport useClassrooms from \"../../../../hooks/useClassrooms\";\nimport {FormData} from '../models';\nimport {SelectData} from '../models';\nimport Select from \"react-select\";\nimport {selectLightStyles} from \"../../../../styles/selectStyles\";\nimport {ClassroomType, InstrumentType} from \"../../../../models/models\";\n\nconst instrumentTypes = [\n  {value: 'UpRightPiano', label: 'Фортепіано'},\n  {value: 'GrandPiano', label: 'Рояль'}\n];\n\ninterface PropTypes {\n  dispatchNotification: (value: any) => void;\n  dispatch?: (value: any) => void;\n  handleErrorDetails?: (error: any) => void;\n  addInstrument: (item: InstrumentType) => void;\n  instrument: InstrumentType | null;\n  isEditMode: boolean;\n}\n\nconst CreateInstrumentPopupBody: React.FC<PropTypes> = ({\n                                                          dispatchNotification, isEditMode,\n                                                          dispatch,\n                                                          addInstrument, instrument,\n                                                          handleErrorDetails\n                                                        }) => {\n  const {register, handleSubmit, watch, formState: {errors}} = useForm<FormData>();\n  const [classrooms, subscribeToMore]: [ClassroomType[], any] = useClassrooms();\n  const [classroomsData, setClassroomsData] = useState<SelectData[]>([{\n    value: instrument?.classroom ? String(instrument?.classroom?.id) : '',\n    label: instrument?.classroom ? String(instrument?.classroom?.name) : ''\n  }]);\n  const [createInstrument] = useMutation(CREATE_INSTRUMENT);\n  const [updateInstrument] = useMutation(UPDATE_INSTRUMENT);\n  const [classroomValue, setClassroomValue] = useState(classroomsData[0]);\n  const [selectedInstrumentType, setSelectedInstrumentType] = useState(instrumentTypes[0]);\n\n  useEffect(() => {\n    const data = classrooms.map(item => ({value: item.id, label: item.name}));\n    const emptyItem = ({value: '', label: 'Немає'});\n    setClassroomsData([emptyItem, ...data as unknown as SelectData[]]);\n  }, [classrooms]);\n\n  useEffect(() => {\n    if (isEditMode) {\n      const item = classroomsData.find(item => Number(item.value) === instrument?.classroom?.id);\n      if (item) setClassroomValue(item as SelectData);\n    } else {\n      setClassroomValue(classroomsData[0]);\n    }\n  }, [classroomsData, instrument]);\n\n  const handleSelect = (e: any) => {\n    setClassroomValue(e);\n  };\n\n  const onSubmit = async (data: FormData) => {\n    const {name, type, persNumber, rate} = data;\n    const classroomId = classroomValue?.value;\n    const classroomName = classroomValue ? classroomValue.label : instrument?.classroom.name;\n\n    try {\n      if (isEditMode) {\n        await updateInstrument({\n          variables: {\n            data: {\n              name: {set: name},\n              type: {set: selectedInstrumentType.value},\n              persNumber: {set: persNumber},\n              rate: {set: Number(rate)},\n              classroom: classroomId ? {connect: {id: classroomId}} : undefined\n            },\n            where: {\n              id: Number(instrument?.id)\n            }\n          }\n        });\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Дані змінені.`,\n          type: \"ok\",\n        });\n      } else {\n        const result = await createInstrument({\n          variables: {\n            data: {\n              name, type: selectedInstrumentType.value, persNumber, rate: Number(rate),\n              classroom: classroomId ? {connect: {id: classroomId}} : undefined\n            }\n          }\n        });\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Інструмент ${name}  створений.`,\n          type: \"ok\",\n        });\n        addInstrument({\n          ...result.data.createOneInstrument,\n          classroom: {name: classroomId ? classroomName : ''}\n        });\n      }\n\n      dispatch && dispatch({\n        type: \"POP_POPUP_WINDOW\",\n      });\n    } catch (e) {\n      console.log(e)\n      dispatchNotification({\n        header: \"Помилка!\",\n        message: <><span>Щось пішло не так.</span><br/>\n          <span style={{color: '#2b5dff', cursor: 'pointer', textDecoration: 'underline'}}\n                onClick={() => handleErrorDetails && handleErrorDetails(e)}>Деталі</span></>,\n        type: \"alert\",\n      });\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit(onSubmit)} className={styles.container} id='createInstrument'>\n        {errors.name && <span className={mainStyles.required}>Обов'язкове поле</span>}\n        <label>\n          Назва\n          <input className={mainStyles.input} type='text' placeholder='Наприклад: \"Україна\"'\n                 defaultValue={isEditMode ? instrument?.name : undefined}\n                 {...register(\"name\", {required: true})}/>\n        </label>\n        {errors.type && <span className={mainStyles.required}>Обов'язкове поле</span>}\n        <label>Тип\n          <Select\n            value={selectedInstrumentType}\n            onChange={(e) => setSelectedInstrumentType(e)}\n            options={instrumentTypes}\n            //@ts-ignore\n            styles={selectLightStyles}\n            menuPortalTarget={document.body}\n            placeholder='Виберіть тип інструменту'\n          />\n        </label>\n        {errors.persNumber && <span className={mainStyles.required}>Обов'язкове поле</span>}\n        <label>\n          Інв. номер\n          <input className={mainStyles.input}\n                 type='text' placeholder='Наприклад: \"3242234\"'\n                 defaultValue={isEditMode ? instrument?.persNumber : undefined}\n                 {...register(\"persNumber\", {required: true})}/>\n        </label>\n        <label>\n          Рейтинг\n          <input className={mainStyles.input}\n                 defaultValue={isEditMode && instrument ? instrument.rate : 1} step='.1'\n                 type='number' min='1' max='10' placeholder='Рейтинг' {...register(\"rate\")}/>\n        </label>\n        <label>\n          Аудиторія\n          <Select options={classroomsData} styles={selectLightStyles} menuPortalTarget={document.body}\n                  placeholder='Аудиторія' value={classroomValue} onChange={handleSelect}/>\n        </label>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateInstrumentPopupBody;\n","import {gql} from \"@apollo/client\";\n\nexport const DELETE_INSTRUMENT = gql`\n    mutation deleteOneInstrument($where: InstrumentWhereUniqueInput!) {\n        deleteOneInstrument(where: $where) {\n            id\n            name\n        }\n    }\n`;","import React from 'react';\nimport styles from './browseInstrumentPopupBody.module.css';\nimport {InstrumentType} from \"../../../../models/models\";\n\ninterface PropTypes {\n  instrument: InstrumentType;\n}\n\nconst BrowseInstrumentPopupBody: React.FC<PropTypes> = ({instrument}) => {\n  const {id, name, persNumber, type, rate,} = instrument;\n\n  return (\n    <div className={styles.list}>\n      <div><span>ID: </span><span>{id}</span></div>\n      <div><span>Назва: </span><span>{name}</span></div>\n      <div><span>Інв. номер: </span><span>{persNumber}</span></div>\n      <div><span>Тип: </span><span>{type}</span></div>\n      <div><span>Рейтинг: </span><span>{rate}</span></div>\n      {instrument.classroom?.name && (\n        <div>\n          <span>Аудиторія: </span>\n          <span>{instrument?.classroom.name}</span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default BrowseInstrumentPopupBody;","import React, {useEffect, useState} from 'react';\nimport useInstruments from \"../../../hooks/useInstruments\";\nimport Header from \"../../../components/header/Header\";\nimport DataList from \"../../../components/dataList/DataList\";\nimport styles from './adminInstruments.module.css';\nimport Edit from \"../../../components/icons/edit/Edit\";\nimport Delete from \"../../../components/icons/delete/Delete\";\nimport Add from \"../../../components/icons/add/Add\";\nimport {usePopupWindow} from \"../../../components/popupWindow/PopupWindowProvider\";\nimport {useNotification} from \"../../../components/notification/NotificationProvider\";\nimport CreateInstrumentPopupBody from \"./createInstrumentPopupBody/CreateInstrumentPopupBody\";\nimport Button from \"../../../components/button/Button\";\nimport {useMutation} from \"@apollo/client\";\nimport {DELETE_INSTRUMENT} from \"../../../api/operations/mutations/deleteInstrument\";\nimport {InstrumentType, InstrumentTypesE, InstrumentTypesEUa} from \"../../../models/models\";\nimport BrowseInstrumentPopupBody from \"./browseInstrumentPopupBody/BrowseInstrumentPopupBody\";\nimport Back from \"../../../components/icons/back/Back\";\n\nconst dataHeader = ['ID', 'Назва', 'Тип', 'Рейтинг', 'Ауд.', 'Інв. номер'];\n\nconst AdminInstruments = () => {\n  const instruments = useInstruments();\n  const [listData, setListData] = useState<Array<any>>([]);\n  const dispatchPopupWindow = usePopupWindow();\n  const dispatchNotification = useNotification();\n  const [deleteInstrument] = useMutation(DELETE_INSTRUMENT);\n  const instrument = (item: InstrumentType) => <>\n    <span className={styles.alignText}>{item.id}</span>\n    <span>{item.name}</span>\n    <span  className={styles.alignText}>{InstrumentTypesEUa[item.type as InstrumentTypesE]}</span>\n    <span className={styles.alignText}>{item.rate.toFixed(1)}</span>\n    <span className={styles.alignText}>{item.classroom?.name}</span>\n    <span className={styles.alignText}>{item.persNumber}</span>\n    <Edit dark onClick={() => handleAdd(item, true)}/>\n    <Delete onClick={() => handleDelete(item.id)}/>\n  </>;\n\n  useEffect(() => {\n    setListData(instruments?.map((item) => instrument(item)));\n  }, [instruments]);\n\n  const handleErrorDetails = (e: any) => {\n    dispatchPopupWindow({\n      header: <h1>{e.name}</h1>,\n      body: <>\n        <p>{e.message}</p>\n      </>,\n      footer: ''\n    })\n  };\n\n  const handleDelete = async (id: number) => {\n    const confirm = window.confirm('Ви дійсно бажаєте видалити інструмент?');\n\n    if (confirm) {\n      try {\n        await deleteInstrument({variables: {where: {id}}});\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Інструмент видалено.`,\n          type: \"ok\",\n        });\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message: `Щось пішло не так.`,\n          type: \"alert\",\n        });\n      }\n    }\n  };\n\n  const handleAdd = (item: InstrumentType | null = null, isEditMode = false) => {\n    dispatchPopupWindow({\n      header: <h1>{isEditMode ? 'Редагувати інструмент' : 'Створити інструмент'}</h1>,\n      body: <CreateInstrumentPopupBody dispatchNotification={dispatchNotification}\n          addInstrument={addInstrument} instrument={item} isEditMode={isEditMode}\n          handleErrorDetails={handleErrorDetails}\n      />,\n      footer: <Button type='submit' form='createInstrument'>\n        {isEditMode ? 'Зберегти зміни' : 'Створити'}\n      </Button>,\n    });\n  };\n\n  const handleItemClick = (id: number) => {\n    const instrument = instruments?.find(item => item.id === id);\n    dispatchPopupWindow({\n      header: <h1>{instrument?.name}</h1>,\n      body: <BrowseInstrumentPopupBody instrument={instrument as InstrumentType}/>,\n      footer: ''\n    });\n  };\n\n  const addInstrument = (item: InstrumentType) => {\n    setListData(prevState => [...prevState, instrument(item)]);\n  };\n\n  return (\n    <div>\n      <Header>\n        <Back/>\n        <h1>Управління інструментами</h1>\n        <Add onClick={handleAdd}/>\n      </Header>\n      <DataList header={dataHeader} data={listData}\n                gridTemplateColumns={'40px 250px 100px 100px 100px 1fr 30px 30px'}\n                handleItemClick={handleItemClick}\n      />\n    </div>\n  );\n}\n\nexport default AdminInstruments;\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_FACULTIES = gql`\r\n    query getFaculties($where: FacultyWhereInput!) {\r\n        faculties(where: $where) {\r\n            id\r\n            name\r\n        }\r\n    }\r\n`;","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {Faculty} from \"../models/models\";\nimport {GET_FACULTIES} from \"../api/operations/queries/faculties\";\n\nconst useFaculties = (updateList: boolean = false): Array<Faculty> => {\n  const [faculties, setFaculties] = useState<Faculty[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_FACULTIES, variables: {\n      where: {\n      }\n      },\n      fetchPolicy: 'network-only'\n    }).then((data) => {\n      setFaculties(data.data.faculties\n          .slice().sort((a: Faculty, b: Faculty) => a.id - b.id));\n      });\n  }, [updateList]);\n\n  return faculties;\n};\n\nexport default useFaculties;","import {gql} from \"@apollo/client\";\n\nexport const CREATE_DEPARTMENT = gql`\n    mutation createOneDepartment($data: DepartmentCreateInput!) {\n        createOneDepartment(data: $data) {\n            id\n            name\n        }\n    }\n`;","import {gql} from \"@apollo/client\";\n\nexport const UPDATE_DEPARTMENT = gql`\n    mutation updateOneDepartment($data: DepartmentUpdateInput!, $where: DepartmentWhereUniqueInput!) {\n        updateOneDepartment(data: $data, where: $where) {\n            id\n            name\n        }\n    }\n`;","import React, {useEffect, useState} from 'react';\nimport Select from \"react-select\";\nimport useFaculties from \"../../../../hooks/useFaculties\";\nimport {selectLightStyles} from \"../../../../styles/selectStyles\";\nimport mainStyles from '../../../../styles/main.module.css';\nimport {useMutation} from \"@apollo/client\";\nimport {CREATE_DEPARTMENT} from \"../../../../api/operations/mutations/createDepartment\";\nimport {useForm} from \"react-hook-form\";\nimport {FormData} from \"../../instruments/models\";\nimport {UPDATE_DEPARTMENT} from \"../../../../api/operations/mutations/updateDepartment\";\nimport {Department, Faculty} from \"../../../../models/models\";\n\ninterface PropTypes {\n  dispatchNotification: (value: any) => void;\n  dispatch?: (value: any) => void;\n  item: Department | null\n}\n\nconst CreateDepartmentPopupBody: React.FC<PropTypes> = ({dispatchNotification, dispatch,\n        item}) => {\n  const faculties = useFaculties();\n  const [createDepartment] = useMutation(CREATE_DEPARTMENT);\n  const [updateDepartment] = useMutation(UPDATE_DEPARTMENT);\n  const [selectValue, setSelectValue] = useState({value: -1, label: ''});\n  const [options, setOptions] = useState<any>(selectValue);\n  const {register, handleSubmit, watch, formState: {errors}} = useForm<FormData>();\n\n  useEffect(() => {\n    const data = faculties.map(item => ({value: item.id, label: item.name}));\n    if (item) {\n      const faculty: Faculty | undefined = faculties.find(f => f.id === item?.faculty.id);\n\n      setSelectValue({value: faculty?.id as number, label: faculty?.name as string});\n    } else {\n      setSelectValue(data[0]);\n    }\n    setOptions(data);\n  }, [faculties]);\n\n  const onSubmit = async (e: any) => {\n    if (item) {\n      try {\n        await updateDepartment({\n          variables: {\n            data: {\n              name: {set: e.name},\n              faculty: item ? {connect: {id: selectValue.value}} : undefined\n            },\n            where: {\n              id: Number(item?.id)\n            }\n          }\n        });\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Дані збережено.`,\n          type: \"ok\",\n        });\n        dispatch && dispatch({\n          type: \"POP_POPUP_WINDOW\",\n        });\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message: `Щось пішло не так.`,\n          type: \"alert\",\n        });\n      }\n    } else {\n      try {\n        await createDepartment({\n          variables: {\n            data: {\n              name: e.name,\n              faculty: {\n                connect: {id: selectValue.value}\n              }\n            }\n          }\n        });\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Кафедру створено.`,\n          type: \"ok\",\n        });\n        dispatch && dispatch({\n          type: \"POP_POPUP_WINDOW\",\n        });\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message: `Щось пішло не так.`,\n          type: \"alert\",\n        });\n      }\n    }\n  };\n\n  const handleSelect = (e: any) => {\n    setSelectValue(e);\n  };\n\n  return (\n    <form id='createDepartment' onSubmit={handleSubmit(onSubmit)}>\n      {errors.name && <span className={mainStyles.required}>Обов'язкове поле</span>}\n      <label>\n        Назва\n        <input className={mainStyles.input} type=\"text\"\n               defaultValue={item ? item?.name : undefined}\n               {...register(\"name\", {required: true})}/>\n      </label>\n      <label>\n        Факультет\n        {/*@ts-ignore*/}\n        <Select options={options} styles={selectLightStyles} menuPortalTarget={document.body}\n                placeholder='Виберіть факультет' defaultValue={selectValue} value={selectValue}\n                onChange={handleSelect}\n        />\n      </label>\n    </form>\n  );\n}\n\nexport default CreateDepartmentPopupBody;","import {gql} from \"@apollo/client\";\n\nexport const DELETE_DEPARTMENT = gql`\n    mutation deleteOneDepartment($where: DepartmentWhereUniqueInput!) {\n        deleteOneDepartment(where: $where) {\n            id\n            name\n        }\n    }\n`;","import React, {useEffect, useState} from 'react';\nimport Header from \"../../../components/header/Header\";\nimport Add from \"../../../components/icons/add/Add\";\nimport {usePopupWindow} from \"../../../components/popupWindow/PopupWindowProvider\";\nimport CreateDepartmentPopupBody from \"./createDepartmentPopupBody/CreateDepartmentPopupBody\";\nimport Button from \"../../../components/button/Button\";\nimport DataList from \"../../../components/dataList/DataList\";\nimport useDepartments from \"../../../hooks/useDepartments\";\nimport {Department} from \"../../../models/models\";\nimport Edit from \"../../../components/icons/edit/Edit\";\nimport Delete from \"../../../components/icons/delete/Delete\";\nimport styles from './adminDepartments.module.css';\nimport {useMutation} from \"@apollo/client\";\nimport {DELETE_DEPARTMENT} from \"../../../api/operations/mutations/deleteDepartment\";\nimport {useNotification} from \"../../../components/notification/NotificationProvider\";\nimport Back from \"../../../components/icons/back/Back\";\n\nconst listHeader = ['ID', 'Назва'];\n\nconst AdminDepartments = () => {\n  const dispatchPopupWindow = usePopupWindow();\n  const departments = useDepartments();\n  const [deleteDepartment] = useMutation(DELETE_DEPARTMENT);\n  const dispatchNotification = useNotification();\n  const [listData, setListData] = useState<any>([]);\n  const dataItem = (item: Department) => <>\n    <span className={styles.centerText}>{item.id}</span>\n    <span>{item.name}</span>\n    <Edit dark onClick={() => handleAdd(item)}/>\n    <Delete onClick={() => handleDelete(item.id)}/>\n  </>;\n\n  useEffect(() => {\n    const data = departments.map(item => dataItem(item));\n    setListData(data);\n  }, [departments]);\n\n  const handleAdd = (item: Department | null = null) => {\n    dispatchPopupWindow({\n      header: <h1>{item ? 'Редагування кафедри' : 'Створити кафедру'}</h1>,\n      body: <CreateDepartmentPopupBody\n              dispatchNotification={dispatchNotification} item={item}/>,\n      footer: <Button type='submit' form='createDepartment'>\n        {item ? 'Зберегти зміни' : 'Створити'}\n      </Button>\n    });\n  };\n\n  const handleDelete = async (id: number) => {\n    const confirm = window.confirm('Ви дійсно бажаєте видалити кафедру?');\n\n    if (confirm) {\n      try {\n        await deleteDepartment({variables: {where: {id}}});\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Кафедру видалено.`,\n          type: \"ok\",\n        });\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message: `Щось пішло не так.`,\n          type: \"alert\",\n        });\n      }\n    }\n  };\n\n  return (\n    <div>\n      <Header>\n        <Back/>\n        <h1>Управління кафедрами</h1>\n        <Add onClick={() => handleAdd()}/>\n      </Header>\n      <DataList header={listHeader} data={listData} gridTemplateColumns={'40px 1fr 40px 40px'}/>\n    </div>\n  );\n}\n\nexport default AdminDepartments;\n","import {gql} from \"@apollo/client\";\n\nexport const CREATE_FACULTY = gql`\n    mutation createOneFaculty($data: FacultyCreateInput!) {\n        createOneFaculty(data: $data) {\n            id\n            name\n        }\n    }\n`;","import {gql} from \"@apollo/client\";\n\nexport const UPDATE_FACULTY = gql`\n    mutation updateOneFaculty($data: FacultyUpdateInput!, $where: FacultyWhereUniqueInput!) {\n        updateOneFaculty(data: $data, where: $where) {\n            id\n            name\n        }\n    }\n`;","import React from 'react';\nimport mainStyles from '../../../../styles/main.module.css';\nimport {useMutation} from \"@apollo/client\";\nimport {useForm} from \"react-hook-form\";\nimport {FormData} from \"../../instruments/models\";\nimport {Faculty} from \"../../../../models/models\";\nimport {CREATE_FACULTY} from \"../../../../api/operations/mutations/createFaculty\";\nimport {UPDATE_FACULTY} from \"../../../../api/operations/mutations/updateFaculty\";\n\ninterface PropTypes {\n  setUpdateList: (value: any) => void;\n  dispatchNotification: (value: any) => void;\n  dispatch?: (value: any) => void;\n  item: Faculty | null\n}\n\nconst CreateFacultyPopupBody: React.FC<PropTypes> = ({setUpdateList, dispatchNotification, dispatch,\n                                                          item}) => {\n  const [createFaculty] = useMutation(CREATE_FACULTY);\n  const [updateFaculty] = useMutation(UPDATE_FACULTY);\n  const {register, handleSubmit, watch, formState: {errors}} = useForm<FormData>();\n\n  const onSubmit = async (e: any) => {\n    if (item) {\n      try {\n        await updateFaculty({\n          variables: {\n            data: {\n              name: {set: e.name},\n            },\n            where: {\n              id: Number(item?.id)\n            }\n          }\n        });\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Дані збережено.`,\n          type: \"ok\",\n        });\n        setUpdateList((prevState: any) => !prevState);\n        dispatch && dispatch({\n          type: \"POP_POPUP_WINDOW\",\n        });\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message: `Щось пішло не так.`,\n          type: \"alert\",\n        });\n      }\n    } else {\n      try {\n        await createFaculty({\n          variables: {\n            data: {\n              name: e.name,\n            }\n          }\n        });\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Факультет створено.`,\n          type: \"ok\",\n        });\n        setUpdateList((prevState: any) => !prevState);\n        dispatch && dispatch({\n          type: \"POP_POPUP_WINDOW\",\n        });\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message: `Щось пішло не так.`,\n          type: \"alert\",\n        });\n      }\n    }\n  };\n\n  return (\n    <form id='createFaculty' onSubmit={handleSubmit(onSubmit)}>\n      {errors.name && <span className={mainStyles.required}>Обов'язкове поле</span>}\n      <label>\n        Назва\n        <input className={mainStyles.input} type=\"text\"\n               defaultValue={item ? item?.name : undefined}\n               {...register(\"name\", {required: true})}/>\n      </label>\n    </form>\n  );\n}\n\nexport default CreateFacultyPopupBody;","import {gql} from \"@apollo/client\";\n\nexport const DELETE_FACULTY = gql`\n    mutation deleteOneFaculty($where: FacultyWhereUniqueInput!) {\n        deleteOneFaculty(where: $where) {\n            id\n            name\n        }\n    }\n`;","import React, {useEffect, useState} from 'react';\nimport Header from \"../../../components/header/Header\";\nimport Add from \"../../../components/icons/add/Add\";\nimport DataList from \"../../../components/dataList/DataList\";\nimport {usePopupWindow} from \"../../../components/popupWindow/PopupWindowProvider\";\nimport {useMutation} from \"@apollo/client\";\nimport {useNotification} from \"../../../components/notification/NotificationProvider\";\nimport {Faculty} from \"../../../models/models\";\nimport styles from \"../departments/adminDepartments.module.css\";\nimport Edit from \"../../../components/icons/edit/Edit\";\nimport Delete from \"../../../components/icons/delete/Delete\";\nimport useFaculties from \"../../../hooks/useFaculties\";\nimport Button from \"../../../components/button/Button\";\nimport CreateFacultyPopupBody from \"./createFacultyPopupBody/CreateFacultyPopupBody\";\nimport {DELETE_FACULTY} from \"../../../api/operations/mutations/deleteFaculty\";\nimport Back from \"../../../components/icons/back/Back\";\n\nconst listHeader = ['ID', 'Назва'];\n\nconst AdminFaculties = () => {\n  const dispatchPopupWindow = usePopupWindow();\n  const [updateList, setUpdateList] = useState(false);\n  const faculties = useFaculties(updateList);\n  const [deleteFaculty] = useMutation(DELETE_FACULTY);\n  const dispatchNotification = useNotification();\n  const [listData, setListData] = useState<any>([]);\n  const dataItem = (item: Faculty) => <>\n    <span className={styles.centerText}>{item.id}</span>\n    <span>{item.name}</span>\n    <Edit dark onClick={() => handleAdd(item)}/>\n    <Delete onClick={() => handleDelete(item.id)}/>\n  </>;\n\n  useEffect(() => {\n    const data = faculties.map(item => dataItem(item));\n\n    setListData(data);\n  }, [faculties]);\n\n  const handleAdd = (item: Faculty | null = null) => {\n    dispatchPopupWindow({\n      header: <h1>{item ? 'Редагування факультету' : 'Створити факультет'}</h1>,\n      body: <CreateFacultyPopupBody setUpdateList={setUpdateList}\n                                       dispatchNotification={dispatchNotification} item={item}/>,\n      footer: <Button type='submit' form='createFaculty'>\n        {item ? 'Зберегти зміни' : 'Створити'}\n      </Button>\n    });\n  };\n\n  const handleDelete = async (id: number) => {\n    const confirm = window.confirm('Ви дійсно бажаєте видалити факультет?');\n\n    if (confirm) {\n      try {\n        await deleteFaculty({variables: {where: {id}}});\n        setUpdateList(prevState => !prevState);\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Факультет видалено.`,\n          type: \"ok\",\n        });\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message: `Щось пішло не так.`,\n          type: \"alert\",\n        });\n      }\n    }\n  };\n\n  return (\n    <div>\n      <Header>\n        <Back/>\n        <h1>Управління факультетами</h1>\n        <Add onClick={() => handleAdd()}/>\n      </Header>\n      <DataList header={listHeader} data={listData} gridTemplateColumns={'40px 1fr 40px 40px'}/>\n    </div>\n  );\n};\n\nexport default AdminFaculties;\n","import {gql} from \"@apollo/client\";\n\nexport const CREATE_DEGREE = gql`\n    mutation createOneDegree($data: DegreeCreateInput!) {\n        createOneDegree(data: $data) {\n            id\n            name\n        }\n    }\n`;","import {gql} from \"@apollo/client\";\n\nexport const UPDATE_DEGREE = gql`\n    mutation updateOneDegree($data: DegreeUpdateInput!, $where: DegreeWhereUniqueInput!) {\n        updateOneDegree(data: $data, where: $where) {\n            id\n            name\n        }\n    }\n`;","import React from 'react';\nimport mainStyles from '../../../../styles/main.module.css';\nimport {useMutation} from \"@apollo/client\";\nimport {useForm} from \"react-hook-form\";\nimport {Degree} from \"../../../../models/models\";\nimport {CREATE_DEGREE} from \"../../../../api/operations/mutations/createDegree\";\nimport {UPDATE_DEGREE} from \"../../../../api/operations/mutations/updateDegree\";\n\ninterface PropTypes {\n  setUpdateList: (value: any) => void;\n  dispatchNotification: (value: any) => void;\n  dispatch?: (value: any) => void;\n  item: Degree | null;\n  handleErrorDetails?: (error: any) => void;\n}\n\nconst CreateDegreePopupBody: React.FC<PropTypes> = ({setUpdateList, dispatchNotification, dispatch,\n    handleErrorDetails, item}) => {\n  const [createDegree] = useMutation(CREATE_DEGREE);\n  const [updateDegree] = useMutation(UPDATE_DEGREE);\n  const {register, handleSubmit, watch, formState: {errors}} = useForm<any>();\n\n  const onSubmit = async (e: any) => {\n    if (item) {\n      try {\n        await updateDegree({\n          variables: {\n            data: {\n              name: {set: e.name},\n              startMonth: {set: Number(e.startMonth)},\n              startDay: {set: Number(e.startDay)},\n              durationMonths: {set: Number(e.durationMonths)},\n            },\n            where: {\n              id: Number(item?.id)\n            }\n          }\n        });\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Дані збережено.`,\n          type: \"ok\",\n        });\n        setUpdateList((prevState: any) => !prevState);\n        dispatch && dispatch({\n          type: \"POP_POPUP_WINDOW\",\n        });\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message:  <><span>Щось пішло не так.</span><br/>\n            <span style={{color: '#2b5dff', cursor: 'pointer', textDecoration: 'underline' }}\n                  onClick={() => handleErrorDetails && handleErrorDetails(e)}>Деталі</span></>,\n          type: \"alert\",\n        });\n      }\n    } else {\n      try {\n        await createDegree({\n          variables: {\n            data: {\n              name: e.name,\n              startMonth: Number(e.startMonth),\n              startDay: Number(e.startDay),\n              durationMonths: Number(e.durationMonths),\n            }\n          }\n        });\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Учбовий ступінь створено.`,\n          type: \"ok\",\n        });\n        setUpdateList((prevState: any) => !prevState);\n        dispatch && dispatch({\n          type: \"POP_POPUP_WINDOW\",\n        });\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message:  <><span>Щось пішло не так.</span><br/>\n            <span style={{color: '#2b5dff', cursor: 'pointer', textDecoration: 'underline' }}\n                  onClick={() => handleErrorDetails && handleErrorDetails(e)}>Деталі</span></>,\n          type: \"alert\",\n        });\n      }\n    }\n  };\n\n  return (\n    <form id='createDegree' onSubmit={handleSubmit(onSubmit)}>\n      {errors.name && <span className={mainStyles.required}>Обов'язкове поле</span>}\n      <label>\n        Назва\n        <input className={mainStyles.input} type=\"text\"\n               defaultValue={item ? item?.name : undefined}\n               {...register(\"name\", {required: true})}/>\n      </label>\n      {errors.name && <span className={mainStyles.required}>Обов'язкове поле</span>}\n      <label>\n        Місяць початку\n        <input className={mainStyles.input} type=\"number\" min={1} max={12}\n               defaultValue={item ? item?.startMonth : 9}\n               {...register(\"startMonth\", {required: true})}/>\n      </label>\n      {errors.name && <span className={mainStyles.required}>Обов'язкове поле</span>}\n      <label>\n        День початку\n        <input className={mainStyles.input} type=\"number\" min={1} max={31}\n               defaultValue={item ? item?.startDay : 1}\n               {...register(\"startDay\", {required: true})}/>\n      </label>\n      {errors.name && <span className={mainStyles.required}>Обов'язкове поле</span>}\n      <label>\n        Триваліть (міс.)\n        <input className={mainStyles.input} type=\"number\" min={1}\n               defaultValue={item ? item?.durationMonths : 12}\n               {...register(\"durationMonths\", {required: true})}/>\n      </label>\n    </form>\n  );\n}\n\nexport default CreateDegreePopupBody;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_DEGREES = gql`\r\n    query getDegrees {\r\n        degrees {\r\n            id\r\n            name\r\n            startMonth\r\n            startDay\r\n            durationMonths\r\n        }\r\n    }\r\n`;","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {Degree} from \"../models/models\";\nimport {GET_DEGREES} from \"../api/operations/queries/degrees\";\n\nconst useDegrees = (updateList: boolean = false): Array<Degree> => {\n  const [degrees, setDegrees] = useState<Degree[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_DEGREES, variables: {\n      where: {\n      }\n      },\n      fetchPolicy: 'network-only'\n    }).then((data) => {\n      setDegrees(data.data.degrees\n          .slice().sort((a: Degree, b: Degree) => a.id - b.id));\n      });\n  }, [updateList]);\n\n  return degrees;\n};\n\nexport default useDegrees;","import {gql} from \"@apollo/client\";\n\nexport const DELETE_DEGREE = gql`\n    mutation deleteOneDegree($where: DegreeWhereUniqueInput!) {\n        deleteOneDegree(where: $where) {\n            id\n            name\n        }\n    }\n`;","import React, {useEffect, useState} from 'react';\nimport Header from \"../../../components/header/Header\";\nimport Add from \"../../../components/icons/add/Add\";\nimport DataList from \"../../../components/dataList/DataList\";\nimport {usePopupWindow} from \"../../../components/popupWindow/PopupWindowProvider\";\nimport {useMutation} from \"@apollo/client\";\nimport {useNotification} from \"../../../components/notification/NotificationProvider\";\nimport {Degree} from \"../../../models/models\";\nimport styles from \"../departments/adminDepartments.module.css\";\nimport Edit from \"../../../components/icons/edit/Edit\";\nimport Delete from \"../../../components/icons/delete/Delete\";\nimport Button from \"../../../components/button/Button\";\nimport CreateDegreePopupBody from \"./createDegreePopupBody/CreateDegreePopupBody\";\nimport useDegrees from \"../../../hooks/useDegrees\";\nimport {DELETE_DEGREE} from \"../../../api/operations/mutations/deleteDegree\";\nimport Back from \"../../../components/icons/back/Back\";\n\nconst listHeader = ['ID', 'Назва'];\n\nconst AdminDegrees = () => {\n  const dispatchPopupWindow = usePopupWindow();\n  const [updateList, setUpdateList] = useState(false);\n  const degrees = useDegrees(updateList);\n  const [deleteFaculty] = useMutation(DELETE_DEGREE);\n  const dispatchNotification = useNotification();\n  const [listData, setListData] = useState<any>([]);\n  const dataItem = (item: Degree) => <>\n    <span className={styles.centerText}>{item.id}</span>\n    <span>{item.name}</span>\n    <Edit dark onClick={() => handleAdd(item)}/>\n    <Delete onClick={() => handleDelete(item.id)}/>\n  </>;\n\n  useEffect(() => {\n    const data = degrees.map(item => dataItem(item));\n\n    setListData(data);\n  }, [degrees]);\n\n  const handleErrorDetails = (e: any) => {\n    dispatchPopupWindow({\n      header: <h1>{e.name}</h1>,\n      body: <>\n        <p>{e.message}</p>\n        <p>{e.extraInfo}</p>\n        <pre>{e.stack}</pre>\n      </>,\n      footer: ''\n    });\n  };\n\n  const handleAdd = (item: Degree | null = null) => {\n    dispatchPopupWindow({\n      header: <h1>{item ? 'Редагування учбового ступеню' : 'Створити учбовий ступінь'}</h1>,\n      body: <CreateDegreePopupBody setUpdateList={setUpdateList} handleErrorDetails={handleErrorDetails}\n                                       dispatchNotification={dispatchNotification} item={item}/>,\n      footer: <Button type='submit' form='createDegree'>\n        {item ? 'Зберегти зміни' : 'Створити'}\n      </Button>\n    });\n  };\n\n  const handleDelete = async (id: number) => {\n    const confirm = window.confirm('Ви дійсно бажаєте видалити учбовий ступінь?');\n\n    if (confirm) {\n      try {\n        await deleteFaculty({variables: {where: {id}}});\n        setUpdateList(prevState => !prevState);\n        dispatchNotification({\n          header: \"Успішно!\",\n          message: `Учбовий ступінь видалено.`,\n          type: \"ok\",\n        });\n      } catch (e) {\n        console.log(e)\n        dispatchNotification({\n          header: \"Помилка!\",\n          message:  <><span>Щось пішло не так.</span><br/>\n            <span style={{color: '#2b5dff', cursor: 'pointer', textDecoration: 'underline' }}\n                  onClick={() => handleErrorDetails && handleErrorDetails(e)}>Деталі</span></>,\n          type: \"alert\",\n        });\n      }\n    }\n  };\n\n  return (\n    <div>\n      <Header>\n        <Back/>\n        <h1>Управління учбовими ступенями</h1>\n        <Add onClick={() => handleAdd()}/>\n      </Header>\n      <DataList header={listHeader} data={listData} gridTemplateColumns={'40px 1fr 40px 40px'}/>\n    </div>\n  );\n};\n\nexport default AdminDegrees;\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOGIN = gql`\r\n    mutation login($input: LoginInput!) {\r\n        login(input: $input) {\r\n            token\r\n            user {\r\n                id\r\n                firstName\r\n                patronymic\r\n                lastName\r\n                type\r\n                phoneNumber\r\n                extraPhoneNumbers\r\n                email\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import React, {useEffect, useState} from \"react\";\r\nimport styles from \"./login.module.css\";\r\nimport Logo from \"../../components/logo/Logo\";\r\nimport CustomInput from \"../../components/customInput/CustomInput\";\r\nimport Button from \"../../components/button/Button\";\r\nimport {useNotification} from \"../../components/notification/NotificationProvider\";\r\nimport {useMutation} from \"@apollo/client\";\r\nimport {LOGIN} from \"../../api/operations/mutations/login\";\r\nimport {ErrorCodes, ErrorCodesUa, UserTypes} from \"../../models/models\";\r\nimport {isLoggedVar} from \"../../api/client\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {setAccessRights} from \"../../helpers/helpers\";\r\n\r\nconst Login = () => {\r\n  const dispatchNotification = useNotification();\r\n  const [login] = useMutation(LOGIN);\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [loginValue, setLoginValue] = useState('');\r\n  const [passwordValue, setPasswordValue] = useState('');\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (loginValue.length && passwordValue.length) {\r\n      setDisabled(false);\r\n    } else {\r\n      setDisabled(true);\r\n    }\r\n  }, [loginValue, passwordValue]);\r\n\r\n  const handleSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    let result: any;\r\n\r\n    if (e.target.login.value && e.target.password.value) {\r\n      try {\r\n        result = await login({\r\n          variables: {\r\n            input: {\r\n              email: e.target.login.value,\r\n              password: e.target.password.value\r\n            }\r\n          }\r\n        });\r\n        if (result?.data.login.userErrors?.length) {\r\n          localStorage.removeItem('token')\r\n          dispatchNotification({\r\n            header: 'Помилка!',\r\n            message: ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes],\r\n            type: 'alert'\r\n          });\r\n        } else {\r\n          const user = result?.data.login.user;\r\n          const token = result?.data.login.token;\r\n\r\n          localStorage.setItem('user', JSON.stringify(user));\r\n          localStorage.setItem('token', token);\r\n          dispatchNotification({\r\n            header: 'Вітаємо!',\r\n            message: 'Авторизація успішна!',\r\n            type: 'ok'\r\n          });\r\n          isLoggedVar(true);\r\n          setAccessRights(user);\r\n          if (user.type === UserTypes.ADMIN || user.type === UserTypes.DISPATCHER) {\r\n            history.push('/classrooms');\r\n          }\r\n          else {\r\n            history.push('/dashboard')\r\n          }\r\n        }\r\n      } catch (e: any) {\r\n        dispatchNotification({\r\n          header: 'Помилка!',\r\n          message: e.message,\r\n          type: 'alert'\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.name === 'login') {\r\n      setLoginValue(e.target.value);\r\n    } else {\r\n      setPasswordValue(e.target.value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.loginContainer}>\r\n        <Logo\r\n          title=\"Auditorium\"\r\n          description=\"Система управління видачею аудиторій\"\r\n        />\r\n        <div>\r\n          <p className={styles.loginTip}>\r\n            Увійдіть в систему або зареєструйтесь\r\n          </p>\r\n          <form className={styles.loginForm} onSubmit={handleSubmit} id=\"loginForm\">\r\n            <CustomInput\r\n              label=\"Логін:\"\r\n              name=\"login\"\r\n              id=\"login\"\r\n              placeholder=\"Наприклад: aud1@knmau.ua\"\r\n              value={loginValue}\r\n              onChange={handleChange}\r\n            />\r\n            <CustomInput\r\n              label=\"Пароль:\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              withEyeSwitcher\r\n              value={passwordValue}\r\n              onChange={handleChange}\r\n            />\r\n            <Button type={\"submit\"} disabled={disabled} form='loginForm' color=\"blue\"\r\n                    style={{marginTop: 32, height: 42}}\r\n            >\r\n              Увійти\r\n            </Button>\r\n          </form>\r\n        </div>\r\n        <footer className={styles.loginFooter}>\r\n          <a href=\"#\">\r\n            Національна Музична Академія України ім. П. і. Чайковського\r\n          </a>\r\n          <p>\r\n            Auditorium &copy; 2021 | v 1.4.2 Ivan Piatovolenko & Vladislav\r\n            Nazarenko\r\n          </p>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import {gql} from \"@apollo/client\";\n\nexport const GET_GENERAL_QUEUE = gql`\n  query generalQueue {\n    generalQueue {\n        id\n        firstName\n        lastName\n        patronymic\n      }\n  }`;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_PENDING_CLASSROOMS = gql`\r\n  query getPendingClassrooms($where: ClassroomWhereInput) {\r\n    classrooms(where: $where) {\r\n      id\r\n      name\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          nameTemp\r\n        }\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;","const strings = {\n  ua: {\n    queueSize: 'Людей в черзі: ',\n    freeClassrooms: 'Вільні аудиторії: ',\n    vilnukhAud: 'Вільних аудиторій: ',\n    noFreeClassrooms: '',\n    generalQueue: 'Загальна черга',\n    pendingConfirmation: 'Очікують підтвердження',\n    noQueue: 'Черга відсутня'\n  },\n  en: {\n    queueSize: 'Queue size: ',\n    freeClassrooms: 'Free classrooms: ',\n    vilnukhAud: 'Free classrooms: ',\n    noFreeClassrooms: 'No free classrooms',\n    generalQueue: 'General Queue',\n    pendingConfirmation: 'Confirmation Pending',\n    noQueue: 'No queue'\n  }\n}\n\nexport default strings;\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_FREE_CLASSROOMS = gql`\r\n  query getFreeClassrooms($where: ClassroomWhereInput) {\r\n    classrooms(where: $where) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;","export default __webpack_public_path__ + \"static/media/au_logo.0250c21a.png\";","import React, {FC} from 'react';\nimport styles from './splash.module.css';\nimport logo from '../../assets/images/au_logo.png';\n\ntype PropTypes = {\n  show: boolean;\n  currentTime: string;\n};\n\nconst Splash: FC<PropTypes> = ({show, currentTime}) => {\n  return show && (\n    <div className={styles.wrapper}>\n      <img src={logo} alt=\"logo\" className={styles.logo}/>\n      <h2>{currentTime}</h2>\n    </div>\n  );\n};\n\nexport default Splash;\n","import React, {useEffect, useRef, useState} from 'react';\nimport styles from './dashboard.module.css';\nimport Header from \"../../components/header/Header\";\nimport moment from \"moment\";\nimport {ClassroomType, EnqueuedBy, OccupiedState, User} from \"../../models/models\";\nimport {fullName} from \"../../helpers/helpers\";\nimport {GET_GENERAL_QUEUE} from \"../../api/operations/queries/generalQueue\";\nimport {GET_PENDING_CLASSROOMS} from \"../../api/operations/queries/pendingClassrooms\";\nimport strings from '../../localize/localize';\nimport {client, isLoggedVar} from \"../../api/client\";\nimport {GET_FREE_CLASSROOMS} from \"../../api/operations/queries/freeClassrooms\";\nimport Button from \"../../components/button/Button\";\nimport Splash from \"../../components/splash/Splash\";\nimport {useHistory} from \"react-router-dom\";\n\nconst langs = {\n  EN: 'en',\n  UA: 'ua'\n};\n\nfunction Dashboard() {\n  const history = useHistory();\n  const [classrooms, setClassrooms] = useState<ClassroomType[]>([]);\n  const [currentTime, setCurrentTime] = useState('');\n  const [lang, setLang] = useState(langs.UA);\n  const [freeClassrooms, setFreeClassrooms] = useState<string[]>([]);\n  const [data, setData] = useState<any>(null);\n  const [showSplash, setShowSplash] = useState(false);\n  const timer = useRef<any>(null);\n  const timerLang = useRef<any>(null);\n  const timerQueue = useRef<any>(null);\n  const splashInterval = useRef(null);\n\n  useEffect(() => {\n    if (lang === langs.UA) {\n      clearInterval(timerLang.current);\n      timerLang.current = setInterval(() => {\n        setLang(langs.EN);\n      }, 15000)\n    } else {\n      clearInterval(timerLang.current);\n      timerLang.current = setInterval(() => {\n        setLang(langs.UA);\n      }, 5000)\n    }\n  }, [lang]);\n\n  useEffect(() => {\n    if (showSplash) {\n      clearInterval(splashInterval.current);\n      splashInterval.current = setInterval(() => {\n        setShowSplash(false);\n      }, 5000);\n    } else {\n      clearInterval(splashInterval.current);\n      splashInterval.current = setInterval(() => {\n        !classrooms.length && setShowSplash(true);\n      }, 10000);\n    }\n  }, [showSplash]);\n\n  useEffect(() => {\n    timer.current = setInterval(() => {\n      setCurrentTime(moment().format('HH:mm:ss'));\n    }, 1000);\n    timerQueue.current = setInterval(() => {\n      client.query({\n        query: GET_GENERAL_QUEUE,\n        fetchPolicy: 'network-only'\n      }).then(data => {\n        // @ts-ignore\n        if (data.data.generalQueue.length) {\n          setShowSplash(false);\n        }\n        setData(data.data);\n      });\n\n      client.query({\n        query: GET_PENDING_CLASSROOMS,\n        variables: {\n          where: {\n            OR: [\n              {\n                occupied: {\n                  state: {\n                    equals: OccupiedState.PENDING\n                  }\n                }\n              },\n              {\n                occupied: {\n                  state: {\n                    equals: OccupiedState.RESERVED\n                  },\n                  user: {\n                    queueInfo: {\n                      currentSession: {\n                        enqueuedBy: {\n                          equals: EnqueuedBy.DISPATCHER\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            ]\n\n          }\n        },\n        fetchPolicy: 'network-only'\n      }).then(data => {\n        setClassrooms(data.data.classrooms);\n      });\n\n      client.query({\n        query: GET_FREE_CLASSROOMS,\n        variables: {\n          where: {\n            occupied: {\n              state: {\n                equals: OccupiedState.FREE\n              }\n            }\n          }\n        },\n        fetchPolicy: 'network-only'\n      }).then(data => {\n        //@ts-ignore\n        if (data.data.classrooms.length) {\n          setShowSplash(false);\n        }\n        setFreeClassrooms(data.data.classrooms.map(({name}: ClassroomType) => name));\n      });\n    }, 5000);\n\n    return () => {\n      clearInterval(splashInterval.current);\n      clearInterval(timer.current);\n      clearInterval(timerLang.current);\n      clearInterval(timerQueue.current);\n    };\n  }, []);\n\n  const handleLogoutClick = () => {\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n    isLoggedVar(false);\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      <Splash show={showSplash} currentTime={currentTime}/>\n      <div className={styles.hiddenLogout}>\n        <Button onClick={handleLogoutClick} color='red'>Вийти з акаунту</Button>\n      </div>\n      <Header>\n        <div className={styles.header}>\n          {/*@ts-ignore*/}\n          <h1>{(strings[lang]).generalQueue}</h1>\n          {/*@ts-ignore*/}\n          <h1>{strings[lang].pendingConfirmation}</h1>\n          <h2>{currentTime}</h2>\n        </div>\n      </Header>\n      <div className={styles.container}>\n        <div>\n          {data && !data.generalQueue.length && (\n            <h1 className={styles.noQueue}>{\n              /*@ts-ignore*/\n              (strings[lang]).noQueue}\n            </h1>\n          )}\n          <ul className={styles.generalQueue}>\n            {data && data.generalQueue\n              .slice(0, 10)\n              .map((user: User, index: number) => (\n                <li key={user.id}>\n                  <span>{index + 1} </span>\n                  <span className={styles.fullName}>\n                  {user.nameTemp || fullName(user, true)}\n                </span>\n                </li>\n              ))}\n          </ul>\n        </div>\n        <div className={styles.rightPart}>\n          <ul className={styles.waitingApprove}>\n            {classrooms && classrooms\n              .map(({id, name, occupied}) => (\n                <li key={id}>\n                <span className={styles.classroomName}>\n                  Ауд. {name}\n                </span>\n                  <span>\n                  {occupied!.user.nameTemp || fullName(occupied!.user, true)}\n                </span>\n                </li>\n              ))\n            }\n          </ul>\n          <div className={styles.info}>\n            <p>\n              {/*@ts-ignore*/}\n              {strings[lang].queueSize}{data && data.generalQueue.length}\n            </p>\n            <p>\n              {\n                freeClassrooms ? freeClassrooms.length > 5\n                  /*@ts-ignore*/\n                  ? `${strings[lang].vilnukhAud}${freeClassrooms.length}`\n                  : (\n                    <>\n                      {/*@ts-ignore*/}\n                      {strings[lang].freeClassrooms}\n                      {freeClassrooms.map(name => <span>{name}</span>)}\n                    </>\n                  )\n                  /*@ts-ignore*/\n                  : strings[lang].noFreeClassrooms\n              }\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_USERS_FOR_QUEUE = gql`\r\n  query getUsersForQueue {\r\n    users {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      queue {\r\n        id\r\n      }\r\n      type\r\n      queueInfo {\r\n        sanctionedUntil\r\n      }\r\n      studentInfo {\r\n        accountStatus\r\n      }\r\n      occupiedClassrooms {\r\n        id\r\n          state\r\n          classroom {\r\n            id\r\n            name\r\n          }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import {gql} from \"@apollo/client\";\n\nexport const REMOVE_USER_FROM_QUEUE = gql`\n    mutation removeUserFromQueue($input: RemoveUserFromQueueInputType!) {\n        removeUserFromQueue(input: $input) {\n          user {\n            id\n          }\n        }\n    }\n`;","import {gql} from \"@apollo/client\";\n\nexport const ADD_USER_TO_QUEUE = gql`\n    mutation addUserToQueue($input: AddUserToQueueInputType!) {\n        addUserToQueue(input: $input) {\n          user {\n            id\n            firstName\n            lastName\n           \n          }\n          userErrors {\n              message\n              code\n            }\n        }\n    }\n`;","import React, {useEffect, useState} from \"react\";\r\nimport styles from \"./queue.module.css\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Select from \"react-select\";\r\nimport {\r\n  ClassroomType,\r\n  EnqueuedBy,\r\n  OccupiedState,\r\n  QueueType,\r\n  StudentAccountStatus,\r\n  User,\r\n  UserTypes\r\n} from \"../../models/models\";\r\nimport {fullName} from \"../../helpers/helpers\";\r\nimport Button from \"../../components/button/Button\";\r\nimport {client} from \"../../api/client\";\r\nimport {GET_USERS_FOR_QUEUE} from \"../../api/operations/queries/usersQueue\";\r\nimport {REMOVE_USER_FROM_QUEUE} from \"../../api/operations/mutations/removeUserFromQueue\";\r\nimport {useNotification} from \"../../components/notification/NotificationProvider\";\r\nimport useClassrooms from \"../../hooks/useClassrooms\";\r\nimport {ADD_USER_TO_QUEUE} from \"../../api/operations/mutations/addUserToQueue\";\r\nimport moment from \"moment\";\r\n\r\nconst Queue = () => {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [disabled, setDisabled] = useState(false);\r\n  const [classrooms, subscribeToMore]: [ClassroomType[], any] = useClassrooms();\r\n  const [withInstrument, setWithInstrument] = useState(false);\r\n  const [chosenUser, setChosenUser] = useState({label: '', value: -1, queueLength: -1});\r\n  const dispatchNotification = useNotification();\r\n\r\n  useEffect(() => {\r\n    client.query({\r\n      query: GET_USERS_FOR_QUEUE\r\n    }).then(data => {\r\n      setUsers(data.data.users);\r\n    });\r\n  }, []);\r\n\r\n  const handleChose = (e: any) => {\r\n    const chosenUser = (users as unknown as Array<User>)?.find(user => user.id === e.value);\r\n\r\n    setChosenUser({\r\n      label: chosenUser?.id as number + \": \" + fullName(chosenUser),\r\n      value: chosenUser?.id as number,\r\n      queueLength: chosenUser?.queue.length as number\r\n    });\r\n  };\r\n\r\n  const removeFromLine = async () => {\r\n    setDisabled(true);\r\n    try {\r\n      await client.mutate({\r\n        mutation: REMOVE_USER_FROM_QUEUE,\r\n        variables: {\r\n          input: {\r\n            userId: chosenUser.value\r\n          }\r\n        }\r\n      });\r\n      dispatchNotification({\r\n        header: \"Успішно!\",\r\n        message: `Користувача видалено з черги.`,\r\n        type: \"ok\",\r\n      });\r\n      client.query({\r\n        query: GET_USERS_FOR_QUEUE,\r\n        fetchPolicy: 'network-only'\r\n      }).then(data => {\r\n        setUsers(data.data.users);\r\n        setChosenUser(prevState => ({...prevState, queueLength: 0}));\r\n        setDisabled(false);\r\n      });\r\n    } catch (e) {\r\n      dispatchNotification({\r\n        header: \"Помилка\",\r\n        message: `Користувача не видалено з черги.`,\r\n        type: \"alert\",\r\n      });\r\n      setDisabled(false);\r\n    }\r\n  };\r\n\r\n  const getInLine = async () => {\r\n    setDisabled(true);\r\n    const data = classrooms\r\n      .filter(classroom => !classroom.isHidden && classroom.occupied.state !== OccupiedState.FREE)\r\n      .filter(classroom => withInstrument ? classroom.instruments.length : true)\r\n      .map(({id}) => ({\r\n        classroomId: id,\r\n        type: QueueType.MINIMAL,\r\n      }));\r\n\r\n    try {\r\n      const result = await client.mutate({\r\n        mutation: ADD_USER_TO_QUEUE, variables: {\r\n          input: {\r\n            userId: chosenUser.value,\r\n            data,\r\n            enqueuedBy: EnqueuedBy.DISPATCHER\r\n          }\r\n        }\r\n      });\r\n      if (result.data.addUserToQueue.userErrors.length) {\r\n        result.data.addUserToQueue.userErrors.forEach(({message}: any) => {\r\n          dispatchNotification({\r\n            header: \"Помилка\",\r\n            message,\r\n            type: \"alert\",\r\n          });\r\n        })\r\n      } else {\r\n        dispatchNotification({\r\n          header: \"Успішно!\",\r\n          message: `Користувача записано в чергу.`,\r\n          type: \"ok\",\r\n        });\r\n      }\r\n      client.query({\r\n        query: GET_USERS_FOR_QUEUE,\r\n        fetchPolicy: 'network-only'\r\n      }).then(data => {\r\n        setUsers(data.data.users);\r\n        setChosenUser(prevState => ({...prevState, queueLength: 1}));\r\n        setDisabled(false);\r\n      });\r\n    } catch (e) {\r\n      dispatchNotification({\r\n        header: \"Помилка\",\r\n        message: `Користувача не записано в чергу.`,\r\n        type: \"alert\",\r\n      });\r\n      setDisabled(false);\r\n    }\r\n  };\r\n\r\n  const sanctions = chosenUser.value !== -1 && users\r\n    .find(({id}) => chosenUser.value === id).queueInfo.sanctionedUntil;\r\n\r\n  const renderSanction = () => {\r\n    if (sanctions) return (\r\n      <>\r\n        <p className={styles.sanctions}>\r\n          {`Неможливо поставити в чергу. Користувач знаходиться під санкціями до ${\r\n            moment(sanctions).format('DD-MM-YYYY HH:mm')}`}\r\n        </p>\r\n      </>\r\n    );\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header>\r\n        <h1>Черга</h1>\r\n      </Header>\r\n      <div className={styles.wrapper}>\r\n        <form\r\n          id=\"userQueueForm\"\r\n          className={styles.userSearch}\r\n        >\r\n          <p>Виберіть студента, щоб додати або видалити з черги:</p>\r\n          <Select\r\n            placeholder=\"Користувачі\"\r\n            options={users.filter(user => {\r\n              return !user.occupiedClassrooms.length\r\n                && (user.type === UserTypes.POST_GRADUATE || user.type === UserTypes.STUDENT) &&\r\n                user?.studentInfo?.accountStatus === StudentAccountStatus.ACTIVE\r\n            }).map((user: User) => ({\r\n                label: user.id + \": \" + fullName(user),\r\n                value: user.id as number,\r\n                queueLength: user?.queue.length as number\r\n              })\r\n            )}\r\n            value={chosenUser}\r\n            styles={{menuPortal: base => ({...base, zIndex: 9999})}}\r\n            menuPortalTarget={document.body}\r\n            onChange={handleChose}\r\n            isDisabled={disabled}\r\n          />\r\n          {chosenUser.queueLength === 0 && (\r\n            <label htmlFor=\"instrumentCheckbox\" className={styles.checkboxInstrument}>\r\n              <input type='checkbox' name='instrument' id='instrumentCheckbox' checked={withInstrument}\r\n                     onChange={(e) => setWithInstrument(e.target.checked)}\r\n                     disabled={disabled}\r\n              />\r\n              З фортепіано\r\n            </label>)\r\n          }\r\n          {chosenUser.queueLength !== -1 && (\r\n            <Button onClick={chosenUser.queueLength > 0 ? removeFromLine : getInLine}\r\n                    disabled={disabled || (chosenUser.queueLength === 0 && !!sanctions)}\r\n            >\r\n              {chosenUser.queueLength > 0 ? 'Видалити з черги' : 'Поставити в чергу'}\r\n            </Button>\r\n          )}\r\n        </form>\r\n        {renderSanction()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Queue;\r\n","import {gql} from \"@apollo/client\";\r\n\r\nexport const CRASH_MODE_SWITCH_ON = gql`\r\n    mutation crashModeSwitchOn($input: CrashModeSwitchOnInput!) {\r\n        crashModeSwitchOn(input: $input) {\r\n            crashMode {\r\n                isActive\r\n                until\r\n                comment\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;\r\n","import {gql} from \"@apollo/client\";\r\n\r\nexport const CRASH_MODE_SWITCH_OFF = gql`\r\n    mutation crashModeSwitchOff {\r\n        crashModeSwitchOff {\r\n            crashMode {\r\n                isActive\r\n                until\r\n                comment\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;\r\n","import React, {useState} from 'react';\nimport Button from \"../../../components/button/Button\";\nimport moment from \"moment\";\nimport styles from \"./dispatcherSettings.module.css\"\n\ntype PropTypes = {\n  handleCrashModeOn: (until: string, comment: string, dispatch: any) => void;\n  dispatch?: any;\n};\n\nconst ConfirmCrashModeBody: React.FC<PropTypes> = ({handleCrashModeOn, dispatch}) => {\n  const [until, setUntil] = useState('');\n  const [comment, setComment] = useState('');\n\n  const handleOn = () => {\n    handleCrashModeOn(until, comment, dispatch);\n  }\n\n  return (\n    <>\n      <p>Ви дійсно бажаєте увімкнути режим невідповідності даних?</p>\n      <div className={styles.inputWrapper}>\n        <p>До:</p>\n        <input\n          type=\"datetime-local\"\n          min={moment().format('YYYY-MM-DDTHH:mm')}\n          value={until}\n          onChange={(e) => setUntil(e.target.value)}\n        />\n      </div>\n      <div className={styles.inputWrapper}>\n        <p>Причина: *</p>\n        <input\n          type=\"text\"\n          value={comment}\n          onChange={(e) => setComment(e.target.value)}\n        />\n      </div>\n      <div className={styles.buttonWrapper}>\n        <Button disabled={!comment} onClick={handleOn}>Підтвердити</Button>\n      </div>\n    </>\n  )\n}\n\nexport default ConfirmCrashModeBody;","import React from 'react';\nimport {useQuery} from \"@apollo/client\";\nimport {CRASH_MODE} from \"../../../../api/operations/queries/crashMode\";\nimport {usePopupWindow} from \"../../../../components/popupWindow/PopupWindowProvider\";\nimport {useNotification} from \"../../../../components/notification/NotificationProvider\";\nimport {client} from \"../../../../api/client\";\nimport {CRASH_MODE_SWITCH_ON} from \"../../../../api/operations/mutations/crashModeSwitchOn\";\nimport moment from \"moment\";\nimport handleOperation from \"../../../../helpers/handleOperation\";\nimport {CRASH_MODE_SWITCH_OFF} from \"../../../../api/operations/mutations/crashModeSwitchOff\";\nimport ConfirmCrashModeBody from \"../ConfirmCrashModeBody\";\nimport Button from \"../../../../components/button/Button\";\n\nfunction CrashModeSettingsSection() {\n  const {data, loading, error} = useQuery(CRASH_MODE);\n  const dispatchPopupWindow = usePopupWindow();\n  const dispatchNotification = useNotification();\n\n  const handleCrashModeOn = async (until: string, comment: string, dispatch: any) => {\n    try {\n      const result = await client.mutate({\n        mutation: CRASH_MODE_SWITCH_ON,\n        variables: {\n          input: {\n            until: until ? moment(until).toISOString() : null,\n            comment\n          }\n        }\n      });\n      handleOperation(result, 'crashModeSwitchOn', dispatchNotification, dispatch, 'Режим невідповідності даних увімкнено');\n      await client.query({query: CRASH_MODE, fetchPolicy: 'network-only'})\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleCrashModeOff = async (dispatch: any) => {\n    try {\n      const result = await client.mutate({\n        mutation: CRASH_MODE_SWITCH_OFF\n      });\n      handleOperation(result, 'crashModeSwitchOff', dispatchNotification, dispatch, 'Режим невідповідності даних вимкнено');\n      await client.query({query: CRASH_MODE, fetchPolicy: 'network-only'})\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const confirmCrashModeOn = () => {\n    dispatchPopupWindow({\n      header: <h1>Увага!</h1>,\n      body: (\n        <ConfirmCrashModeBody handleCrashModeOn={handleCrashModeOn}/>\n      ),\n      footer: ''\n    })\n  };\n\n  const ConfirmCrashModeOffFooter = ({dispatch}: any) => (\n    <>\n      <Button onClick={() => handleCrashModeOff(dispatch)}>Підтвердити</Button>\n    </>\n  )\n\n  const confirmCrashModeOff = () => {\n    dispatchPopupWindow({\n      header: <h1>Увага!</h1>,\n      body: <p>Ви дійсно бажаєте вимкнути режим невідповідності даних?</p>,\n      footer: <ConfirmCrashModeOffFooter/>\n    })\n  };\n  return (\n    <div>\n      {data?.crashMode.isActive ? (\n        <>\n          <p>Режим невідповідності даних увімкнено\n            {data.crashMode.until && <> до <b> {moment(data?.crashMode.until).format('DD.MM.YYYY HH:mm')}</b></>}\n            .\n          </p>\n          <p>Причина: {data.crashMode.comment || 'відсутня'}.</p>\n          <Button onClick={confirmCrashModeOff}>\n            Вимкнути режим невідповідности даних\n          </Button>\n        </>\n      ) : (\n        <>\n          <p>Режим невідповідності даних вимкнено.</p>\n          <Button onClick={confirmCrashModeOn}>\n            Увімкнути режим невідповідности даних\n          </Button>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default CrashModeSettingsSection;","import React from 'react';\nimport styles from './dispatcherSettings.module.css';\n\ntype PropTypes = {\n  title: string\n}\n\nconst SectionTitle: React.FC<PropTypes> = ({title}) => {\n  return (\n    <div className={styles.sectionTitle}>\n      {title}\n    </div>\n  );\n}\n\nexport default SectionTitle;","import React from 'react';\nimport styles from './dispatcherSettings.module.css';\n\ntype PropTypes = {\n  text: string\n}\n\nconst SectionTitle: React.FC<PropTypes> = ({text}) => {\n  return (\n    <div className={styles.hintText}>\n      {text}\n    </div>\n  );\n}\n\nexport default SectionTitle;","import React from 'react';\nimport SectionTitle from \"./SectionTitle\";\nimport SectionHint from \"./SectionHint\";\nimport styles from \"./dispatcherSettings.module.css\";\n\ntype PropTypes = {\n  title: string;\n  hintText?: string;\n}\n\nconst DispatcherSettingsSection: React.FC<PropTypes> = ({title, hintText, children}) => {\n  return (\n    <div>\n      <SectionTitle title={title}/>\n      <SectionHint text={hintText}/>\n      <div className={styles.sectionWrapper}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default DispatcherSettingsSection;","import React from \"react\";\nimport CrashModeSettingsSection from \"./sections/CrashModeSettingsSection\";\nimport Header from \"../../../components/header/Header\";\nimport DispatcherSettingsSection from \"./DispatcherSettingsSection\";\nimport Back from \"../../../components/icons/back/Back\";\n\nconst DispatcherSettings = () => {\n    return (\n      <div>\n        <Header>\n          <Back/>\n          <h1>Налаштування</h1>\n        </Header>\n        <DispatcherSettingsSection\n          title='Режим невідповідності даних'\n          hintText='Ви можете увімкнути цей режим при наявності невідповідностей на сітці аудиторій з реальною ситуацією (наприклад, при відсутності світла). Даний режим дозволяє студентам зрозуміти, що інформація на сітці аудиторій не є актуальною. Після усунення невідповідностей режим має бути вимкнуто.'\n        >\n          <CrashModeSettingsSection/>\n        </DispatcherSettingsSection>\n      </div>\n    );\n  }\n;\n\nexport default DispatcherSettings;\n","import React, {useEffect, useState} from 'react';\nimport Header from \"../../../components/header/Header\";\nimport DataList from \"../../../components/dataList/DataList\";\nimport useClassrooms from \"../../../hooks/useClassrooms\";\nimport {ClassroomType} from \"../../../models/models\";\nimport {useHistory} from \"react-router-dom\";\nimport Back from \"../../../components/icons/back/Back\";\nimport styles from './scheduleAdmin.module.css';\n\nconst listHeader = ['Виберіть аудиторію', ''];\n\nconst AdminSchedule = () => {\n  const [classrooms] = useClassrooms();\n  const history = useHistory();\n  const [listData, setListData] = useState([]);\n\n  const listDataItem = (item: ClassroomType) => (\n    <>\n      <div className={styles.classroomListItemContainer}>\n        <div className={styles.classroomListItemMark} style={{backgroundColor: item.color}}/>\n        <span\n          key={item.id}\n          onClick={() => navToChosenClassroom(item.name)}\n          className={styles.classroomListItem}\n        >\n        Аудиторія {item.name}\n      </span>\n      </div>\n      <span/>\n    </>\n  );\n\n  const navToChosenClassroom = (classroomName: string) => {\n    history.push(`/adminSchedule/classroom/${classroomName}`);\n  };\n\n  useEffect(() => {\n    if (!!classrooms.length) {\n      const data = classrooms.map(classroom => listDataItem(classroom));\n      setListData(data);\n    }\n  }, [classrooms]);\n\n  return (\n    <div>\n      <Header>\n        <Back/>\n        <h1>Управління розкладом</h1>\n      </Header>\n      <DataList header={listHeader} data={listData} gridTemplateColumns=' 200px 1fr'/>\n    </div>\n  );\n};\n\nexport default AdminSchedule;\n","import React, {FC} from 'react';\nimport styles from './dayTabs.module.css';\nimport moment from \"moment\";\n\ntype PropTypes = {\n  chosenDay: number,\n  onChange: (dayIndex: number) => void;\n  days: string[];\n}\n\nconst DayTabs: FC<PropTypes> = ({chosenDay, onChange, days}) => {\n  return (\n    <ul className={styles.wrapper}>\n      {days.map((day, index) => (\n        <li\n          key={day}\n          onClick={() => onChange(index)}\n          className={chosenDay === index && styles.selected}\n        >\n          {day}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default DayTabs;\n","import {gql} from \"@apollo/client\";\n\nexport const DELETE_SCHEDULE_UNIT = gql`\n    mutation deleteOneScheduleUnit($input: DeleteOneScheduleUnitInput!) {\n        deleteOneScheduleUnit(input: $input) {\n            updatedSubstitutions {\n              id\n              user {\n                id\n                firstName\n                lastName\n                patronymic\n                type\n              }\n              classroom {\n                id\n                name\n              }\n              type\n              dateStart\n              dateEnd\n              from\n              to\n              activity\n              dayOfWeek\n            }\n            userErrors {\n              message\n              code\n            }\n        }\n    }\n`;\n","import {gql} from \"@apollo/client\";\n\nexport const UPDATE_SCHEDULE_UNIT = gql`\n    mutation updateOneScheduleUnit($where: ScheduleUnitWhereUniqueInput!, $data: ScheduleUnitUpdateInput!) {\n        updateOneScheduleUnit(where: $where, data: $data) {\n            id\n            user {\n              id\n              firstName\n              lastName\n              patronymic\n              type\n            }\n            type\n            dateStart\n            dateEnd\n            from\n            to\n            activity\n        }\n    }\n`;\n","import {gql} from \"@apollo/client\";\n\nexport const CREATE_SCHEDULE_UNIT = gql`\n    mutation createOneScheduleUnit($data: ScheduleUnitCreateInput!) {\n        createOneScheduleUnit(data: $data) {\n            id\n            user {\n              id\n              firstName\n              lastName\n              patronymic\n              type\n            }\n            classroom {\n              id\n              name\n            }\n            type\n            dateStart\n            dateEnd\n            from\n            to\n            activity\n            dayOfWeek\n        }\n    }\n`;\n","import {gql} from '@apollo/client';\n\nexport const GET_SCHEDULE_SUBSTITUTIONS_UNITS = gql`\n  query scheduleSubstitutionUnits($where: ScheduleUnitWhereUniqueInput!) {\n    scheduleUnit(where: $where) {\n      id\n      substitutions {\n        id\n        user {\n          id\n          firstName\n          lastName\n          patronymic\n          type\n        }\n        classroom {\n          id\n          name\n        }\n        type\n        dateStart\n        dateEnd\n        from\n        to\n        activity\n        dayOfWeek\n        }\n      }\n  }\n`;\n","import React, {ChangeEvent, FC, useEffect, useState} from 'react';\nimport {ScheduleUnitActivityT, ScheduleUnitType, ScheduleUnitTypeT} from \"../../../../models/models\";\nimport {formatTimeWithZero, fullName} from \"../../../../helpers/helpers\";\nimport Select from \"react-select\";\nimport useUsers from \"../../../../hooks/useUsers\";\nimport editIcon from '../../../../assets/images/edit.svg';\nimport addIcon from '../../../../assets/images/addLined.svg';\nimport removeIcon from '../../../../assets/images/delete.svg';\nimport styles from './scheduleUnitPopup.module.css';\nimport moment from \"moment\";\nimport Button from \"../../../../components/button/Button\";\nimport {\n  hasOverlappedUnits,\n  hasUnitDateTimeIntersection,\n  isBiggerThanSubstitutions, scheduleUnitToString,\n  withinPrimaryUnitBoundaries\n} from \"../../../../helpers/scheduleHelpers\";\nimport {client} from \"../../../../api/client\";\nimport {DELETE_SCHEDULE_UNIT} from \"../../../../api/operations/mutations/deleteScheduleUnit\";\nimport handleOperation from \"../../../../helpers/handleOperation\";\nimport {UPDATE_SCHEDULE_UNIT} from \"../../../../api/operations/mutations/updateScheduleUnit\";\nimport {CREATE_SCHEDULE_UNIT} from \"../../../../api/operations/mutations/createScheduleUnit\";\nimport {GET_SCHEDULE_SUBSTITUTIONS_UNITS} from \"../../../../api/operations/queries/scheduleSubUnits\";\nimport {\n  CONSTANTLY_END_DATE,\n  CONSTANTLY_START_DATE,\n  FIRST_SEMESTER_END_DATE,\n  FIRST_SEMESTER_START_DATE, SECOND_SEMESTER_END_DATE,\n  SECOND_SEMESTER_START_DATE\n} from \"../../../../helpers/constants\";\nimport {type} from \"os\";\n\ntype HeaderPropTypes = {\n  title: string\n}\n\ntype BodyPropTypes = {\n  unit?: ScheduleUnitType;\n  allUnits?: ScheduleUnitType[];\n  dispatchPopupWindow: (config: any) => void;\n  dispatchNotification: any;\n  dispatch?: (config: { type: string }) => void;\n  primary?: boolean;\n  primaryUnit?: ScheduleUnitType;\n  classroomName: string;\n  selectedDay: number;\n  refetch: () => void;\n}\n\nconst ScheduleUnitPopupHeader: FC<HeaderPropTypes> = ({title}) => {\n  return <h1>{title}</h1>\n};\n\nconst ScheduleUnitPopupBody: FC<BodyPropTypes> = (\n  {\n    unit,\n    dispatchPopupWindow,\n    dispatchNotification,\n    allUnits,\n    dispatch,\n    primary = true,\n    primaryUnit,\n    classroomName,\n    selectedDay,\n    refetch\n  }\n) => {\n  const primaryCreateMode = primary && !unit;\n  const substitutionCreateMode = !primary && !unit;\n  const primaryUpdateMode = unit?.type === ScheduleUnitTypeT.PRIMARY;\n  const substitutionUpdateMode = unit?.type === ScheduleUnitTypeT.SUBSTITUTION;\n\n  const [editMode, setEditMode] = useState(false);\n  const [selectUserData, setSelectUserdata] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const selectTypesData = [\n    {value: Object.keys(ScheduleUnitActivityT)[0], label: ScheduleUnitActivityT.INDIVIDUAL_LESSON},\n    {value: Object.keys(ScheduleUnitActivityT)[1], label: ScheduleUnitActivityT.LECTURE}\n  ];\n  const [selectedType, setSelectedType] = useState(selectTypesData[0]);\n  const users = useUsers();\n  const [dateError, setDateError] = useState(null);\n  const [updatePrimaryError, setUpdatePrimaryError] = useState(false);\n  const [substitutionError, setSubstitutionError] = useState(false);\n  const [overlapsError, setOverLapsError] = useState(false);\n  const [dateStart, setDateStart] = useState(CONSTANTLY_START_DATE);\n  const [dateEnd, setDateEnd] = useState(CONSTANTLY_END_DATE);\n  const [timeFrom, setTimeFrom] = useState('08:00');\n  const [timeTo, setTimeTo] = useState('15:00');\n  const [substitutions, setSubstitutions] = useState(null);\n\n  useEffect(() => {\n    if (primaryUnit || unit) {\n      setTimeFrom(formatTimeWithZero((primaryUnit || unit).from));\n      setTimeTo(formatTimeWithZero((primaryUnit || unit).to));\n      setDateStart(moment((primaryUnit || unit).dateStart).format('YYYY-MM-DD'));\n      setDateEnd(moment((primaryUnit || unit).dateEnd).format('YYYY-MM-DD'));\n    }\n  }, [primaryUnit]);\n\n  useEffect(() => {\n    const error = hasOverlappedUnits(dateStart, dateEnd, timeFrom, timeTo, allUnits)\n    setOverLapsError(error as any);\n  }, [dateStart, dateEnd, timeTo, timeFrom]);\n\n  useEffect(() => {\n    if (users?.length) {\n      const mappedUsers = users.map(user => ({value: String(user.id), label: fullName(user)}));\n      setSelectUserdata(mappedUsers);\n      if (unit) {\n        const selected = mappedUsers.find(({value}) => unit.user.id === +value);\n        setSelectedUser(selected);\n        const typeIndex = selectTypesData.findIndex(t => t.value === unit.activity);\n        setSelectedType(selectTypesData[typeIndex]);\n      }\n    }\n  }, [users]);\n\n  const checkForErrors = () => {\n    const units = primaryUpdateMode || primaryCreateMode ? allUnits : substitutions;\n\n    const isError = hasUnitDateTimeIntersection(dateStart, unit?.id || -1, units, timeFrom, timeTo)\n      || hasUnitDateTimeIntersection(dateEnd, unit?.id || -1, units, timeFrom, timeTo)\n      || hasOverlappedUnits(dateStart, dateEnd, timeFrom, timeTo, units);\n    setDateError(isError);\n    isPrimaryUnitUpdateError(undefined, undefined, undefined, undefined);\n    isSubstitutionUpdateOrCreateError(undefined, undefined, undefined, undefined);\n  }\n\n  useEffect(() => {\n    checkForErrors()\n  }, [dateStart, dateEnd, timeFrom, timeTo]);\n\n  useEffect(() => {\n    checkForErrors();\n\n    if (unit) {\n      client.query({\n        query: GET_SCHEDULE_SUBSTITUTIONS_UNITS,\n        variables: {\n          where: {\n            id: unit.id\n          }\n        }\n      }).then(response => {\n        setSubstitutions(response.data.scheduleUnit.substitutions);\n      });\n    }\n\n    return () => {\n      setSubstitutions(null);\n    }\n  }, []);\n\n  const isPrimaryUnitUpdateError = (start: string, end: string, f: string, t: string) => {\n    if (primaryUpdateMode) {\n      const updatedPrimaryUnit: ScheduleUnitType = {\n        ...unit,\n        dateStart: (start || dateStart) as unknown as Date,\n        dateEnd: (end || dateEnd) as unknown as Date,\n        from: f || timeFrom,\n        to: t || timeTo\n      }\n      setUpdatePrimaryError(!isBiggerThanSubstitutions(updatedPrimaryUnit, substitutions));\n    }\n  };\n\n  const isSubstitutionUpdateOrCreateError = (start: string, end: string, f: string, t: string) => {\n    if (substitutionCreateMode || substitutionUpdateMode) {\n      const updatedSubstitutionUnit: ScheduleUnitType = {\n        ...unit,\n        dateStart: (start || dateStart) as unknown as Date,\n        dateEnd: (end || dateEnd) as unknown as Date,\n        from: f || timeFrom,\n        to: t || timeTo\n      }\n      setSubstitutionError(!withinPrimaryUnitBoundaries(updatedSubstitutionUnit, primaryUnit));\n    }\n  };\n\n  const handleSelectUser = (e: any) => {\n    setSelectedUser(e);\n  };\n\n  const handleSelectType = (e: any) => {\n    setSelectedType(e);\n  };\n\n  const handleDateStartChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value || dateStart;\n    setDateStart(newValue);\n\n    const units = primaryUpdateMode || primaryCreateMode ? allUnits : substitutions;\n    const error = hasUnitDateTimeIntersection(newValue, unit?.id || -1, units, timeFrom, timeTo)\n      || hasOverlappedUnits(newValue, dateEnd, timeFrom, timeTo, units);\n    setDateError(error);\n    isPrimaryUnitUpdateError(newValue, undefined, undefined, undefined);\n    isSubstitutionUpdateOrCreateError(newValue, undefined, undefined, undefined);\n  };\n\n  const handleDateEndChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value || dateEnd;\n    setDateEnd(newValue);\n\n    const units = primaryUpdateMode || primaryCreateMode ? allUnits : substitutions;\n    const error = hasUnitDateTimeIntersection(newValue, unit?.id || -1, units, timeFrom, timeTo)\n      || hasOverlappedUnits(dateStart, newValue, timeFrom, timeTo, units);\n    setDateError(error);\n    setDateError(hasUnitDateTimeIntersection(newValue, unit?.id || -1, units, timeFrom, timeTo));\n    isPrimaryUnitUpdateError(undefined, newValue, undefined, undefined);\n    isSubstitutionUpdateOrCreateError(undefined, newValue, undefined, undefined);\n  };\n\n  const handleFromTimeChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value || timeFrom;\n    setTimeFrom(newValue);\n\n    const units = primaryUpdateMode || primaryCreateMode ? allUnits : substitutions;\n    const isError = hasUnitDateTimeIntersection(dateStart, unit?.id || -1, units, newValue, timeTo)\n      || hasUnitDateTimeIntersection(dateEnd, unit?.id || -1, units, newValue, timeTo)\n      || hasOverlappedUnits(dateStart, dateEnd, newValue, timeTo, units);\n    setDateError(isError);\n    isPrimaryUnitUpdateError(undefined, undefined, newValue, undefined);\n    isSubstitutionUpdateOrCreateError(undefined, undefined, newValue, undefined);\n  };\n\n  const handleToTimeChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value || timeTo;\n    setTimeTo(newValue);\n\n    const units = primaryUpdateMode || primaryCreateMode ? allUnits : substitutions;\n    const isError = hasUnitDateTimeIntersection(dateStart, unit?.id || -1, units, timeFrom, newValue)\n      || hasUnitDateTimeIntersection(dateEnd, unit?.id || -1, units, timeFrom, newValue)\n      || hasOverlappedUnits(dateStart, dateEnd, timeFrom, newValue, units);\n    setDateError(isError);\n    isPrimaryUnitUpdateError(undefined, undefined, undefined, newValue);\n    isSubstitutionUpdateOrCreateError(undefined, undefined, undefined, newValue);\n  };\n\n  const handleCreateUnit = () => {\n    dispatchPopupWindow({\n      header: (\n        <ScheduleUnitPopupHeader\n          title={`Створити тимчасову заміну для ${fullName(unit.user, true)}`}\n        />\n      ),\n      body: (\n        <ScheduleUnitPopupBody\n          dispatchPopupWindow={dispatchPopupWindow}\n          dispatchNotification={dispatchNotification}\n          allUnits={substitutions}\n          selectedDay={selectedDay}\n          classroomName={classroomName}\n          primary={false}\n          primaryUnit={unit}\n          refetch={refetch}\n        />\n      ),\n      footer: ''\n    });\n  };\n\n  const RemoveUnitFooter = () => {\n    const onCancel = () => dispatch({type: \"POP_POPUP_WINDOW\"});\n\n    const onOk = async () => {\n      try {\n        const result = await client.mutate({\n          mutation: DELETE_SCHEDULE_UNIT,\n          variables: {\n            input: {\n              scheduleUnitId: unit.id\n            }\n          },\n          update(cache) {\n            cache.modify({\n              fields: {\n                scheduleUnits(existingScheduleUnitsRefs, {readField}) {\n                  return existingScheduleUnitsRefs.filter(\n                    (scheduleUnitRef: any) => unit.id !== readField('id', scheduleUnitRef),\n                  );\n                },\n                schedule(existingScheduleUnitsRefs, {readField}) {\n                  return existingScheduleUnitsRefs.filter(\n                    (scheduleUnitRef: any) => unit.id !== readField('id', scheduleUnitRef),\n                  );\n                },\n              },\n            })\n          }\n        });\n        await handleOperation(result, 'deleteOneScheduleUnit', dispatchNotification, dispatch, 'Відрізок видалено!');\n        await refetch();\n      } catch (e: any) {\n        dispatchNotification({\n          header: \"Помилка\",\n          message: e?.message,\n          type: \"alert\",\n\n        });\n      }\n    };\n\n    return (\n      <div className={styles.removeFooter}>\n        <Button color='red' onClick={onCancel}>Ні</Button>\n        <Button onClick={onOk}>Так</Button>\n      </div>\n    );\n  };\n\n  const handleConfirmRemoveUnit = () => {\n    dispatchPopupWindow({\n      header: <h1>Підтвердіть операцію</h1>,\n      body: 'Ви дійсно бажаєте видалити відрізок?',\n      footer: <RemoveUnitFooter/>,\n      isConfirm: true\n    });\n  };\n\n  const handleSaveChanges = async () => {\n    try {\n      const result = await client.mutate({\n        mutation: UPDATE_SCHEDULE_UNIT,\n        variables: {\n          where: {\n            id: unit.id\n          },\n          data: {\n            user: {\n              connect: {\n                id: +selectedUser.value\n              }\n            },\n            dateStart: {\n              set: moment(dateStart).set('hours', 0).set('minutes', 0).set('seconds', 0).set('milliseconds', 0).toISOString()\n            },\n            dateEnd: {\n              set: moment(dateEnd).set('hours', 0).set('minutes', 0).set('seconds', 0).set('milliseconds', 0).toISOString()\n            },\n            from: {set: timeFrom},\n            to: {set: timeTo},\n            activity: {set: selectedType.value}\n          }\n        }\n      });\n      await handleOperation(result, 'updateOneScheduleUnit', dispatchNotification, dispatch,\n        'Відрізок змінено');\n    } catch (e: any) {\n      dispatchNotification({\n        header: \"Помилка\",\n        message: e?.message,\n        type: \"alert\",\n      });\n    }\n  };\n\n  const submitCreateUnit = async () => {\n    try {\n      if (primary) {\n\n        const result = await client.mutate({\n          mutation: CREATE_SCHEDULE_UNIT,\n          variables: {\n            data: {\n              type: ScheduleUnitTypeT.PRIMARY,\n              dateStart: moment(dateStart).set('hours', 0).set('minutes', 0).set('seconds', 0)\n                .set('milliseconds', 0).toISOString(),\n              dateEnd: moment(dateEnd).set('hours', 0).set('minutes', 0).set('seconds', 0)\n                .set('milliseconds', 0).toISOString(),\n              dayOfWeek: selectedDay === 6 ? 0 : selectedDay + 1,\n              from: timeFrom,\n              to: timeTo,\n              activity: selectedType.value,\n              user: {\n                connect: {\n                  id: +selectedUser.value\n                }\n              },\n              classroom: {\n                connect: {\n                  name: classroomName\n                }\n              }\n            }\n          }\n        });\n        await handleOperation(result, 'createOneScheduleUnit', dispatchNotification, dispatch,\n          'Відрізок створено');\n        await refetch();\n      } else {\n        const result = client.mutate({\n          mutation: UPDATE_SCHEDULE_UNIT,\n          variables: {\n            where: {\n              id: +primaryUnit.id\n            },\n            data: {\n              substitutions: {\n                create: {\n                  type: ScheduleUnitTypeT.SUBSTITUTION,\n                  dateStart: moment(dateStart).set('hours', 0).set('minutes', 0).set('seconds', 0)\n                    .set('milliseconds', 0).toISOString(),\n                  dateEnd: moment(dateEnd).set('hours', 0).set('minutes', 0).set('seconds', 0)\n                    .set('milliseconds', 0).toISOString(),\n                  dayOfWeek: selectedDay === 6 ? 0 : selectedDay + 1,\n                  from: timeFrom,\n                  to: timeTo,\n                  activity: selectedType.value,\n                  user: {\n                    connect: {\n                      id: +selectedUser.value\n                    }\n                  },\n                  classroom: {\n                    connect: {\n                      name: classroomName\n                    }\n                  }\n                }\n              }\n            }\n          }\n        });\n        await handleOperation(result, 'createOneScheduleUnit', dispatchNotification, dispatch,\n          'Тимчасову заміну створено');\n        await refetch();\n      }\n    } catch (e: any) {\n      dispatchNotification({\n        header: \"Помилка\",\n        message: e?.message,\n        type: \"alert\",\n      });\n    }\n  };\n\n  const setFirstSemester = () => {\n    setDateStart(FIRST_SEMESTER_START_DATE);\n    setDateEnd(FIRST_SEMESTER_END_DATE);\n  };\n\n  const setSecondSemester = () => {\n    setDateStart(SECOND_SEMESTER_START_DATE);\n    setDateEnd(SECOND_SEMESTER_END_DATE);\n  };\n\n  const setConstantly = () => {\n    setDateStart(CONSTANTLY_START_DATE);\n    setDateEnd(CONSTANTLY_END_DATE);\n  };\n\n  return (\n    <>\n      {/*{primaryCreateMode && <p>primaryCreateMode</p>}*/}\n      {/*{substitutionCreateMode && <p>substitutionCreateMode</p>}*/}\n      {/*{primaryUpdateMode && <p>primaryUpdateMode</p>}*/}\n      {/*{substitutionUpdateMode && <p>substitutionUpdateMode</p>}*/}\n      <div className={styles.controlButtons}>\n        {!editMode && (\n          <img\n            src={editIcon}\n            alt=\"edit\"\n            className={styles.controlIcon}\n            onClick={() => setEditMode(true)}\n            title='Редагувати'\n          />\n        )}\n        <img\n          src={removeIcon}\n          alt=\"delete\"\n          className={styles.controlIcon}\n          title='Видалити'\n          onClick={handleConfirmRemoveUnit}\n        />\n      </div>\n      <div>\n        {!editMode && !!unit ? (\n          <div className={styles.unitData}>\n            <div>{fullName(unit.user)}</div>\n            <div><span>Дата (від): </span><span>{moment(unit.dateStart).format('DD.MM.YYYY')}</span></div>\n            <div><span>Дата (до): </span><span>{moment(unit.dateEnd).format('DD.MM.YYYY')}</span></div>\n            <div><span>Час (від): </span><span>{unit.from}</span></div>\n            <div><span>Час (до): </span><span>{unit.to}</span></div>\n            <div><span>Тип: </span><span>{\n              /*@ts-ignore*/\n              ScheduleUnitActivityT[unit.activity]}</span></div>\n          </div>\n        ) : (\n          <div className={styles.editWrapper}>\n            <label>\n              Педагог:\n              <Select\n                options={selectUserData}\n                value={selectedUser}\n                placeholder='Виберіть педагога'\n                onChange={handleSelectUser}\n                menuPortalTarget={document.body}\n                styles={{menuPortal: base => ({...base, zIndex: 9999})}}\n              />\n            </label>\n            <label>\n              <span/>\n              <div className={styles.dataHints}>\n                <div>\n                  <Button\n                    onClick={setConstantly}\n                    disabled={dateStart === CONSTANTLY_START_DATE && dateEnd === CONSTANTLY_END_DATE}\n                  >\n                    Постійно (до 2099р.)\n                  </Button>\n                  <Button\n                    onClick={setFirstSemester}\n                    disabled={dateStart === FIRST_SEMESTER_START_DATE && dateEnd === FIRST_SEMESTER_END_DATE}\n                  >\n                    1-й семестр {moment().format('YYYY') + 'р.'}\n                  </Button>\n                  <Button\n                    onClick={setSecondSemester}\n                    disabled={dateStart === SECOND_SEMESTER_START_DATE && dateEnd === SECOND_SEMESTER_END_DATE}\n                  >\n                    2-й семестр {moment().format('YYYY') + 'р.'}\n                  </Button>\n                </div>\n              </div>\n            </label>\n            <label>\n              Дата (від):\n              <input type=\"date\" value={dateStart} onChange={handleDateStartChange} className={styles.input}/>\n            </label>\n            <label>\n              Дата (до):\n              <input type=\"date\" value={dateEnd} onChange={handleDateEndChange} className={styles.input}/>\n            </label>\n            <label>\n              Час (від):\n              <input type=\"time\" className={styles.input} value={timeFrom} onChange={handleFromTimeChange}/>\n            </label>\n            <label>\n              Час (до):\n              <input type=\"time\" className={styles.input} value={timeTo} onChange={handleToTimeChange}/>\n            </label>\n            <label>\n              Тип:\n              <Select\n                options={selectTypesData as any}\n                value={selectedType}\n                onChange={handleSelectType}\n                menuPortalTarget={document.body}\n                styles={{menuPortal: base => ({...base, zIndex: 9999})}}\n              />\n            </label>\n            {!!dateError && dateError.map((unit: ScheduleUnitType) => (\n              <p className={styles.errorMessage}>\n                Накладається на відрізок <span className={styles.subListItem}>{scheduleUnitToString(unit)}</span>\n              </p>\n            ))\n            }\n            {!!overlapsError && !dateError && (overlapsError as unknown as ScheduleUnitType[])\n              .map((unit: ScheduleUnitType) => (\n                <p className={styles.errorMessage}>\n                  Перекриває відрізок <span className={styles.subListItem}>{scheduleUnitToString(unit)}</span>\n                </p>\n              ))\n            }\n            {updatePrimaryError && (\n              <p className={styles.errorMessage}>\n                Тимчасові відрізки не можуть виходити за рамки постійного відрізку.\n              </p>\n            )}\n            {substitutionError && (\n              <p className={styles.errorMessage}>\n                Тимчасовий відрізок не може бути більшим за постійний відрізок <span\n                className={styles.subListItem}>{scheduleUnitToString(primaryUnit)}</span>\n              </p>\n            )}\n          </div>\n        )}\n        {!!substitutions?.length && (\n          <div className={styles.unitData}>\n            <div>\n              <span>Заміни: </span>\n              <ul className={styles.subList}>\n                {substitutions.map((sub: ScheduleUnitType) => (\n                  <li className={styles.subListItem}>{scheduleUnitToString(sub)}</li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        )}\n        <div className={styles.buttons}>\n          {editMode && (\n            <>\n              <Button onClick={() => setEditMode(false)} color='red'>Відміна</Button>\n              <Button\n                disabled={!selectedUser}\n                onClick={handleSaveChanges}\n              >\n                Зберегти\n              </Button>\n            </>\n          )}\n          {!unit && (\n            <>\n              <Button onClick={() => dispatch({type: 'POP_POPUP_WINDOW'})} color='red'>Відміна</Button>\n              <Button\n                disabled={!selectedUser}\n                onClick={submitCreateUnit}\n              >\n                Створити\n              </Button>\n            </>\n          )}\n        </div>\n        {primaryUpdateMode && !editMode && (\n          <Button onClick={handleCreateUnit}>\n            Створити тимчасову заміну\n            <img\n              src={addIcon}\n              alt=\"create\"\n              className={styles.addIcon}\n              title='Додати відрізок'\n            />\n          </Button>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst ScheduleUnitPopupFooter = () => {\n  return (\n    <div>\n\n    </div>\n  );\n};\n\nexport default {\n  Header: ScheduleUnitPopupHeader,\n  Body: ScheduleUnitPopupBody,\n  Footer: ScheduleUnitPopupFooter\n};\n","import React, {FC} from 'react';\nimport styles from './scheduleUnitRow.module.css';\nimport {ScheduleUnitType, ScheduleUnitTypeT} from \"../../../../models/models\";\nimport {fullName} from \"../../../../helpers/helpers\";\nimport moment from \"moment\";\nimport {usePopupWindow} from \"../../../../components/popupWindow/PopupWindowProvider\";\nimport {useNotification} from \"../../../../components/notification/NotificationProvider\";\nimport ScheduleUnitPopup from \"../scheduleUnitPopup/ScheduleUnitPopup\";\n\ntype PropTypes = {\n  units: ScheduleUnitType[];\n  classroomName: string;\n  selectedDay: number;\n  refetch: () => void;\n}\n\nconst FULL_DAY_LENGTH_MIN = 24 * 60;\nconst COLUMN_HEIGHT = +((365 * 2) / 7).toFixed(0)\nconst daysAmount = new Array(COLUMN_HEIGHT).fill(null);\n\nconst ScheduleUnitRow: FC<PropTypes> = ({units, classroomName, selectedDay, refetch}) => {\n  const now = moment();\n  const dispatchPopupWindow = usePopupWindow();\n  const dispatchNotification = useNotification();\n\n  const handleClick = (unit: ScheduleUnitType) => {\n    const isSubstitution = unit.type === ScheduleUnitTypeT.SUBSTITUTION;\n    const primary = isSubstitution ? units.find(({id}) => unit.primaryScheduleUnit.id === id) : null;\n    dispatchPopupWindow({\n      header: <ScheduleUnitPopup.Header title={fullName(unit.user)}/>,\n      body: (\n        <ScheduleUnitPopup.Body\n          unit={unit}\n          dispatchPopupWindow={dispatchPopupWindow}\n          dispatchNotification={dispatchNotification}\n          allUnits={isSubstitution ? null : units}\n          selectedDay={selectedDay}\n          classroomName={classroomName}\n          primaryUnit={primary}\n          refetch={refetch}\n        />\n      ),\n      footer: <ScheduleUnitPopup.Footer/>,\n    });\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      <ul className={styles.dates}>\n        {daysAmount.map((_, index) => index % 7 ? (\n          <li>\n            {moment().add(index * 6, 'days').format('DD.MM.YYYY')}\n          </li>\n        ) : null)}\n      </ul>\n      {units.map((unit) => {\n        const {from, to, user, dateStart, dateEnd} = unit;\n        const fromMinutes = (+from.split(':')[0] * 60) + +from.split(':')[1];\n        const toMinutes = (+to.split(':')[0] * 60) + +to.split(':')[1];\n        const startPos = fromMinutes / (FULL_DAY_LENGTH_MIN / 100);\n        const width = (toMinutes - fromMinutes) / (FULL_DAY_LENGTH_MIN / 100);\n        const amountOfWeeks = moment(dateEnd).diff(moment(dateStart), 'weeks');\n        const vertStart = moment(now).diff(dateStart, 'weeks');\n\n        const cssStyles = {\n          left: `${startPos}%`,\n          width: `${width}%`,\n          height: 20 * (amountOfWeeks),\n          top: vertStart < 0 ? -(vertStart * 20) : 0,\n          backgroundColor: unit.type === ScheduleUnitTypeT.PRIMARY ? '#00a6ff' : '#ff8c00',\n          zIndex: unit.type === ScheduleUnitTypeT.PRIMARY ? 1 : 2,\n        };\n\n        return (\n          <div\n            className={styles.unit}\n            style={cssStyles}\n            onClick={() => handleClick(unit as ScheduleUnitType)}\n          >\n            <span style={{position: 'sticky', top: 2}}>{fullName(user, true)} | {from} - {to} | {moment(dateStart).format('DD.MM.YY')} - {moment(dateEnd).format('DD.MM.YY')}</span>\n          </div>\n        )\n      })}\n    </div>\n  );\n};\n\nexport default ScheduleUnitRow;\n","import React, {useEffect, useState} from 'react';\nimport Header from \"../../../components/header/Header\";\nimport {useParams} from \"react-router-dom\";\nimport DayTabs from \"./dayTabs/DayTabs\";\nimport styles from './scheduleAdmin.module.css';\nimport {GET_SCHEDULE_UNITS} from \"../../../api/operations/queries/scheduleUnits\";\nimport ScheduleUnitRow from \"./scheduleUnitRow/ScheduleUnitRow\";\nimport Add from \"../../../components/icons/add/Add\";\nimport {usePopupWindow} from \"../../../components/popupWindow/PopupWindowProvider\";\nimport ScheduleUnitPopup from './scheduleUnitPopup/ScheduleUnitPopup';\nimport {useNotification} from \"../../../components/notification/NotificationProvider\";\nimport {useQuery} from \"@apollo/client\";\nimport Back from \"../../../components/icons/back/Back\";\nimport moment from \"moment\";\n\nconst DAY_OF_WEEKS = ['Понеділок', 'Вівторок', 'Середа', 'Четвер', 'П\\'ятниця', 'Субота', 'Неділя'];\n\nconst AdminScheduleClassroom = () => {\n  const {classroomName}: any = useParams();\n  const [chosenDay, setChosenDay] = useState(moment().weekday() - 1);\n  const days = new Array(24).fill(null);\n  const dispatchPopupWindow = usePopupWindow();\n  const dispatchNotification = useNotification();\n  const {data, refetch} = useQuery(GET_SCHEDULE_UNITS, {\n    fetchPolicy: 'network-only',\n    variables: {\n      where: {\n        classroom: {\n          name: {\n            equals: classroomName\n          }\n        },\n        dayOfWeek: {\n          equals: chosenDay + 1\n        },\n      }\n    }\n  });\n\n  const refetchScheduleUnits = async () => {\n    try {\n      await refetch({\n        where: {\n          classroom: {\n            name: {\n              equals: classroomName\n            }\n          },\n          dayOfWeek: {\n            equals: chosenDay === 6 ? 0 : chosenDay + 1\n          },\n        }\n      });\n    } catch (e: any) {\n      dispatchNotification({\n        header: \"Упс! Сталася помилка\",\n        message: e?.message,\n        type: \"alert\",\n      });\n    }\n  }\n\n  useEffect(() => {\n    refetchScheduleUnits();\n  }, [chosenDay]);\n\n  const handleCreateUnit = () => {\n    dispatchPopupWindow({\n      header: <ScheduleUnitPopup.Header title='Створити новий відрізок для'/>,\n      body: (\n        <ScheduleUnitPopup.Body\n          dispatchPopupWindow={dispatchPopupWindow}\n          dispatchNotification={dispatchNotification}\n          allUnits={data?.scheduleUnits}\n          selectedDay={chosenDay}\n          classroomName={classroomName}\n          refetch={refetch}\n        />\n      ),\n      footer: ''\n    });\n  };\n\n  return (\n    <div>\n      <Header>\n        <Back/>\n        <h1>Управління розкладом в аудиторії {classroomName}</h1>\n        <Add onClick={handleCreateUnit}/>\n      </Header>\n      <DayTabs onChange={setChosenDay} chosenDay={chosenDay} days={DAY_OF_WEEKS}/>\n      <div className={styles.days}>\n        {days.map((_, index) => (\n          <span>{index}</span>\n        ))}\n      </div>\n      <div className={styles.wrapper}>\n        <ScheduleUnitRow\n          units={data?.scheduleUnits || []}\n          selectedDay={chosenDay}\n          classroomName={classroomName}\n          refetch={refetch}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AdminScheduleClassroom;\n","import React, {useEffect} from 'react';\nimport {useLocal} from \"../../hooks/useLocal\";\nimport styles from \"../../pages/classrooms/classrooms.module.css\";\nimport Button from \"../button/Button\";\n\ntype PropTypes = {};\n\nconst ErrorHandler: React.FC<PropTypes> = ({children}) => {\n  const {data: {networkError}} = useLocal('networkError');\n\n  const handleReload = () => {\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    console.log('networkError', networkError);\n  }, [networkError]);\n\n  return (\n    <>\n      {networkError && <div className={styles.updateDataModal}>\n          <div className={styles.popup}>\n              <p>Відсутнє з'єднання</p>\n              <Button onClick={handleReload}>Перезавантажити</Button>\n          </div>\n      </div>}\n      {children}\n    </>\n  );\n}\n\nexport default ErrorHandler;","import React from \"react\";\r\nimport styles from \"./content.module.css\";\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport Registry from \"../../../pages/registry/Registry\";\r\nimport Schedule from \"../../../pages/schedule/Schedule\";\r\nimport Users from \"../../../pages/users/Users\";\r\nimport Profile from \"../../../pages/profile/Profile\";\r\nimport AdminClassrooms from \"../../../pages/admin/classrooms/AdminClassrooms\";\r\nimport AdminUsers from \"../../../pages/admin/users/AdminUsers\";\r\nimport Admin from \"../../../pages/admin/admin/Admin\";\r\nimport Classrooms from \"../../../pages/classrooms/Classrooms\";\r\nimport AdminInstruments from \"../../../pages/admin/instruments/AdminInstruments\";\r\nimport AdminDepartments from \"../../../pages/admin/departments/AdminDepartments\";\r\nimport AdminFaculties from \"../../../pages/admin/faculties/AdminFaculties\";\r\nimport AdminDegrees from \"../../../pages/admin/degrees/AdminDegrees\";\r\nimport Login from \"../../../pages/login/Login\";\r\nimport Dashboard from \"../../../pages/dashboard/Dashboard\";\r\nimport Queue from \"../../../pages/queue/Queue\";\r\nimport {User, UserTypes} from \"../../../models/models\";\r\nimport DispatcherSettings from \"../../../pages/admin/dispatcherSettings/DispatcherSettings\";\r\nimport AdminSchedule from \"../../../pages/admin/schedule/AdminSchedule\";\r\nimport AdminScheduleClassroom from \"../../../pages/admin/schedule/AdminScheduleClassroom\";\r\nimport ErrorHandler from \"../../errorHandler/ErrorHandler\";\r\n\r\ninterface PropTypes {\r\n  isLogged: boolean;\r\n}\r\n\r\nconst Content: React.FC<PropTypes> = ({isLogged}) => {\r\n  const user: User = JSON.parse(localStorage.getItem('user'));\r\n\r\n  return (\r\n    <div className={styles.content}>\r\n      {!isLogged\r\n        ? (\r\n          <Switch>\r\n            <ErrorHandler>\r\n              <Route path=\"/\" component={Login}/>\r\n            </ErrorHandler>\r\n          </Switch>\r\n        )\r\n\r\n        : user && (user.type === UserTypes.ADMIN || user.type === UserTypes.DISPATCHER) ? (\r\n          <Switch>\r\n            <ErrorHandler>\r\n              <Route exact path=\"/\" component={Classrooms}/>\r\n              <Route path=\"/classrooms/:classroomName?\" component={Classrooms}/>\r\n              <Route path=\"/registry/:userId?\" component={Registry}/>\r\n              <Route path=\"/schedule\" component={Schedule}/>\r\n              <Route path=\"/users:userId?\" component={Users}/>\r\n              <Route path=\"/profile\" component={Profile}/>\r\n              <Route path=\"/admin\" component={Admin}/>\r\n              <Route path=\"/adminClassrooms\" component={AdminClassrooms}/>\r\n              <Route path=\"/adminUsers\" component={AdminUsers}/>\r\n              <Route path=\"/adminInstruments\" component={AdminInstruments}/>\r\n              <Route path=\"/adminDepartments\" component={AdminDepartments}/>\r\n              <Route path=\"/adminFaculties\" component={AdminFaculties}/>\r\n              <Route path=\"/adminDegrees\" component={AdminDegrees}/>\r\n              <Route exact path=\"/adminSchedule\" component={AdminSchedule}/>\r\n              <Route path=\"/adminSchedule/classroom/:classroomName?\" component={AdminScheduleClassroom}/>\r\n              <Route path=\"/dashboard\" component={Dashboard}/>\r\n              <Route path=\"/queue\" component={Queue}/>\r\n              <Route path=\"/dispatcherSettings\" component={DispatcherSettings}/>\r\n            </ErrorHandler>\r\n          </Switch>\r\n        ) : (\r\n          <Switch>\r\n            <Route path=\"/dashboard\" component={Dashboard}/>\r\n          </Switch>\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Content;\r\n","import React, {useEffect} from \"react\";\r\nimport styles from \"./layout.module.css\";\r\nimport Sidebar from \"./sidebar/Sidebar\";\r\nimport Content from \"./content/Content\";\r\nimport {isLoggedVar} from \"../../api/client\";\r\nimport {useLocal} from \"../../hooks/useLocal\";\r\n\r\nconst Layout = () => {\r\n  const { data: {isBlurred}} = useLocal('isBlurred');\r\n  const { data: {isLogged}} = useLocal('isLogged');\r\n  const isDashboard = window.location.hash.includes('dashboard');\r\n\r\n  useEffect(()=> {\r\n    isLoggedVar(!!JSON.parse(localStorage.getItem('user') as string));\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className={[\r\n        styles.layout,\r\n        isBlurred ? styles.blurred : \"\",\r\n      ].join(\" \")}\r\n    >\r\n      {isLogged && !isDashboard && <nav>\r\n        <Sidebar/>\r\n      </nav>}\r\n      <main>\r\n        <Content isLogged={isLogged}/>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import React, {useEffect} from 'react';\nimport Layout from \"./components/layout/Layout\";\nimport {setAccessRights} from \"./helpers/helpers\";\nimport {User, UserTypes} from \"./models/models\";\nimport {useHistory} from \"react-router-dom\";\n\nfunction App() {\n  const history = useHistory();\n\n  useEffect(() => {\n    const user:User = JSON.parse(localStorage.getItem('user') as string);\n    if (user && user.type === UserTypes.STAFF) {\n      history.push('/dashboard');\n    }\n    document.title = 'Auditorium';\n\n    setAccessRights(user);\n\n  }, []);\n\n  return <Layout/>;\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import 'core-js/es/map';\nimport 'core-js/es/set';\nimport 'raf/polyfill';\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport {ApolloProvider} from \"@apollo/client\";\nimport {client} from \"./api/client\";\nimport PopupWindowProvider from \"./components/popupWindow/PopupWindowProvider\";\nimport NotificationProvider from \"./components/notification/NotificationProvider\";\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <ApolloProvider client={client}>\n        <PopupWindowProvider>\n          <NotificationProvider>\n            <App/>\n          </NotificationProvider>\n        </PopupWindowProvider>\n      </ApolloProvider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"dashboard_wrapper__pPRBx\",\"container\":\"dashboard_container__2c-4-\",\"header\":\"dashboard_header__19IQ1\",\"generalQueue\":\"dashboard_generalQueue__j5DvV\",\"waitingApprove\":\"dashboard_waitingApprove__2AzUU\",\"swing-in-top-fwd-fast\":\"dashboard_swing-in-top-fwd-fast__1E7AS\",\"classroomName\":\"dashboard_classroomName__2XZzI\",\"fullName\":\"dashboard_fullName__UxlTR\",\"rightPart\":\"dashboard_rightPart__Mc0MX\",\"info\":\"dashboard_info__8rSVU\",\"hiddenLogout\":\"dashboard_hiddenLogout__1pBeF\",\"noQueue\":\"dashboard_noQueue__2skt1\",\"swing-in-top-fwd\":\"dashboard_swing-in-top-fwd__3dZKI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notificationWrapper\":\"notification_notificationWrapper__16-pd\",\"notification\":\"notification_notification__2lEK8\",\"slide-in-right\":\"notification_slide-in-right__1Uvjt\",\"exit\":\"notification_exit__1jgO3\",\"slide-out-right\":\"notification_slide-out-right__3yOFB\",\"ok\":\"notification_ok__20_cT\",\"alert\":\"notification_alert__2-ppo\",\"default\":\"notification_default__KVLBi\",\"notificationBody\":\"notification_notificationBody__1QBEf\",\"notificationClose\":\"notification_notificationClose__1vedn\",\"header\":\"notification_header__2-F1d\",\"message\":\"notification_message__3wo_M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionTitle\":\"dispatcherSettings_sectionTitle__1UBLF\",\"hintText\":\"dispatcherSettings_hintText__1D3dE\",\"sectionWrapper\":\"dispatcherSettings_sectionWrapper__1xB7-\",\"inputWrapper\":\"dispatcherSettings_inputWrapper__1zlfn\",\"buttonWrapper\":\"dispatcherSettings_buttonWrapper__1MAYr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectClassroomsFilter\":\"classrooms_selectClassroomsFilter__3ysOG\",\"classroomsPage\":\"classrooms_classroomsPage__nQEdp\",\"classroomsList\":\"classrooms_classroomsList__24eUj\",\"updateDataModal\":\"classrooms_updateDataModal__81Fk8\",\"popup\":\"classrooms_popup__kDwau\",\"crashModeWrapper\":\"classrooms_crashModeWrapper__8HZ0i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"logo_logo__2PBiY\",\"animate-position\":\"logo_animate-position__2fEiZ\",\"logoTitle\":\"logo_logoTitle__j0SLC\",\"logoDescription\":\"logo_logoDescription__15aGu\",\"logoWrapper\":\"logo_logoWrapper__11R_j\",\"smallLogo\":\"logo_smallLogo__2AuAk\",\"slide-in-fwd-center\":\"logo_slide-in-fwd-center__1J5_g\",\"smallLogoTitle\":\"logo_smallLogoTitle__2FObg\",\"logoText\":\"logo_logoText__1zYJS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popupBackground\":\"popupWindow_popupBackground__3wGwV\",\"modal\":\"popupWindow_modal__1-pZQ\",\"sider\":\"popupWindow_sider__36ivT\",\"modalBody\":\"popupWindow_modalBody__F34QP\",\"confirm\":\"popupWindow_confirm__109QA\",\"slide-in-top\":\"popupWindow_slide-in-top__j1uu0\",\"slide-out-top\":\"popupWindow_slide-out-top__171La\",\"fade-in\":\"popupWindow_fade-in__2PgXb\",\"fade-out\":\"popupWindow_fade-out__2YY8x\",\"modalHeader\":\"popupWindow_modalHeader__JLtng\",\"modalClose\":\"popupWindow_modalClose__1zIlw\",\"modalFooter\":\"popupWindow_modalFooter__1MR28\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"createClassroomPopupBody_wrapper__z5SAw\",\"container\":\"createClassroomPopupBody_container__10StB\",\"instrumentsCheckbox\":\"createClassroomPopupBody_instrumentsCheckbox__29buo\",\"addInstrumentIcon\":\"createClassroomPopupBody_addInstrumentIcon__3tk8F\",\"extraPhoneWrapper\":\"createClassroomPopupBody_extraPhoneWrapper__Ke2IJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"occupantCard\":\"occupantInfo_occupantCard__WDgWV\",\"cards\":\"occupantInfo_cards__3scJ5\",\"occupantType\":\"occupantInfo_occupantType__L1w3N\",\"icon\":\"occupantInfo_icon__2ZVID\",\"occupantName\":\"occupantInfo_occupantName__3vabV\",\"occupiedUntil\":\"occupantInfo_occupiedUntil__tnO4o\",\"state\":\"occupantInfo_state__gwDY2\",\"keyHolderStatus\":\"occupantInfo_keyHolderStatus__38wi4\",\"controlButtons\":\"occupantInfo_controlButtons__2FeHe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"registry_wrapper__cj-Xu\",\"buttons\":\"registry_buttons__fbm2i\",\"container\":\"registry_container__1Li63\",\"listHeader\":\"registry_listHeader__1jFiO\",\"unit\":\"registry_unit__3Bamu\",\"active\":\"registry_active__3ik9M\",\"noItemsText\":\"registry_noItemsText__1K2DC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scheduleRow\":\"scheduleUnit_scheduleRow__495IU\",\"scheduleSubRow\":\"scheduleUnit_scheduleSubRow__31GgS\",\"unitTime\":\"scheduleUnit_unitTime__1Gd4d\",\"scheduleRowWrapper\":\"scheduleUnit_scheduleRowWrapper__109z9\",\"listsContainer\":\"scheduleUnit_listsContainer__NYtK3\",\"absoluteWrapper\":\"scheduleUnit_absoluteWrapper__Gr9MO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"scheduleAdmin_wrapper__DZidl\",\"days\":\"scheduleAdmin_days__1XnQs\",\"classroomListItemContainer\":\"scheduleAdmin_classroomListItemContainer__23pMx\",\"classroomListItem\":\"scheduleAdmin_classroomListItem__L8yKK\",\"classroomListItemMark\":\"scheduleAdmin_classroomListItemMark__3TuOm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"schedule_wrapper__eHCpz\",\"row\":\"schedule_row__2DNr9\",\"className\":\"schedule_className__19E60\",\"scheduleHeader\":\"schedule_scheduleHeader__3Qbq9\",\"space\":\"schedule_space__41ohm\",\"timeline\":\"schedule_timeline__2heJB\",\"scheduleUnits\":\"schedule_scheduleUnits__GI7An\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"customInput\":\"customInput_customInput__1nTs1\",\"customInputLight\":\"customInput_customInputLight__5vGq7\",\"customInputDark\":\"customInput_customInputDark__3hNfi\",\"customLabel\":\"customInput_customLabel__1Yu7r\",\"light\":\"customInput_light__QNhhA\",\"dark\":\"customInput_dark___VR13\",\"eye\":\"customInput_eye__e9-56\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"adminClassrooms_wrapper__3zAtD\",\"list\":\"adminClassrooms_list__znKXJ\",\"listHeader\":\"adminClassrooms_listHeader__5LtG5\",\"centerText\":\"adminClassrooms_centerText__1TKch\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flexColumnAndRow\":\"instruments_flexColumnAndRow__35E7H\",\"flexRow\":\"instruments_flexRow__vbSIn\",\"instrumentsList\":\"instruments_instrumentsList__2CBVy\",\"instrumentIcon\":\"instruments_instrumentIcon__2mOv9\",\"instrumentItem\":\"instruments_instrumentItem__3ySFZ\",\"star\":\"instruments_star__3Bhj6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"centerText\":\"adminDepartments_centerText__12stP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userType\":\"users_userType__2jHEE\",\"centerText\":\"users_centerText__25YGb\",\"unverified\":\"users_unverified__3Rz-q\",\"sanctioned\":\"users_sanctioned__2GG89\",\"cancelSanctionFooter\":\"users_cancelSanctionFooter__2IHTw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"dataList_container__3ehoA\",\"list\":\"dataList_list__1TpVz\",\"headerRow\":\"dataList_headerRow__1g__n\",\"row\":\"dataList_row__2F3xp\",\"emptyResult\":\"dataList_emptyResult__TToqK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alignText\":\"adminInstruments_alignText__2ygXU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"login_container__2wyBj\",\"loginContainer\":\"login_loginContainer__2c5Fg\",\"loginTip\":\"login_loginTip__WmQ6N\",\"gradient\":\"login_gradient__1PB6f\",\"loginForm\":\"login_loginForm__1OESp\",\"loginButtons\":\"login_loginButtons__1E76D\",\"loginFooter\":\"login_loginFooter__2XF6s\"};"],"sourceRoot":""}